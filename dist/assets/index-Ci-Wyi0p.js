(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function ch(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rx={exports:{}},ml={};var zb;function N4(){if(zb)return ml;zb=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(i,c,d){var u=null;if(d!==void 0&&(u=""+d),c.key!==void 0&&(u=""+c.key),"key"in c){d={};for(var f in c)f!=="key"&&(d[f]=c[f])}else d=c;return c=d.ref,{$$typeof:a,type:i,key:u,ref:c!==void 0?c:null,props:d}}return ml.Fragment=n,ml.jsx=o,ml.jsxs=o,ml}var Ob;function w4(){return Ob||(Ob=1,Rx.exports=N4()),Rx.exports}var e=w4(),Mx={exports:{}},ht={};var Bb;function S4(){if(Bb)return ht;Bb=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function M(P,Y,he){this.props=P,this.context=Y,this.refs=N,this.updater=he||w}M.prototype.isReactComponent={},M.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function _(){}_.prototype=M.prototype;function O(P,Y,he){this.props=P,this.context=Y,this.refs=N,this.updater=he||w}var D=O.prototype=new _;D.constructor=O,S(D,M.prototype),D.isPureReactComponent=!0;var k=Array.isArray;function E(){}var B={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function Q(P,Y,he){var Se=he.ref;return{$$typeof:a,type:P,key:Y,ref:Se!==void 0?Se:null,props:he}}function se(P,Y){return Q(P.type,Y,P.props)}function J(P){return typeof P=="object"&&P!==null&&P.$$typeof===a}function I(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return Y[he]})}var te=/\/+/g;function ie(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):Y.toString(36)}function de(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(E,E):(P.status="pending",P.then(function(Y){P.status==="pending"&&(P.status="fulfilled",P.value=Y)},function(Y){P.status==="pending"&&(P.status="rejected",P.reason=Y)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function L(P,Y,he,Se,Ve){var Ze=typeof P;(Ze==="undefined"||Ze==="boolean")&&(P=null);var H=!1;if(P===null)H=!0;else switch(Ze){case"bigint":case"string":case"number":H=!0;break;case"object":switch(P.$$typeof){case a:case n:H=!0;break;case b:return H=P._init,L(H(P._payload),Y,he,Se,Ve)}}if(H)return Ve=Ve(P),H=Se===""?"."+ie(P,0):Se,k(Ve)?(he="",H!=null&&(he=H.replace(te,"$&/")+"/"),L(Ve,Y,he,"",function(me){return me})):Ve!=null&&(J(Ve)&&(Ve=se(Ve,he+(Ve.key==null||P&&P.key===Ve.key?"":(""+Ve.key).replace(te,"$&/")+"/")+H)),Y.push(Ve)),1;H=0;var R=Se===""?".":Se+":";if(k(P))for(var fe=0;fe<P.length;fe++)Se=P[fe],Ze=R+ie(Se,fe),H+=L(Se,Y,he,Ze,Ve);else if(fe=A(P),typeof fe=="function")for(P=fe.call(P),fe=0;!(Se=P.next()).done;)Se=Se.value,Ze=R+ie(Se,fe++),H+=L(Se,Y,he,Ze,Ve);else if(Ze==="object"){if(typeof P.then=="function")return L(de(P),Y,he,Se,Ve);throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return H}function ee(P,Y,he){if(P==null)return P;var Se=[],Ve=0;return L(P,Se,"","",function(Ze){return Y.call(he,Ze,Ve++)}),Se}function Z(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var oe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ce={map:ee,forEach:function(P,Y,he){ee(P,function(){Y.apply(this,arguments)},he)},count:function(P){var Y=0;return ee(P,function(){Y++}),Y},toArray:function(P){return ee(P,function(Y){return Y})||[]},only:function(P){if(!J(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ht.Activity=g,ht.Children=ce,ht.Component=M,ht.Fragment=o,ht.Profiler=c,ht.PureComponent=O,ht.StrictMode=i,ht.Suspense=p,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ht.__COMPILER_RUNTIME={__proto__:null,c:function(P){return B.H.useMemoCache(P)}},ht.cache=function(P){return function(){return P.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(P,Y,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Se=S({},P.props),Ve=P.key;if(Y!=null)for(Ze in Y.key!==void 0&&(Ve=""+Y.key),Y)!q.call(Y,Ze)||Ze==="key"||Ze==="__self"||Ze==="__source"||Ze==="ref"&&Y.ref===void 0||(Se[Ze]=Y[Ze]);var Ze=arguments.length-2;if(Ze===1)Se.children=he;else if(1<Ze){for(var H=Array(Ze),R=0;R<Ze;R++)H[R]=arguments[R+2];Se.children=H}return Q(P.type,Ve,Se)},ht.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:d,_context:P},P},ht.createElement=function(P,Y,he){var Se,Ve={},Ze=null;if(Y!=null)for(Se in Y.key!==void 0&&(Ze=""+Y.key),Y)q.call(Y,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ve[Se]=Y[Se]);var H=arguments.length-2;if(H===1)Ve.children=he;else if(1<H){for(var R=Array(H),fe=0;fe<H;fe++)R[fe]=arguments[fe+2];Ve.children=R}if(P&&P.defaultProps)for(Se in H=P.defaultProps,H)Ve[Se]===void 0&&(Ve[Se]=H[Se]);return Q(P,Ze,Ve)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(P){return{$$typeof:f,render:P}},ht.isValidElement=J,ht.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:Z}},ht.memo=function(P,Y){return{$$typeof:h,type:P,compare:Y===void 0?null:Y}},ht.startTransition=function(P){var Y=B.T,he={};B.T=he;try{var Se=P(),Ve=B.S;Ve!==null&&Ve(he,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(E,oe)}catch(Ze){oe(Ze)}finally{Y!==null&&he.types!==null&&(Y.types=he.types),B.T=Y}},ht.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ht.use=function(P){return B.H.use(P)},ht.useActionState=function(P,Y,he){return B.H.useActionState(P,Y,he)},ht.useCallback=function(P,Y){return B.H.useCallback(P,Y)},ht.useContext=function(P){return B.H.useContext(P)},ht.useDebugValue=function(){},ht.useDeferredValue=function(P,Y){return B.H.useDeferredValue(P,Y)},ht.useEffect=function(P,Y){return B.H.useEffect(P,Y)},ht.useEffectEvent=function(P){return B.H.useEffectEvent(P)},ht.useId=function(){return B.H.useId()},ht.useImperativeHandle=function(P,Y,he){return B.H.useImperativeHandle(P,Y,he)},ht.useInsertionEffect=function(P,Y){return B.H.useInsertionEffect(P,Y)},ht.useLayoutEffect=function(P,Y){return B.H.useLayoutEffect(P,Y)},ht.useMemo=function(P,Y){return B.H.useMemo(P,Y)},ht.useOptimistic=function(P,Y){return B.H.useOptimistic(P,Y)},ht.useReducer=function(P,Y,he){return B.H.useReducer(P,Y,he)},ht.useRef=function(P){return B.H.useRef(P)},ht.useState=function(P){return B.H.useState(P)},ht.useSyncExternalStore=function(P,Y,he){return B.H.useSyncExternalStore(P,Y,he)},ht.useTransition=function(){return B.H.useTransition()},ht.version="19.2.1",ht}var Lb;function Vl(){return Lb||(Lb=1,Mx.exports=S4()),Mx.exports}var y=Vl();const jj=ch(y);var Px={exports:{}},xl={},Dx={exports:{}},kx={};var Ib;function C4(){return Ib||(Ib=1,(function(a){function n(L,ee){var Z=L.length;L.push(ee);e:for(;0<Z;){var oe=Z-1>>>1,ce=L[oe];if(0<c(ce,ee))L[oe]=ee,L[Z]=ce,Z=oe;else break e}}function o(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var ee=L[0],Z=L.pop();if(Z!==ee){L[0]=Z;e:for(var oe=0,ce=L.length,P=ce>>>1;oe<P;){var Y=2*(oe+1)-1,he=L[Y],Se=Y+1,Ve=L[Se];if(0>c(he,Z))Se<ce&&0>c(Ve,he)?(L[oe]=Ve,L[Se]=Z,oe=Se):(L[oe]=he,L[Y]=Z,oe=Y);else if(Se<ce&&0>c(Ve,Z))L[oe]=Ve,L[Se]=Z,oe=Se;else break e}}return ee}function c(L,ee){var Z=L.sortIndex-ee.sortIndex;return Z!==0?Z:L.id-ee.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var u=Date,f=u.now();a.unstable_now=function(){return u.now()-f}}var p=[],h=[],b=1,g=null,v=3,A=!1,w=!1,S=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var ee=o(h);ee!==null;){if(ee.callback===null)i(h);else if(ee.startTime<=L)i(h),ee.sortIndex=ee.expirationTime,n(p,ee);else break;ee=o(h)}}function k(L){if(S=!1,D(L),!w)if(o(p)!==null)w=!0,E||(E=!0,I());else{var ee=o(h);ee!==null&&de(k,ee.startTime-L)}}var E=!1,B=-1,q=5,Q=-1;function se(){return N?!0:!(a.unstable_now()-Q<q)}function J(){if(N=!1,E){var L=a.unstable_now();Q=L;var ee=!0;try{e:{w=!1,S&&(S=!1,_(B),B=-1),A=!0;var Z=v;try{t:{for(D(L),g=o(p);g!==null&&!(g.expirationTime>L&&se());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,v=g.priorityLevel;var ce=oe(g.expirationTime<=L);if(L=a.unstable_now(),typeof ce=="function"){g.callback=ce,D(L),ee=!0;break t}g===o(p)&&i(p),D(L)}else i(p);g=o(p)}if(g!==null)ee=!0;else{var P=o(h);P!==null&&de(k,P.startTime-L),ee=!1}}break e}finally{g=null,v=Z,A=!1}ee=void 0}}finally{ee?I():E=!1}}}var I;if(typeof O=="function")I=function(){O(J)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ie=te.port2;te.port1.onmessage=J,I=function(){ie.postMessage(null)}}else I=function(){M(J,0)};function de(L,ee){B=M(function(){L(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(L){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var Z=v;v=ee;try{return L()}finally{v=Z}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(L,ee){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Z=v;v=L;try{return ee()}finally{v=Z}},a.unstable_scheduleCallback=function(L,ee,Z){var oe=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Z+ce,L={id:b++,callback:ee,priorityLevel:L,startTime:Z,expirationTime:ce,sortIndex:-1},Z>oe?(L.sortIndex=Z,n(h,L),o(p)===null&&L===o(h)&&(S?(_(B),B=-1):S=!0,de(k,Z-oe))):(L.sortIndex=ce,n(p,L),w||A||(w=!0,E||(E=!0,I()))),L},a.unstable_shouldYield=se,a.unstable_wrapCallback=function(L){var ee=v;return function(){var Z=v;v=ee;try{return L.apply(this,arguments)}finally{v=Z}}}})(kx)),kx}var Vb;function A4(){return Vb||(Vb=1,Dx.exports=C4()),Dx.exports}var _x={exports:{}},Ga={};var Ub;function T4(){if(Ub)return Ga;Ub=1;var a=Vl();function n(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,h,b){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:p,containerInfo:h,implementation:b}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ga.createPortal=function(p,h){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(p,h,null,b)},Ga.flushSync=function(p){var h=u.T,b=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=h,i.p=b,i.d.f()}},Ga.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(p,h))},Ga.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Ga.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var b=h.as,g=f(b,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;b==="style"?i.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:A}):b==="script"&&i.d.X(p,{crossOrigin:g,integrity:v,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ga.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var b=f(h.as,h.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(p)},Ga.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var b=h.as,g=f(b,h.crossOrigin);i.d.L(p,b,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ga.preloadModule=function(p,h){if(typeof p=="string")if(h){var b=f(h.as,h.crossOrigin);i.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(p)},Ga.requestFormReset=function(p){i.d.r(p)},Ga.unstable_batchedUpdates=function(p,h){return p(h)},Ga.useFormState=function(p,h,b){return u.H.useFormState(p,h,b)},Ga.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ga.version="19.2.1",Ga}var qb;function E4(){if(qb)return _x.exports;qb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),_x.exports=T4(),_x.exports}var $b;function R4(){if($b)return xl;$b=1;var a=A4(),n=Vl(),o=E4();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(d(t)!==t)throw Error(i(188))}function h(t){var s=t.alternate;if(!s){if(s=d(t),s===null)throw Error(i(188));return s!==t?null:t}for(var r=t,l=s;;){var m=r.return;if(m===null)break;var x=m.alternate;if(x===null){if(l=m.return,l!==null){r=l;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===r)return p(m),t;if(x===l)return p(m),s;x=x.sibling}throw Error(i(188))}if(r.return!==l.return)r=m,l=x;else{for(var j=!1,T=m.child;T;){if(T===r){j=!0,r=m,l=x;break}if(T===l){j=!0,l=m,r=x;break}T=T.sibling}if(!j){for(T=x.child;T;){if(T===r){j=!0,r=x,l=m;break}if(T===l){j=!0,l=x,r=m;break}T=T.sibling}if(!j)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var te=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===te?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case O:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case D:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return s=t.displayName||null,s!==null?s:ie(t.type)||"Memo";case q:s=t._payload,t=t._init;try{return ie(t(s))}catch{}}return null}var de=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},oe=[],ce=-1;function P(t){return{current:t}}function Y(t){0>ce||(t.current=oe[ce],oe[ce]=null,ce--)}function he(t,s){ce++,oe[ce]=t.current,t.current=s}var Se=P(null),Ve=P(null),Ze=P(null),H=P(null);function R(t,s){switch(he(Ze,s),he(Ve,t),he(Se,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?nb(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=nb(s),t=rb(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(Se),he(Se,t)}function fe(){Y(Se),Y(Ve),Y(Ze)}function me(t){t.memoizedState!==null&&he(H,t);var s=Se.current,r=rb(s,t.type);s!==r&&(he(Ve,t),he(Se,r))}function Ee(t){Ve.current===t&&(Y(Se),Y(Ve)),H.current===t&&(Y(H),ll._currentValue=Z)}var at,Ue;function Je(t){if(at===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);at=s&&s[1]||"",Ue=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+t+Ue}var Be=!1;function rt(t,s){if(!t||Be)return"";Be=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(xe){var le=xe}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(xe){le=xe}t.call(Ce.prototype)}}else{try{throw Error()}catch(xe){le=xe}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(xe){if(xe&&le&&typeof xe.stack=="string")return[xe.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),j=x[0],T=x[1];if(j&&T){var $=j.split(`
`),re=T.split(`
`);for(m=l=0;l<$.length&&!$[l].includes("DetermineComponentFrameRoot");)l++;for(;m<re.length&&!re[m].includes("DetermineComponentFrameRoot");)m++;if(l===$.length||m===re.length)for(l=$.length-1,m=re.length-1;1<=l&&0<=m&&$[l]!==re[m];)m--;for(;1<=l&&0<=m;l--,m--)if($[l]!==re[m]){if(l!==1||m!==1)do if(l--,m--,0>m||$[l]!==re[m]){var ye=`
`+$[l].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=l&&0<=m);break}}}finally{Be=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Je(r):""}function ge(t,s){switch(t.tag){case 26:case 27:case 5:return Je(t.type);case 16:return Je("Lazy");case 13:return t.child!==s&&s!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return rt(t.type,!1);case 11:return rt(t.type.render,!1);case 1:return rt(t.type,!0);case 31:return Je("Activity");default:return""}}function yt(t){try{var s="",r=null;do s+=ge(t,r),r=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,ft=a.unstable_scheduleCallback,F=a.unstable_cancelCallback,Oe=a.unstable_shouldYield,ze=a.unstable_requestPaint,U=a.unstable_now,Me=a.unstable_getCurrentPriorityLevel,be=a.unstable_ImmediatePriority,ke=a.unstable_UserBlockingPriority,je=a.unstable_NormalPriority,He=a.unstable_LowPriority,V=a.unstable_IdlePriority,Xe=a.log,dt=a.unstable_setDisableYieldValue,Dt=null,na=null;function qe(t){if(typeof Xe=="function"&&dt(t),na&&typeof na.setStrictMode=="function")try{na.setStrictMode(Dt,t)}catch{}}var C=Math.clz32?Math.clz32:_e,X=Math.log,Re=Math.LN2;function _e(t){return t>>>=0,t===0?32:31-(X(t)/Re|0)|0}var Ye=256,Ae=262144,Ge=4194304;function mt(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function it(t,s,r){var l=t.pendingLanes;if(l===0)return 0;var m=0,x=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~x,l!==0?m=mt(l):(j&=T,j!==0?m=mt(j):r||(r=T&~t,r!==0&&(m=mt(r))))):(T=l&~x,T!==0?m=mt(T):j!==0?m=mt(j):r||(r=l&~t,r!==0&&(m=mt(r)))),m===0?0:s!==0&&s!==m&&(s&x)===0&&(x=m&-m,r=s&-s,x>=r||x===32&&(r&4194048)!==0)?s:m}function ct(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Le(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jt(){var t=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),t}function ka(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function qt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lt(t,s,r,l,m,x){var j=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,$=t.expirationTimes,re=t.hiddenUpdates;for(r=j&~r;0<r;){var ye=31-C(r),Ce=1<<ye;T[ye]=0,$[ye]=-1;var le=re[ye];if(le!==null)for(re[ye]=null,ye=0;ye<le.length;ye++){var xe=le[ye];xe!==null&&(xe.lane&=-536870913)}r&=~Ce}l!==0&&_a(t,l,0),x!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=x&~(j&~s))}function _a(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-C(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Cs(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var l=31-C(r),m=1<<l;m&s|t[l]&s&&(t[l]|=s),r&=~m}}function $n(t,s){var r=s&-s;return r=(r&42)!==0?1:gn(r),(r&(t.suspendedLanes|s))!==0?0:r}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hs(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Eb(t.type))}function ui(t,s){var r=ee.p;try{return ee.p=t,s()}finally{ee.p=r}}var ts=Math.random().toString(36).slice(2),ua="__reactFiber$"+ts,za="__reactProps$"+ts,As="__reactContainer$"+ts,jo="__reactEvents$"+ts,Wl="__reactListeners$"+ts,Su="__reactHandles$"+ts,ec="__reactResources$"+ts,Ar="__reactMarker$"+ts;function No(t){delete t[ua],delete t[za],delete t[jo],delete t[Wl],delete t[Su]}function Fn(t){var s=t[ua];if(s)return s;for(var r=t.parentNode;r;){if(s=r[As]||r[ua]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=mb(t);t!==null;){if(r=t[ua])return r;t=mb(t)}return s}t=r,r=t.parentNode}return null}function Hn(t){if(t=t[ua]||t[As]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Gn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Xn(t){var s=t[ec];return s||(s=t[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function va(t){t[Ar]=!0}var tc=new Set,ac={};function bn(t,s){Yn(t,s),Yn(t+"Capture",s)}function Yn(t,s){for(ac[t]=s,t=0;t<s.length;t++)tc.add(s[t])}var Cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},sc={};function Au(t){return At.call(sc,t)?!0:At.call(wo,t)?!1:Cu.test(t)?sc[t]=!0:(wo[t]=!0,!1)}function mi(t,s,r){if(Au(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function xi(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Gs(t,s,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+l)}}function as(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nc(t,s,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,x=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return m.call(this)},set:function(j){r=""+j,x.call(this,j)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(j){r=""+j},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function So(t){if(!t._valueTracker){var s=fi(t)?"checked":"value";t._valueTracker=nc(t,s,""+t[s])}}function rc(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),l="";return t&&(l=fi(t)?t.checked?"true":"false":t.value),t=l,t!==r?(s.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tu=/[\n"\\]/g;function ca(t){return t.replace(Tu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ss(t,s,r,l,m,x,j,T){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),s!=null?j==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+as(s)):t.value!==""+as(s)&&(t.value=""+as(s)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),s!=null?an(t,j,as(s)):r!=null?an(t,j,as(r)):l!=null&&t.removeAttribute("value"),m==null&&x!=null&&(t.defaultChecked=!!x),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+as(T):t.removeAttribute("name")}function ja(t,s,r,l,m,x,j,T){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),s!=null||r!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){So(t);return}r=r!=null?""+as(r):"",s=s!=null?""+as(s):r,T||s===t.value||(t.value=s),t.defaultValue=s}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j),So(t)}function an(t,s,r){s==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function yn(t,s,r,l){if(t=t.options,s){s={};for(var m=0;m<r.length;m++)s["$"+r[m]]=!0;for(r=0;r<t.length;r++)m=s.hasOwnProperty("$"+t[r].value),t[r].selected!==m&&(t[r].selected=m),m&&l&&(t[r].defaultSelected=!0)}else{for(r=""+as(r),s=null,m=0;m<t.length;m++){if(t[m].value===r){t[m].selected=!0,l&&(t[m].defaultSelected=!0);return}s!==null||t[m].disabled||(s=t[m])}s!==null&&(s.selected=!0)}}function z(t,s,r){if(s!=null&&(s=""+as(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+as(r):""}function W(t,s,r,l){if(s==null){if(l!=null){if(r!=null)throw Error(i(92));if(de(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),s=r}r=as(s),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),So(t)}function pe(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Ie=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $e(t,s,r){var l=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,r):typeof r!="number"||r===0||Ie.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Qe(t,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var m in s)l=s[m],s.hasOwnProperty(m)&&r[m]!==l&&$e(t,m,l)}else for(var x in s)s.hasOwnProperty(x)&&$e(t,x,s[x])}function nt(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(t){return It.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bt(){}var sn=null;function Tr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qn=null,Kn=null;function ic(t){var s=Hn(t);if(s&&(t=s.stateNode)){var r=t[za]||null;e:switch(t=s.stateNode,s.type){case"input":if(ss(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ca(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var l=r[s];if(l!==t&&l.form===t.form){var m=l[za]||null;if(!m)throw Error(i(90));ss(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<r.length;s++)l=r[s],l.form===t.form&&rc(l)}break e;case"textarea":z(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&yn(t,!!r.multiple,s,!1)}}}var Eu=!1;function np(t,s,r){if(Eu)return t(s,r);Eu=!0;try{var l=t(s);return l}finally{if(Eu=!1,(Qn!==null||Kn!==null)&&(Xc(),Qn&&(s=Qn,t=Kn,Kn=Qn=null,ic(s),t)))for(s=0;s<t.length;s++)ic(t[s])}}function Co(t,s){var r=t.stateNode;if(r===null)return null;var l=r[za]||null;if(l===null)return null;r=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ru=!1;if(vn)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Ru=!1}var Jn=null,Mu=null,oc=null;function rp(){if(oc)return oc;var t,s=Mu,r=s.length,l,m="value"in Jn?Jn.value:Jn.textContent,x=m.length;for(t=0;t<r&&s[t]===m[t];t++);var j=r-t;for(l=1;l<=j&&s[r-l]===m[x-l];l++);return oc=m.slice(t,1<l?1-l:void 0)}function lc(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function cc(){return!0}function ip(){return!1}function ns(t){function s(r,l,m,x,j){this._reactName=r,this._targetInst=m,this.type=l,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?cc:ip,this.isPropagationStopped=ip,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),s}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=ns(Er),To=g({},Er,{view:0,detail:0}),v2=ns(To),Pu,Du,Eo,uc=g({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(Pu=t.screenX-Eo.screenX,Du=t.screenY-Eo.screenY):Du=Pu=0,Eo=t),Pu)},movementY:function(t){return"movementY"in t?t.movementY:Du}}),op=ns(uc),j2=g({},uc,{dataTransfer:0}),N2=ns(j2),w2=g({},To,{relatedTarget:0}),ku=ns(w2),S2=g({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=ns(S2),A2=g({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T2=ns(A2),E2=g({},Er,{data:0}),lp=ns(E2),R2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D2(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=P2[t])?!!s[t]:!1}function _u(){return D2}var k2=g({},To,{key:function(t){if(t.key){var s=R2[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_2=ns(k2),z2=g({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=ns(z2),O2=g({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),B2=ns(O2),L2=g({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=ns(L2),V2=g({},uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U2=ns(V2),q2=g({},Er,{newState:0,oldState:0}),$2=ns(q2),F2=[9,13,27,32],zu=vn&&"CompositionEvent"in window,Ro=null;vn&&"documentMode"in document&&(Ro=document.documentMode);var H2=vn&&"TextEvent"in window&&!Ro,dp=vn&&(!zu||Ro&&8<Ro&&11>=Ro),up=" ",mp=!1;function xp(t,s){switch(t){case"keyup":return F2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function G2(t,s){switch(t){case"compositionend":return fp(s);case"keypress":return s.which!==32?null:(mp=!0,up);case"textInput":return t=s.data,t===up&&mp?null:t;default:return null}}function X2(t,s){if(pi)return t==="compositionend"||!zu&&xp(t,s)?(t=rp(),oc=Mu=Jn=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dp&&s.locale!=="ko"?null:s.data;default:return null}}var Y2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Y2[t.type]:s==="textarea"}function pp(t,s,r,l){Qn?Kn?Kn.push(l):Kn=[l]:Qn=l,s=ed(s,"onChange"),0<s.length&&(r=new dc("onChange","change",null,r,l),t.push({event:r,listeners:s}))}var Mo=null,Po=null;function Q2(t){Zg(t,0)}function mc(t){var s=Gn(t);if(rc(s))return t}function gp(t,s){if(t==="change")return s}var bp=!1;if(vn){var Ou;if(vn){var Bu="oninput"in document;if(!Bu){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Bu=typeof yp.oninput=="function"}Ou=Bu}else Ou=!1;bp=Ou&&(!document.documentMode||9<document.documentMode)}function vp(){Mo&&(Mo.detachEvent("onpropertychange",jp),Po=Mo=null)}function jp(t){if(t.propertyName==="value"&&mc(Po)){var s=[];pp(s,Po,t,Tr(t)),np(Q2,s)}}function K2(t,s,r){t==="focusin"?(vp(),Mo=s,Po=r,Mo.attachEvent("onpropertychange",jp)):t==="focusout"&&vp()}function J2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mc(Po)}function Z2(t,s){if(t==="click")return mc(s)}function W2(t,s){if(t==="input"||t==="change")return mc(s)}function ew(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var xs=typeof Object.is=="function"?Object.is:ew;function Do(t,s){if(xs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),l=Object.keys(s);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var m=r[l];if(!At.call(s,m)||!xs(t[m],s[m]))return!1}return!0}function Np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,s){var r=Np(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=s&&l>=s)return{node:r,offset:s-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Np(r)}}function Sp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Sp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Cp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=hi(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=hi(t.document)}return s}function Lu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var tw=vn&&"documentMode"in document&&11>=document.documentMode,gi=null,Iu=null,ko=null,Vu=!1;function Ap(t,s,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vu||gi==null||gi!==hi(l)||(l=gi,"selectionStart"in l&&Lu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Do(ko,l)||(ko=l,l=ed(Iu,"onSelect"),0<l.length&&(s=new dc("onSelect","select",null,s,r),t.push({event:s,listeners:l}),s.target=gi)))}function Rr(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var bi={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Uu={},Tp={};vn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Mr(t){if(Uu[t])return Uu[t];if(!bi[t])return t;var s=bi[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Tp)return Uu[t]=s[r];return t}var Ep=Mr("animationend"),Rp=Mr("animationiteration"),Mp=Mr("animationstart"),aw=Mr("transitionrun"),sw=Mr("transitionstart"),nw=Mr("transitioncancel"),Pp=Mr("transitionend"),Dp=new Map,qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qu.push("scrollEnd");function Xs(t,s){Dp.set(t,s),bn(s,[t])}var xc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ts=[],yi=0,$u=0;function fc(){for(var t=yi,s=$u=yi=0;s<t;){var r=Ts[s];Ts[s++]=null;var l=Ts[s];Ts[s++]=null;var m=Ts[s];Ts[s++]=null;var x=Ts[s];if(Ts[s++]=null,l!==null&&m!==null){var j=l.pending;j===null?m.next=m:(m.next=j.next,j.next=m),l.pending=m}x!==0&&kp(r,m,x)}}function hc(t,s,r,l){Ts[yi++]=t,Ts[yi++]=s,Ts[yi++]=r,Ts[yi++]=l,$u|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fu(t,s,r,l){return hc(t,s,r,l),pc(t)}function Pr(t,s){return hc(t,null,null,s),pc(t)}function kp(t,s,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var m=!1,x=t.return;x!==null;)x.childLanes|=r,l=x.alternate,l!==null&&(l.childLanes|=r),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(m=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,m&&s!==null&&(m=31-C(r),t=x.hiddenUpdates,l=t[m],l===null?t[m]=[s]:l.push(s),s.lane=r|536870912),x):null}function pc(t){if(50<tl)throw tl=0,Wm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var vi={};function rw(t,s,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(t,s,r,l){return new rw(t,s,r,l)}function Hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,s){var r=t.alternate;return r===null?(r=fs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function _p(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function gc(t,s,r,l,m,x){var j=0;if(l=t,typeof t=="function")Hu(t)&&(j=1);else if(typeof t=="string")j=d4(t,r,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=fs(31,r,s,m),t.elementType=Q,t.lanes=x,t;case S:return Dr(r.children,m,x,s);case N:j=8,m|=24;break;case M:return t=fs(12,r,s,m|2),t.elementType=M,t.lanes=x,t;case k:return t=fs(13,r,s,m),t.elementType=k,t.lanes=x,t;case E:return t=fs(19,r,s,m),t.elementType=E,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:j=10;break e;case _:j=9;break e;case D:j=11;break e;case B:j=14;break e;case q:j=16,l=null;break e}j=29,r=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=fs(j,r,s,m),s.elementType=t,s.type=l,s.lanes=x,s}function Dr(t,s,r,l){return t=fs(7,t,l,s),t.lanes=r,t}function Gu(t,s,r){return t=fs(6,t,null,s),t.lanes=r,t}function zp(t){var s=fs(18,null,null,0);return s.stateNode=t,s}function Xu(t,s,r){return s=fs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Op=new WeakMap;function Es(t,s){if(typeof t=="object"&&t!==null){var r=Op.get(t);return r!==void 0?r:(s={value:t,source:s,stack:yt(s)},Op.set(t,s),s)}return{value:t,source:s,stack:yt(s)}}var ji=[],Ni=0,bc=null,_o=0,Rs=[],Ms=0,Zn=null,nn=1,rn="";function Nn(t,s){ji[Ni++]=_o,ji[Ni++]=bc,bc=t,_o=s}function Bp(t,s,r){Rs[Ms++]=nn,Rs[Ms++]=rn,Rs[Ms++]=Zn,Zn=t;var l=nn;t=rn;var m=32-C(l)-1;l&=~(1<<m),r+=1;var x=32-C(s)+m;if(30<x){var j=m-m%5;x=(l&(1<<j)-1).toString(32),l>>=j,m-=j,nn=1<<32-C(s)+m|r<<m|l,rn=x+t}else nn=1<<x|r<<m|l,rn=t}function Yu(t){t.return!==null&&(Nn(t,1),Bp(t,1,0))}function Qu(t){for(;t===bc;)bc=ji[--Ni],ji[Ni]=null,_o=ji[--Ni],ji[Ni]=null;for(;t===Zn;)Zn=Rs[--Ms],Rs[Ms]=null,rn=Rs[--Ms],Rs[Ms]=null,nn=Rs[--Ms],Rs[Ms]=null}function Lp(t,s){Rs[Ms++]=nn,Rs[Ms++]=rn,Rs[Ms++]=Zn,nn=s.id,rn=s.overflow,Zn=t}var Ia=null,ea=null,Rt=!1,Wn=null,Ps=!1,Ku=Error(i(519));function er(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Es(s,t)),Ku}function Ip(t){var s=t.stateNode,r=t.type,l=t.memoizedProps;switch(s[ua]=t,s[za]=l,r){case"dialog":St("cancel",s),St("close",s);break;case"iframe":case"object":case"embed":St("load",s);break;case"video":case"audio":for(r=0;r<sl.length;r++)St(sl[r],s);break;case"source":St("error",s);break;case"img":case"image":case"link":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"input":St("invalid",s),ja(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":St("invalid",s);break;case"textarea":St("invalid",s),W(s,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||l.suppressHydrationWarning===!0||ab(s.textContent,r)?(l.popover!=null&&(St("beforetoggle",s),St("toggle",s)),l.onScroll!=null&&St("scroll",s),l.onScrollEnd!=null&&St("scrollend",s),l.onClick!=null&&(s.onclick=Bt),s=!0):s=!1,s||er(t,!0)}function Vp(t){for(Ia=t.return;Ia;)switch(Ia.tag){case 5:case 31:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:Ia=Ia.return}}function wi(t){if(t!==Ia)return!1;if(!Rt)return Vp(t),Rt=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||fx(t.type,t.memoizedProps)),r=!r),r&&ea&&er(t),Vp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ea=ub(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ea=ub(t)}else s===27?(s=ea,fr(t.type)?(t=yx,yx=null,ea=t):ea=s):ea=Ia?ks(t.stateNode.nextSibling):null;return!0}function kr(){ea=Ia=null,Rt=!1}function Ju(){var t=Wn;return t!==null&&(ls===null?ls=t:ls.push.apply(ls,t),Wn=null),t}function zo(t){Wn===null?Wn=[t]:Wn.push(t)}var Zu=P(null),_r=null,wn=null;function tr(t,s,r){he(Zu,s._currentValue),s._currentValue=r}function Sn(t){t._currentValue=Zu.current,Y(Zu)}function Wu(t,s,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===r)break;t=t.return}}function em(t,s,r,l){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var x=m.dependencies;if(x!==null){var j=m.child;x=x.firstContext;e:for(;x!==null;){var T=x;x=m;for(var $=0;$<s.length;$++)if(T.context===s[$]){x.lanes|=r,T=x.alternate,T!==null&&(T.lanes|=r),Wu(x.return,r,t),l||(j=null);break e}x=T.next}}else if(m.tag===18){if(j=m.return,j===null)throw Error(i(341));j.lanes|=r,x=j.alternate,x!==null&&(x.lanes|=r),Wu(j,r,t),j=null}else j=m.child;if(j!==null)j.return=m;else for(j=m;j!==null;){if(j===t){j=null;break}if(m=j.sibling,m!==null){m.return=j.return,j=m;break}j=j.return}m=j}}function Si(t,s,r,l){t=null;for(var m=s,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var j=m.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var T=m.type;xs(m.pendingProps.value,j.value)||(t!==null?t.push(T):t=[T])}}else if(m===H.current){if(j=m.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}m=m.return}t!==null&&em(s,t,r,l),s.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!xs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){_r=t,wn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Va(t){return Up(_r,t)}function vc(t,s){return _r===null&&zr(t),Up(t,s)}function Up(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},wn===null){if(t===null)throw Error(i(308));wn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else wn=wn.next=s;return r}var iw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},ow=a.unstable_scheduleCallback,lw=a.unstable_NormalPriority,Na={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new iw,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&ow(lw,function(){t.controller.abort()})}var Bo=null,am=0,Ci=0,Ai=null;function cw(t,s){if(Bo===null){var r=Bo=[];am=0,Ci=rx(),Ai={status:"pending",value:void 0,then:function(l){r.push(l)}}}return am++,s.then(qp,qp),s}function qp(){if(--am===0&&Bo!==null){Ai!==null&&(Ai.status="fulfilled");var t=Bo;Bo=null,Ci=0,Ai=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function dw(t,s){var r=[],l={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var m=0;m<r.length;m++)(0,r[m])(s)},function(m){for(l.status="rejected",l.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),l}var $p=L.S;L.S=function(t,s){Ag=U(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cw(t,s),$p!==null&&$p(t,s)};var Or=P(null);function sm(){var t=Or.current;return t!==null?t:Qt.pooledCache}function jc(t,s){s===null?he(Or,Or.current):he(Or,s.pool)}function Fp(){var t=sm();return t===null?null:{parent:Na._currentValue,pool:t}}var Ti=Error(i(460)),nm=Error(i(474)),Nc=Error(i(542)),wc={then:function(){}};function Hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gp(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(Bt,Bt),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Yp(t),t;default:if(typeof s.status=="string")s.then(Bt,Bt);else{if(t=Qt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=l}},function(l){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Yp(t),t}throw Lr=s,Ti}}function Br(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Lr=r,Ti):r}}var Lr=null;function Xp(){if(Lr===null)throw Error(i(459));var t=Lr;return Lr=null,t}function Yp(t){if(t===Ti||t===Nc)throw Error(i(483))}var Ei=null,Lo=0;function Sc(t){var s=Lo;return Lo+=1,Ei===null&&(Ei=[]),Gp(Ei,t,s)}function Io(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Cc(t,s){throw s.$$typeof===v?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Qp(t){function s(K,G){if(t){var ne=K.deletions;ne===null?(K.deletions=[G],K.flags|=16):ne.push(G)}}function r(K,G){if(!t)return null;for(;G!==null;)s(K,G),G=G.sibling;return null}function l(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=jn(K,G),K.index=0,K.sibling=null,K}function x(K,G,ne){return K.index=ne,t?(ne=K.alternate,ne!==null?(ne=ne.index,ne<G?(K.flags|=67108866,G):ne):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function j(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function T(K,G,ne,Ne){return G===null||G.tag!==6?(G=Gu(ne,K.mode,Ne),G.return=K,G):(G=m(G,ne),G.return=K,G)}function $(K,G,ne,Ne){var lt=ne.type;return lt===S?ye(K,G,ne.props.children,Ne,ne.key):G!==null&&(G.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===q&&Br(lt)===G.type)?(G=m(G,ne.props),Io(G,ne),G.return=K,G):(G=gc(ne.type,ne.key,ne.props,null,K.mode,Ne),Io(G,ne),G.return=K,G)}function re(K,G,ne,Ne){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=Xu(ne,K.mode,Ne),G.return=K,G):(G=m(G,ne.children||[]),G.return=K,G)}function ye(K,G,ne,Ne,lt){return G===null||G.tag!==7?(G=Dr(ne,K.mode,Ne,lt),G.return=K,G):(G=m(G,ne),G.return=K,G)}function Ce(K,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Gu(""+G,K.mode,ne),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return ne=gc(G.type,G.key,G.props,null,K.mode,ne),Io(ne,G),ne.return=K,ne;case w:return G=Xu(G,K.mode,ne),G.return=K,G;case q:return G=Br(G),Ce(K,G,ne)}if(de(G)||I(G))return G=Dr(G,K.mode,ne,null),G.return=K,G;if(typeof G.then=="function")return Ce(K,Sc(G),ne);if(G.$$typeof===O)return Ce(K,vc(K,G),ne);Cc(K,G)}return null}function le(K,G,ne,Ne){var lt=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return lt!==null?null:T(K,G,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===lt?$(K,G,ne,Ne):null;case w:return ne.key===lt?re(K,G,ne,Ne):null;case q:return ne=Br(ne),le(K,G,ne,Ne)}if(de(ne)||I(ne))return lt!==null?null:ye(K,G,ne,Ne,null);if(typeof ne.then=="function")return le(K,G,Sc(ne),Ne);if(ne.$$typeof===O)return le(K,G,vc(K,ne),Ne);Cc(K,ne)}return null}function xe(K,G,ne,Ne,lt){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return K=K.get(ne)||null,T(G,K,""+Ne,lt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case A:return K=K.get(Ne.key===null?ne:Ne.key)||null,$(G,K,Ne,lt);case w:return K=K.get(Ne.key===null?ne:Ne.key)||null,re(G,K,Ne,lt);case q:return Ne=Br(Ne),xe(K,G,ne,Ne,lt)}if(de(Ne)||I(Ne))return K=K.get(ne)||null,ye(G,K,Ne,lt,null);if(typeof Ne.then=="function")return xe(K,G,ne,Sc(Ne),lt);if(Ne.$$typeof===O)return xe(K,G,ne,vc(G,Ne),lt);Cc(G,Ne)}return null}function We(K,G,ne,Ne){for(var lt=null,_t=null,st=G,bt=G=0,Et=null;st!==null&&bt<ne.length;bt++){st.index>bt?(Et=st,st=null):Et=st.sibling;var zt=le(K,st,ne[bt],Ne);if(zt===null){st===null&&(st=Et);break}t&&st&&zt.alternate===null&&s(K,st),G=x(zt,G,bt),_t===null?lt=zt:_t.sibling=zt,_t=zt,st=Et}if(bt===ne.length)return r(K,st),Rt&&Nn(K,bt),lt;if(st===null){for(;bt<ne.length;bt++)st=Ce(K,ne[bt],Ne),st!==null&&(G=x(st,G,bt),_t===null?lt=st:_t.sibling=st,_t=st);return Rt&&Nn(K,bt),lt}for(st=l(st);bt<ne.length;bt++)Et=xe(st,K,bt,ne[bt],Ne),Et!==null&&(t&&Et.alternate!==null&&st.delete(Et.key===null?bt:Et.key),G=x(Et,G,bt),_t===null?lt=Et:_t.sibling=Et,_t=Et);return t&&st.forEach(function(yr){return s(K,yr)}),Rt&&Nn(K,bt),lt}function ut(K,G,ne,Ne){if(ne==null)throw Error(i(151));for(var lt=null,_t=null,st=G,bt=G=0,Et=null,zt=ne.next();st!==null&&!zt.done;bt++,zt=ne.next()){st.index>bt?(Et=st,st=null):Et=st.sibling;var yr=le(K,st,zt.value,Ne);if(yr===null){st===null&&(st=Et);break}t&&st&&yr.alternate===null&&s(K,st),G=x(yr,G,bt),_t===null?lt=yr:_t.sibling=yr,_t=yr,st=Et}if(zt.done)return r(K,st),Rt&&Nn(K,bt),lt;if(st===null){for(;!zt.done;bt++,zt=ne.next())zt=Ce(K,zt.value,Ne),zt!==null&&(G=x(zt,G,bt),_t===null?lt=zt:_t.sibling=zt,_t=zt);return Rt&&Nn(K,bt),lt}for(st=l(st);!zt.done;bt++,zt=ne.next())zt=xe(st,K,bt,zt.value,Ne),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?bt:zt.key),G=x(zt,G,bt),_t===null?lt=zt:_t.sibling=zt,_t=zt);return t&&st.forEach(function(j4){return s(K,j4)}),Rt&&Nn(K,bt),lt}function Ht(K,G,ne,Ne){if(typeof ne=="object"&&ne!==null&&ne.type===S&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var lt=ne.key;G!==null;){if(G.key===lt){if(lt=ne.type,lt===S){if(G.tag===7){r(K,G.sibling),Ne=m(G,ne.props.children),Ne.return=K,K=Ne;break e}}else if(G.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===q&&Br(lt)===G.type){r(K,G.sibling),Ne=m(G,ne.props),Io(Ne,ne),Ne.return=K,K=Ne;break e}r(K,G);break}else s(K,G);G=G.sibling}ne.type===S?(Ne=Dr(ne.props.children,K.mode,Ne,ne.key),Ne.return=K,K=Ne):(Ne=gc(ne.type,ne.key,ne.props,null,K.mode,Ne),Io(Ne,ne),Ne.return=K,K=Ne)}return j(K);case w:e:{for(lt=ne.key;G!==null;){if(G.key===lt)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){r(K,G.sibling),Ne=m(G,ne.children||[]),Ne.return=K,K=Ne;break e}else{r(K,G);break}else s(K,G);G=G.sibling}Ne=Xu(ne,K.mode,Ne),Ne.return=K,K=Ne}return j(K);case q:return ne=Br(ne),Ht(K,G,ne,Ne)}if(de(ne))return We(K,G,ne,Ne);if(I(ne)){if(lt=I(ne),typeof lt!="function")throw Error(i(150));return ne=lt.call(ne),ut(K,G,ne,Ne)}if(typeof ne.then=="function")return Ht(K,G,Sc(ne),Ne);if(ne.$$typeof===O)return Ht(K,G,vc(K,ne),Ne);Cc(K,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,G!==null&&G.tag===6?(r(K,G.sibling),Ne=m(G,ne),Ne.return=K,K=Ne):(r(K,G),Ne=Gu(ne,K.mode,Ne),Ne.return=K,K=Ne),j(K)):r(K,G)}return function(K,G,ne,Ne){try{Lo=0;var lt=Ht(K,G,ne,Ne);return Ei=null,lt}catch(st){if(st===Ti||st===Nc)throw st;var _t=fs(29,st,null,K.mode);return _t.lanes=Ne,_t.return=K,_t}finally{}}}var Ir=Qp(!0),Kp=Qp(!1),ar=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,s,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ot&2)!==0){var m=l.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),l.pending=s,s=pc(t),kp(t,null,r),s}return hc(t,l,s,r),pc(t)}function Vo(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Cs(t,r)}}function om(t,s){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var m=null,x=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};x===null?m=x=j:x=x.next=j,r=r.next}while(r!==null);x===null?m=x=s:x=x.next=s}else m=x=s;r={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var lm=!1;function Uo(){if(lm){var t=Ai;if(t!==null)throw t}}function qo(t,s,r,l){lm=!1;var m=t.updateQueue;ar=!1;var x=m.firstBaseUpdate,j=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var $=T,re=$.next;$.next=null,j===null?x=re:j.next=re,j=$;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,T=ye.lastBaseUpdate,T!==j&&(T===null?ye.firstBaseUpdate=re:T.next=re,ye.lastBaseUpdate=$))}if(x!==null){var Ce=m.baseState;j=0,ye=re=$=null,T=x;do{var le=T.lane&-536870913,xe=le!==T.lane;if(xe?(Tt&le)===le:(l&le)===le){le!==0&&le===Ci&&(lm=!0),ye!==null&&(ye=ye.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var We=t,ut=T;le=s;var Ht=r;switch(ut.tag){case 1:if(We=ut.payload,typeof We=="function"){Ce=We.call(Ht,Ce,le);break e}Ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=ut.payload,le=typeof We=="function"?We.call(Ht,Ce,le):We,le==null)break e;Ce=g({},Ce,le);break e;case 2:ar=!0}}le=T.callback,le!==null&&(t.flags|=64,xe&&(t.flags|=8192),xe=m.callbacks,xe===null?m.callbacks=[le]:xe.push(le))}else xe={lane:le,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ye===null?(re=ye=xe,$=Ce):ye=ye.next=xe,j|=le;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;xe=T,T=xe.next,xe.next=null,m.lastBaseUpdate=xe,m.shared.pending=null}}while(!0);ye===null&&($=Ce),m.baseState=$,m.firstBaseUpdate=re,m.lastBaseUpdate=ye,x===null&&(m.shared.lanes=0),cr|=j,t.lanes=j,t.memoizedState=Ce}}function Jp(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Zp(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Jp(r[t],s)}var Ri=P(null),Ac=P(0);function Wp(t,s){t=kn,he(Ac,t),he(Ri,s),kn=t|s.baseLanes}function cm(){he(Ac,kn),he(Ri,Ri.current)}function dm(){kn=Ac.current,Y(Ri),Y(Ac)}var hs=P(null),Ds=null;function rr(t){var s=t.alternate;he(ha,ha.current&1),he(hs,t),Ds===null&&(s===null||Ri.current!==null||s.memoizedState!==null)&&(Ds=t)}function um(t){he(ha,ha.current),he(hs,t),Ds===null&&(Ds=t)}function e0(t){t.tag===22?(he(ha,ha.current),he(hs,t),Ds===null&&(Ds=t)):ir()}function ir(){he(ha,ha.current),he(hs,hs.current)}function ps(t){Y(hs),Ds===t&&(Ds=null),Y(ha)}var ha=P(0);function Tc(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gx(r)||bx(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cn=0,pt=null,$t=null,wa=null,Ec=!1,Mi=!1,Vr=!1,Rc=0,$o=0,Pi=null,uw=0;function ma(){throw Error(i(321))}function mm(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!xs(t[r],s[r]))return!1;return!0}function xm(t,s,r,l,m,x){return Cn=x,pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=t===null||t.memoizedState===null?B0:Em,Vr=!1,x=r(l,m),Vr=!1,Mi&&(x=a0(s,r,l,m)),t0(t),x}function t0(t){L.H=Go;var s=$t!==null&&$t.next!==null;if(Cn=0,wa=$t=pt=null,Ec=!1,$o=0,Pi=null,s)throw Error(i(300));t===null||Sa||(t=t.dependencies,t!==null&&yc(t)&&(Sa=!0))}function a0(t,s,r,l){pt=t;var m=0;do{if(Mi&&(Pi=null),$o=0,Mi=!1,25<=m)throw Error(i(301));if(m+=1,wa=$t=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}L.H=L0,x=s(r,l)}while(Mi);return x}function mw(){var t=L.H,s=t.useState()[0];return s=typeof s.then=="function"?Fo(s):s,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(pt.flags|=1024),s}function fm(){var t=Rc!==0;return Rc=0,t}function hm(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function pm(t){if(Ec){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ec=!1}Cn=0,wa=$t=pt=null,Mi=!1,$o=Rc=0,Pi=null}function Qa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?pt.memoizedState=wa=t:wa=wa.next=t,wa}function pa(){if($t===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var s=wa===null?pt.memoizedState:wa.next;if(s!==null)wa=s,$t=t;else{if(t===null)throw pt.alternate===null?Error(i(467)):Error(i(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},wa===null?pt.memoizedState=wa=t:wa=wa.next=t}return wa}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var s=$o;return $o+=1,Pi===null&&(Pi=[]),t=Gp(Pi,t,s),s=pt,(wa===null?s.memoizedState:wa.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?B0:Em),t}function Pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===O)return Va(t)}throw Error(i(438,String(t)))}function gm(t){var s=null,r=pt.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var l=pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Mc(),pt.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),l=0;l<t;l++)r[l]=se;return s.index++,r}function An(t,s){return typeof s=="function"?s(t):s}function Dc(t){var s=pa();return bm(s,$t,t)}function bm(t,s,r){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var m=t.baseQueue,x=l.pending;if(x!==null){if(m!==null){var j=m.next;m.next=x.next,x.next=j}s.baseQueue=m=x,l.pending=null}if(x=t.baseState,m===null)t.memoizedState=x;else{s=m.next;var T=j=null,$=null,re=s,ye=!1;do{var Ce=re.lane&-536870913;if(Ce!==re.lane?(Tt&Ce)===Ce:(Cn&Ce)===Ce){var le=re.revertLane;if(le===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),Ce===Ci&&(ye=!0);else if((Cn&le)===le){re=re.next,le===Ci&&(ye=!0);continue}else Ce={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(T=$=Ce,j=x):$=$.next=Ce,pt.lanes|=le,cr|=le;Ce=re.action,Vr&&r(x,Ce),x=re.hasEagerState?re.eagerState:r(x,Ce)}else le={lane:Ce,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(T=$=le,j=x):$=$.next=le,pt.lanes|=Ce,cr|=Ce;re=re.next}while(re!==null&&re!==s);if($===null?j=x:$.next=T,!xs(x,t.memoizedState)&&(Sa=!0,ye&&(r=Ai,r!==null)))throw r;t.memoizedState=x,t.baseState=j,t.baseQueue=$,l.lastRenderedState=x}return m===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ym(t){var s=pa(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var l=r.dispatch,m=r.pending,x=s.memoizedState;if(m!==null){r.pending=null;var j=m=m.next;do x=t(x,j.action),j=j.next;while(j!==m);xs(x,s.memoizedState)||(Sa=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),r.lastRenderedState=x}return[x,l]}function s0(t,s,r){var l=pt,m=pa(),x=Rt;if(x){if(r===void 0)throw Error(i(407));r=r()}else r=s();var j=!xs(($t||m).memoizedState,r);if(j&&(m.memoizedState=r,Sa=!0),m=m.queue,Nm(i0.bind(null,l,m,t),[t]),m.getSnapshot!==s||j||wa!==null&&wa.memoizedState.tag&1){if(l.flags|=2048,Di(9,{destroy:void 0},r0.bind(null,l,m,r,s),null),Qt===null)throw Error(i(349));x||(Cn&127)!==0||n0(l,s,r)}return r}function n0(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=pt.updateQueue,s===null?(s=Mc(),pt.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function r0(t,s,r,l){s.value=r,s.getSnapshot=l,o0(s)&&l0(t)}function i0(t,s,r){return r(function(){o0(s)&&l0(t)})}function o0(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!xs(t,r)}catch{return!0}}function l0(t){var s=Pr(t,2);s!==null&&cs(s,t,2)}function vm(t){var s=Qa();if(typeof t=="function"){var r=t;if(t=r(),Vr){qe(!0);try{r()}finally{qe(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},s}function c0(t,s,r,l){return t.baseState=r,bm(t,$t,typeof l=="function"?l:An)}function xw(t,s,r,l,m){if(zc(t))throw Error(i(485));if(t=s.action,t!==null){var x={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};L.T!==null?r(!0):x.isTransition=!1,l(x),r=s.pending,r===null?(x.next=s.pending=x,d0(s,x)):(x.next=r.next,s.pending=r.next=x)}}function d0(t,s){var r=s.action,l=s.payload,m=t.state;if(s.isTransition){var x=L.T,j={};L.T=j;try{var T=r(m,l),$=L.S;$!==null&&$(j,T),u0(t,s,T)}catch(re){jm(t,s,re)}finally{x!==null&&j.types!==null&&(x.types=j.types),L.T=x}}else try{x=r(m,l),u0(t,s,x)}catch(re){jm(t,s,re)}}function u0(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){m0(t,s,l)},function(l){return jm(t,s,l)}):m0(t,s,r)}function m0(t,s,r){s.status="fulfilled",s.value=r,x0(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,d0(t,r)))}function jm(t,s,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=r,x0(s),s=s.next;while(s!==l)}t.action=null}function x0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function f0(t,s){return s}function h0(t,s){if(Rt){var r=Qt.formState;if(r!==null){e:{var l=pt;if(Rt){if(ea){t:{for(var m=ea,x=Ps;m.nodeType!==8;){if(!x){m=null;break t}if(m=ks(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){ea=ks(m.nextSibling),l=m.data==="F!";break e}}er(l)}l=!1}l&&(s=r[0])}}return r=Qa(),r.memoizedState=r.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:s},r.queue=l,r=_0.bind(null,pt,l),l.dispatch=r,l=vm(!1),x=Tm.bind(null,pt,!1,l.queue),l=Qa(),m={state:s,dispatch:null,action:t,pending:null},l.queue=m,r=xw.bind(null,pt,m,x,r),m.dispatch=r,l.memoizedState=t,[s,r,!1]}function p0(t){var s=pa();return g0(s,$t,t)}function g0(t,s,r){if(s=bm(t,s,f0)[0],t=Dc(An)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Fo(s)}catch(j){throw j===Ti?Nc:j}else l=s;s=pa();var m=s.queue,x=m.dispatch;return r!==s.memoizedState&&(pt.flags|=2048,Di(9,{destroy:void 0},fw.bind(null,m,r),null)),[l,x,t]}function fw(t,s){t.action=s}function b0(t){var s=pa(),r=$t;if(r!==null)return g0(s,r,t);pa(),s=s.memoizedState,r=pa();var l=r.queue.dispatch;return r.memoizedState=t,[s,l,!1]}function Di(t,s,r,l){return t={tag:t,create:r,deps:l,inst:s,next:null},s=pt.updateQueue,s===null&&(s=Mc(),pt.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,s.lastEffect=t),t}function y0(){return pa().memoizedState}function kc(t,s,r,l){var m=Qa();pt.flags|=t,m.memoizedState=Di(1|s,{destroy:void 0},r,l===void 0?null:l)}function _c(t,s,r,l){var m=pa();l=l===void 0?null:l;var x=m.memoizedState.inst;$t!==null&&l!==null&&mm(l,$t.memoizedState.deps)?m.memoizedState=Di(s,x,r,l):(pt.flags|=t,m.memoizedState=Di(1|s,x,r,l))}function v0(t,s){kc(8390656,8,t,s)}function Nm(t,s){_c(2048,8,t,s)}function hw(t){pt.flags|=4;var s=pt.updateQueue;if(s===null)s=Mc(),pt.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function j0(t){var s=pa().memoizedState;return hw({ref:s,nextImpl:t}),function(){if((Ot&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function N0(t,s){return _c(4,2,t,s)}function w0(t,s){return _c(4,4,t,s)}function S0(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function C0(t,s,r){r=r!=null?r.concat([t]):null,_c(4,4,S0.bind(null,s,t),r)}function wm(){}function A0(t,s){var r=pa();s=s===void 0?null:s;var l=r.memoizedState;return s!==null&&mm(s,l[1])?l[0]:(r.memoizedState=[t,s],t)}function T0(t,s){var r=pa();s=s===void 0?null:s;var l=r.memoizedState;if(s!==null&&mm(s,l[1]))return l[0];if(l=t(),Vr){qe(!0);try{t()}finally{qe(!1)}}return r.memoizedState=[l,s],l}function Sm(t,s,r){return r===void 0||(Cn&1073741824)!==0&&(Tt&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=Eg(),pt.lanes|=t,cr|=t,r)}function E0(t,s,r,l){return xs(r,s)?r:Ri.current!==null?(t=Sm(t,r,l),xs(t,s)||(Sa=!0),t):(Cn&42)===0||(Cn&1073741824)!==0&&(Tt&261930)===0?(Sa=!0,t.memoizedState=r):(t=Eg(),pt.lanes|=t,cr|=t,s)}function R0(t,s,r,l,m){var x=ee.p;ee.p=x!==0&&8>x?x:8;var j=L.T,T={};L.T=T,Tm(t,!1,s,r);try{var $=m(),re=L.S;if(re!==null&&re(T,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ye=dw($,l);Ho(t,s,ye,ys(t))}else Ho(t,s,l,ys(t))}catch(Ce){Ho(t,s,{then:function(){},status:"rejected",reason:Ce},ys())}finally{ee.p=x,j!==null&&T.types!==null&&(j.types=T.types),L.T=j}}function pw(){}function Cm(t,s,r,l){if(t.tag!==5)throw Error(i(476));var m=M0(t).queue;R0(t,m,s,Z,r===null?pw:function(){return P0(t),r(l)})}function M0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:Z},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function P0(t){var s=M0(t);s.next===null&&(s=t.alternate.memoizedState),Ho(t,s.next.queue,{},ys())}function Am(){return Va(ll)}function D0(){return pa().memoizedState}function k0(){return pa().memoizedState}function gw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=ys();t=sr(r);var l=nr(s,t,r);l!==null&&(cs(l,s,r),Vo(l,s,r)),s={cache:tm()},t.payload=s;return}s=s.return}}function bw(t,s,r){var l=ys();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},zc(t)?z0(s,r):(r=Fu(t,s,r,l),r!==null&&(cs(r,t,l),O0(r,s,l)))}function _0(t,s,r){var l=ys();Ho(t,s,r,l)}function Ho(t,s,r,l){var m={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(zc(t))z0(s,m);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var j=s.lastRenderedState,T=x(j,r);if(m.hasEagerState=!0,m.eagerState=T,xs(T,j))return hc(t,s,m,0),Qt===null&&fc(),!1}catch{}finally{}if(r=Fu(t,s,m,l),r!==null)return cs(r,t,l),O0(r,s,l),!0}return!1}function Tm(t,s,r,l){if(l={lane:2,revertLane:rx(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(s)throw Error(i(479))}else s=Fu(t,r,l,2),s!==null&&cs(s,t,2)}function zc(t){var s=t.alternate;return t===pt||s!==null&&s===pt}function z0(t,s){Mi=Ec=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function O0(t,s,r){if((r&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Cs(t,r)}}var Go={readContext:Va,use:Pc,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useLayoutEffect:ma,useInsertionEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useSyncExternalStore:ma,useId:ma,useHostTransitionStatus:ma,useFormState:ma,useActionState:ma,useOptimistic:ma,useMemoCache:ma,useCacheRefresh:ma};Go.useEffectEvent=ma;var B0={readContext:Va,use:Pc,useCallback:function(t,s){return Qa().memoizedState=[t,s===void 0?null:s],t},useContext:Va,useEffect:v0,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,kc(4194308,4,S0.bind(null,s,t),r)},useLayoutEffect:function(t,s){return kc(4194308,4,t,s)},useInsertionEffect:function(t,s){kc(4,2,t,s)},useMemo:function(t,s){var r=Qa();s=s===void 0?null:s;var l=t();if(Vr){qe(!0);try{t()}finally{qe(!1)}}return r.memoizedState=[l,s],l},useReducer:function(t,s,r){var l=Qa();if(r!==void 0){var m=r(s);if(Vr){qe(!0);try{r(s)}finally{qe(!1)}}}else m=s;return l.memoizedState=l.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},l.queue=t,t=t.dispatch=bw.bind(null,pt,t),[l.memoizedState,t]},useRef:function(t){var s=Qa();return t={current:t},s.memoizedState=t},useState:function(t){t=vm(t);var s=t.queue,r=_0.bind(null,pt,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:wm,useDeferredValue:function(t,s){var r=Qa();return Sm(r,t,s)},useTransition:function(){var t=vm(!1);return t=R0.bind(null,pt,t.queue,!0,!1),Qa().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var l=pt,m=Qa();if(Rt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),Qt===null)throw Error(i(349));(Tt&127)!==0||n0(l,s,r)}m.memoizedState=r;var x={value:r,getSnapshot:s};return m.queue=x,v0(i0.bind(null,l,x,t),[t]),l.flags|=2048,Di(9,{destroy:void 0},r0.bind(null,l,x,r,s),null),r},useId:function(){var t=Qa(),s=Qt.identifierPrefix;if(Rt){var r=rn,l=nn;r=(l&~(1<<32-C(l)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Rc++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=uw++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Am,useFormState:h0,useActionState:h0,useOptimistic:function(t){var s=Qa();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Tm.bind(null,pt,!0,r),r.dispatch=s,[t,s]},useMemoCache:gm,useCacheRefresh:function(){return Qa().memoizedState=gw.bind(null,pt)},useEffectEvent:function(t){var s=Qa(),r={impl:t};return s.memoizedState=r,function(){if((Ot&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Em={readContext:Va,use:Pc,useCallback:A0,useContext:Va,useEffect:Nm,useImperativeHandle:C0,useInsertionEffect:N0,useLayoutEffect:w0,useMemo:T0,useReducer:Dc,useRef:y0,useState:function(){return Dc(An)},useDebugValue:wm,useDeferredValue:function(t,s){var r=pa();return E0(r,$t.memoizedState,t,s)},useTransition:function(){var t=Dc(An)[0],s=pa().memoizedState;return[typeof t=="boolean"?t:Fo(t),s]},useSyncExternalStore:s0,useId:D0,useHostTransitionStatus:Am,useFormState:p0,useActionState:p0,useOptimistic:function(t,s){var r=pa();return c0(r,$t,t,s)},useMemoCache:gm,useCacheRefresh:k0};Em.useEffectEvent=j0;var L0={readContext:Va,use:Pc,useCallback:A0,useContext:Va,useEffect:Nm,useImperativeHandle:C0,useInsertionEffect:N0,useLayoutEffect:w0,useMemo:T0,useReducer:ym,useRef:y0,useState:function(){return ym(An)},useDebugValue:wm,useDeferredValue:function(t,s){var r=pa();return $t===null?Sm(r,t,s):E0(r,$t.memoizedState,t,s)},useTransition:function(){var t=ym(An)[0],s=pa().memoizedState;return[typeof t=="boolean"?t:Fo(t),s]},useSyncExternalStore:s0,useId:D0,useHostTransitionStatus:Am,useFormState:b0,useActionState:b0,useOptimistic:function(t,s){var r=pa();return $t!==null?c0(r,$t,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gm,useCacheRefresh:k0};L0.useEffectEvent=j0;function Rm(t,s,r,l){s=t.memoizedState,r=r(l,s),r=r==null?s:g({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mm={enqueueSetState:function(t,s,r){t=t._reactInternals;var l=ys(),m=sr(l);m.payload=s,r!=null&&(m.callback=r),s=nr(t,m,l),s!==null&&(cs(s,t,l),Vo(s,t,l))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var l=ys(),m=sr(l);m.tag=1,m.payload=s,r!=null&&(m.callback=r),s=nr(t,m,l),s!==null&&(cs(s,t,l),Vo(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=ys(),l=sr(r);l.tag=2,s!=null&&(l.callback=s),s=nr(t,l,r),s!==null&&(cs(s,t,r),Vo(s,t,r))}};function I0(t,s,r,l,m,x,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,x,j):s.prototype&&s.prototype.isPureReactComponent?!Do(r,l)||!Do(m,x):!0}function V0(t,s,r,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,l),s.state!==t&&Mm.enqueueReplaceState(s,s.state,null)}function Ur(t,s){var r=s;if("ref"in s){r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}if(t=t.defaultProps){r===s&&(r=g({},r));for(var m in t)r[m]===void 0&&(r[m]=t[m])}return r}function U0(t){xc(t)}function q0(t){console.error(t)}function $0(t){xc(t)}function Oc(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function F0(t,s,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Pm(t,s,r){return r=sr(r),r.tag=3,r.payload={element:null},r.callback=function(){Oc(t,s)},r}function H0(t){return t=sr(t),t.tag=3,t}function G0(t,s,r,l){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;t.payload=function(){return m(x)},t.callback=function(){F0(s,r,l)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){F0(s,r,l),typeof m!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function yw(t,s,r,l,m){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=r.alternate,s!==null&&Si(s,r,m,!0),r=hs.current,r!==null){switch(r.tag){case 31:case 13:return Ds===null?Yc():r.alternate===null&&xa===0&&(xa=3),r.flags&=-257,r.flags|=65536,r.lanes=m,l===wc?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([l]):s.add(l),ax(t,l,m)),!1;case 22:return r.flags|=65536,l===wc?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([l]):r.add(l)),ax(t,l,m)),!1}throw Error(i(435,r.tag))}return ax(t,l,m),Yc(),!1}if(Rt)return s=hs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,l!==Ku&&(t=Error(i(422),{cause:l}),zo(Es(t,r)))):(l!==Ku&&(s=Error(i(423),{cause:l}),zo(Es(s,r))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,l=Es(l,r),m=Pm(t.stateNode,l,m),om(t,m),xa!==4&&(xa=2)),!1;var x=Error(i(520),{cause:l});if(x=Es(x,r),el===null?el=[x]:el.push(x),xa!==4&&(xa=2),s===null)return!0;l=Es(l,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=m&-m,r.lanes|=t,t=Pm(r.stateNode,l,t),om(r,t),!1;case 1:if(s=r.type,x=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dr===null||!dr.has(x))))return r.flags|=65536,m&=-m,r.lanes|=m,m=H0(m),G0(m,t,r,l),om(r,m),!1}r=r.return}while(r!==null);return!1}var Dm=Error(i(461)),Sa=!1;function Ua(t,s,r,l){s.child=t===null?Kp(s,null,r,l):Ir(s,t.child,r,l)}function X0(t,s,r,l,m){r=r.render;var x=s.ref;if("ref"in l){var j={};for(var T in l)T!=="ref"&&(j[T]=l[T])}else j=l;return zr(s),l=xm(t,s,r,j,x,m),T=fm(),t!==null&&!Sa?(hm(t,s,m),Tn(t,s,m)):(Rt&&T&&Yu(s),s.flags|=1,Ua(t,s,l,m),s.child)}function Y0(t,s,r,l,m){if(t===null){var x=r.type;return typeof x=="function"&&!Hu(x)&&x.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=x,Q0(t,s,x,l,m)):(t=gc(r.type,null,l,s,s.mode,m),t.ref=s.ref,t.return=s,s.child=t)}if(x=t.child,!Vm(t,m)){var j=x.memoizedProps;if(r=r.compare,r=r!==null?r:Do,r(j,l)&&t.ref===s.ref)return Tn(t,s,m)}return s.flags|=1,t=jn(x,l),t.ref=s.ref,t.return=s,s.child=t}function Q0(t,s,r,l,m){if(t!==null){var x=t.memoizedProps;if(Do(x,l)&&t.ref===s.ref)if(Sa=!1,s.pendingProps=l=x,Vm(t,m))(t.flags&131072)!==0&&(Sa=!0);else return s.lanes=t.lanes,Tn(t,s,m)}return km(t,s,r,l,m)}function K0(t,s,r,l){var m=l.children,x=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|r:r,t!==null){for(l=s.child=t.child,m=0;l!==null;)m=m|l.lanes|l.childLanes,l=l.sibling;l=m&~x}else l=0,s.child=null;return J0(t,s,x,r,l)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&jc(s,x!==null?x.cachePool:null),x!==null?Wp(s,x):cm(),e0(s);else return l=s.lanes=536870912,J0(t,s,x!==null?x.baseLanes|r:r,r,l)}else x!==null?(jc(s,x.cachePool),Wp(s,x),ir(),s.memoizedState=null):(t!==null&&jc(s,null),cm(),ir());return Ua(t,s,m,r),s.child}function Xo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function J0(t,s,r,l,m){var x=sm();return x=x===null?null:{parent:Na._currentValue,pool:x},s.memoizedState={baseLanes:r,cachePool:x},t!==null&&jc(s,null),cm(),e0(s),t!==null&&Si(t,s,l,!0),s.childLanes=m,null}function Bc(t,s){return s=Ic({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Z0(t,s,r){return Ir(s,t.child,null,r),t=Bc(s,s.pendingProps),t.flags|=2,ps(s),s.memoizedState=null,t}function vw(t,s,r){var l=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Rt){if(l.mode==="hidden")return t=Bc(s,l),s.lanes=536870912,Xo(null,t);if(um(s),(t=ea)?(t=db(t,Ps),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Zn!==null?{id:nn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=zp(t),r.return=s,s.child=r,Ia=s,ea=null)):t=null,t===null)throw er(s);return s.lanes=536870912,null}return Bc(s,l)}var x=t.memoizedState;if(x!==null){var j=x.dehydrated;if(um(s),m)if(s.flags&256)s.flags&=-257,s=Z0(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Sa||Si(t,s,r,!1),m=(r&t.childLanes)!==0,Sa||m){if(l=Qt,l!==null&&(j=$n(l,r),j!==0&&j!==x.retryLane))throw x.retryLane=j,Pr(t,j),cs(l,t,j),Dm;Yc(),s=Z0(t,s,r)}else t=x.treeContext,ea=ks(j.nextSibling),Ia=s,Rt=!0,Wn=null,Ps=!1,t!==null&&Lp(s,t),s=Bc(s,l),s.flags|=4096;return s}return t=jn(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Lc(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function km(t,s,r,l,m){return zr(s),r=xm(t,s,r,l,void 0,m),l=fm(),t!==null&&!Sa?(hm(t,s,m),Tn(t,s,m)):(Rt&&l&&Yu(s),s.flags|=1,Ua(t,s,r,m),s.child)}function W0(t,s,r,l,m,x){return zr(s),s.updateQueue=null,r=a0(s,l,r,m),t0(t),l=fm(),t!==null&&!Sa?(hm(t,s,x),Tn(t,s,x)):(Rt&&l&&Yu(s),s.flags|=1,Ua(t,s,r,x),s.child)}function eg(t,s,r,l,m){if(zr(s),s.stateNode===null){var x=vi,j=r.contextType;typeof j=="object"&&j!==null&&(x=Va(j)),x=new r(l,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Mm,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=l,x.state=s.memoizedState,x.refs={},rm(s),j=r.contextType,x.context=typeof j=="object"&&j!==null?Va(j):vi,x.state=s.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(Rm(s,r,j,l),x.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&Mm.enqueueReplaceState(x,x.state,null),qo(s,l,x,m),Uo(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){x=s.stateNode;var T=s.memoizedProps,$=Ur(r,T);x.props=$;var re=x.context,ye=r.contextType;j=vi,typeof ye=="object"&&ye!==null&&(j=Va(ye));var Ce=r.getDerivedStateFromProps;ye=typeof Ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ye||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T||re!==j)&&V0(s,x,l,j),ar=!1;var le=s.memoizedState;x.state=le,qo(s,l,x,m),Uo(),re=s.memoizedState,T||le!==re||ar?(typeof Ce=="function"&&(Rm(s,r,Ce,l),re=s.memoizedState),($=ar||I0(s,r,$,l,le,re,j))?(ye||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=re),x.props=l,x.state=re,x.context=j,l=$):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{x=s.stateNode,im(t,s),j=s.memoizedProps,ye=Ur(r,j),x.props=ye,Ce=s.pendingProps,le=x.context,re=r.contextType,$=vi,typeof re=="object"&&re!==null&&($=Va(re)),T=r.getDerivedStateFromProps,(re=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==Ce||le!==$)&&V0(s,x,l,$),ar=!1,le=s.memoizedState,x.state=le,qo(s,l,x,m),Uo();var xe=s.memoizedState;j!==Ce||le!==xe||ar||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof T=="function"&&(Rm(s,r,T,l),xe=s.memoizedState),(ye=ar||I0(s,r,ye,l,le,xe,$)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(re||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,xe,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,xe,$)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===t.memoizedProps&&le===t.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&le===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=xe),x.props=l,x.state=xe,x.context=$,l=ye):(typeof x.componentDidUpdate!="function"||j===t.memoizedProps&&le===t.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&le===t.memoizedState||(s.flags|=1024),l=!1)}return x=l,Lc(t,s),l=(s.flags&128)!==0,x||l?(x=s.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,t!==null&&l?(s.child=Ir(s,t.child,null,m),s.child=Ir(s,null,r,m)):Ua(t,s,r,m),s.memoizedState=x.state,t=s.child):t=Tn(t,s,m),t}function tg(t,s,r,l){return kr(),s.flags|=256,Ua(t,s,r,l),s.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(t){return{baseLanes:t,cachePool:Fp()}}function Om(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=bs),t}function ag(t,s,r){var l=s.pendingProps,m=!1,x=(s.flags&128)!==0,j;if((j=x)||(j=t!==null&&t.memoizedState===null?!1:(ha.current&2)!==0),j&&(m=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,t===null){if(Rt){if(m?rr(s):ir(),(t=ea)?(t=db(t,Ps),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Zn!==null?{id:nn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=zp(t),r.return=s,s.child=r,Ia=s,ea=null)):t=null,t===null)throw er(s);return bx(t)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,m?(ir(),m=s.mode,T=Ic({mode:"hidden",children:T},m),l=Dr(l,m,r,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=zm(r),l.childLanes=Om(t,j,r),s.memoizedState=_m,Xo(null,l)):(rr(s),Bm(s,T))}var $=t.memoizedState;if($!==null&&(T=$.dehydrated,T!==null)){if(x)s.flags&256?(rr(s),s.flags&=-257,s=Lm(t,s,r)):s.memoizedState!==null?(ir(),s.child=t.child,s.flags|=128,s=null):(ir(),T=l.fallback,m=s.mode,l=Ic({mode:"visible",children:l.children},m),T=Dr(T,m,r,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,Ir(s,t.child,null,r),l=s.child,l.memoizedState=zm(r),l.childLanes=Om(t,j,r),s.memoizedState=_m,s=Xo(null,l));else if(rr(s),bx(T)){if(j=T.nextSibling&&T.nextSibling.dataset,j)var re=j.dgst;j=re,l=Error(i(419)),l.stack="",l.digest=j,zo({value:l,source:null,stack:null}),s=Lm(t,s,r)}else if(Sa||Si(t,s,r,!1),j=(r&t.childLanes)!==0,Sa||j){if(j=Qt,j!==null&&(l=$n(j,r),l!==0&&l!==$.retryLane))throw $.retryLane=l,Pr(t,l),cs(j,t,l),Dm;gx(T)||Yc(),s=Lm(t,s,r)}else gx(T)?(s.flags|=192,s.child=t.child,s=null):(t=$.treeContext,ea=ks(T.nextSibling),Ia=s,Rt=!0,Wn=null,Ps=!1,t!==null&&Lp(s,t),s=Bm(s,l.children),s.flags|=4096);return s}return m?(ir(),T=l.fallback,m=s.mode,$=t.child,re=$.sibling,l=jn($,{mode:"hidden",children:l.children}),l.subtreeFlags=$.subtreeFlags&65011712,re!==null?T=jn(re,T):(T=Dr(T,m,r,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,Xo(null,l),l=s.child,T=t.child.memoizedState,T===null?T=zm(r):(m=T.cachePool,m!==null?($=Na._currentValue,m=m.parent!==$?{parent:$,pool:$}:m):m=Fp(),T={baseLanes:T.baseLanes|r,cachePool:m}),l.memoizedState=T,l.childLanes=Om(t,j,r),s.memoizedState=_m,Xo(t.child,l)):(rr(s),r=t.child,t=r.sibling,r=jn(r,{mode:"visible",children:l.children}),r.return=s,r.sibling=null,t!==null&&(j=s.deletions,j===null?(s.deletions=[t],s.flags|=16):j.push(t)),s.child=r,s.memoizedState=null,r)}function Bm(t,s){return s=Ic({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Ic(t,s){return t=fs(22,t,null,s),t.lanes=0,t}function Lm(t,s,r){return Ir(s,t.child,null,r),t=Bm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function sg(t,s,r){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Wu(t.return,s,r)}function Im(t,s,r,l,m,x){var j=t.memoizedState;j===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:m,treeForkCount:x}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=l,j.tail=r,j.tailMode=m,j.treeForkCount=x)}function ng(t,s,r){var l=s.pendingProps,m=l.revealOrder,x=l.tail;l=l.children;var j=ha.current,T=(j&2)!==0;if(T?(j=j&1|2,s.flags|=128):j&=1,he(ha,j),Ua(t,s,l,r),l=Rt?_o:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,r,s);else if(t.tag===19)sg(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(r=s.child,m=null;r!==null;)t=r.alternate,t!==null&&Tc(t)===null&&(m=r),r=r.sibling;r=m,r===null?(m=s.child,s.child=null):(m=r.sibling,r.sibling=null),Im(s,!1,m,r,x,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=s.child,s.child=null;m!==null;){if(t=m.alternate,t!==null&&Tc(t)===null){s.child=m;break}t=m.sibling,m.sibling=r,r=m,m=t}Im(s,!0,r,null,x,l);break;case"together":Im(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Tn(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),cr|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Si(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,r=jn(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=jn(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Vm(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function jw(t,s,r){switch(s.tag){case 3:R(s,s.stateNode.containerInfo),tr(s,Na,t.memoizedState.cache),kr();break;case 27:case 5:me(s);break;case 4:R(s,s.stateNode.containerInfo);break;case 10:tr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,um(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(s),s.flags|=128,null):(r&s.child.childLanes)!==0?ag(t,s,r):(rr(s),t=Tn(t,s,r),t!==null?t.sibling:null);rr(s);break;case 19:var m=(t.flags&128)!==0;if(l=(r&s.childLanes)!==0,l||(Si(t,s,r,!1),l=(r&s.childLanes)!==0),m){if(l)return ng(t,s,r);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(ha,ha.current),l)break;return null;case 22:return s.lanes=0,K0(t,s,r,s.pendingProps);case 24:tr(s,Na,t.memoizedState.cache)}return Tn(t,s,r)}function rg(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)Sa=!0;else{if(!Vm(t,r)&&(s.flags&128)===0)return Sa=!1,jw(t,s,r);Sa=(t.flags&131072)!==0}else Sa=!1,Rt&&(s.flags&1048576)!==0&&Bp(s,_o,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Br(s.elementType),s.type=t,typeof t=="function")Hu(t)?(l=Ur(t,l),s.tag=1,s=eg(null,s,t,l,r)):(s.tag=0,s=km(null,s,t,l,r));else{if(t!=null){var m=t.$$typeof;if(m===D){s.tag=11,s=X0(null,s,t,l,r);break e}else if(m===B){s.tag=14,s=Y0(null,s,t,l,r);break e}}throw s=ie(t)||t,Error(i(306,s,""))}}return s;case 0:return km(t,s,s.type,s.pendingProps,r);case 1:return l=s.type,m=Ur(l,s.pendingProps),eg(t,s,l,m,r);case 3:e:{if(R(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var x=s.memoizedState;m=x.element,im(t,s),qo(s,l,null,r);var j=s.memoizedState;if(l=j.cache,tr(s,Na,l),l!==x.cache&&em(s,[Na],r,!0),Uo(),l=j.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=tg(t,s,l,r);break e}else if(l!==m){m=Es(Error(i(424)),s),zo(m),s=tg(t,s,l,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ea=ks(t.firstChild),Ia=s,Rt=!0,Wn=null,Ps=!0,r=Kp(s,null,l,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(kr(),l===m){s=Tn(t,s,r);break e}Ua(t,s,l,r)}s=s.child}return s;case 26:return Lc(t,s),t===null?(r=pb(s.type,null,s.pendingProps,null))?s.memoizedState=r:Rt||(r=s.type,t=s.pendingProps,l=td(Ze.current).createElement(r),l[ua]=s,l[za]=t,qa(l,r,t),va(l),s.stateNode=l):s.memoizedState=pb(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return me(s),t===null&&Rt&&(l=s.stateNode=xb(s.type,s.pendingProps,Ze.current),Ia=s,Ps=!0,m=ea,fr(s.type)?(yx=m,ea=ks(l.firstChild)):ea=m),Ua(t,s,s.pendingProps.children,r),Lc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Rt&&((m=l=ea)&&(l=Jw(l,s.type,s.pendingProps,Ps),l!==null?(s.stateNode=l,Ia=s,ea=ks(l.firstChild),Ps=!1,m=!0):m=!1),m||er(s)),me(s),m=s.type,x=s.pendingProps,j=t!==null?t.memoizedProps:null,l=x.children,fx(m,x)?l=null:j!==null&&fx(m,j)&&(s.flags|=32),s.memoizedState!==null&&(m=xm(t,s,mw,null,null,r),ll._currentValue=m),Lc(t,s),Ua(t,s,l,r),s.child;case 6:return t===null&&Rt&&((t=r=ea)&&(r=Zw(r,s.pendingProps,Ps),r!==null?(s.stateNode=r,Ia=s,ea=null,t=!0):t=!1),t||er(s)),null;case 13:return ag(t,s,r);case 4:return R(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Ir(s,null,l,r):Ua(t,s,l,r),s.child;case 11:return X0(t,s,s.type,s.pendingProps,r);case 7:return Ua(t,s,s.pendingProps,r),s.child;case 8:return Ua(t,s,s.pendingProps.children,r),s.child;case 12:return Ua(t,s,s.pendingProps.children,r),s.child;case 10:return l=s.pendingProps,tr(s,s.type,l.value),Ua(t,s,l.children,r),s.child;case 9:return m=s.type._context,l=s.pendingProps.children,zr(s),m=Va(m),l=l(m),s.flags|=1,Ua(t,s,l,r),s.child;case 14:return Y0(t,s,s.type,s.pendingProps,r);case 15:return Q0(t,s,s.type,s.pendingProps,r);case 19:return ng(t,s,r);case 31:return vw(t,s,r);case 22:return K0(t,s,r,s.pendingProps);case 24:return zr(s),l=Va(Na),t===null?(m=sm(),m===null&&(m=Qt,x=tm(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=r),m=x),s.memoizedState={parent:l,cache:m},rm(s),tr(s,Na,m)):((t.lanes&r)!==0&&(im(t,s),qo(s,null,null,r),Uo()),m=t.memoizedState,x=s.memoizedState,m.parent!==l?(m={parent:l,cache:l},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),tr(s,Na,l)):(l=x.cache,tr(s,Na,l),l!==m.cache&&em(s,[Na],r,!0))),Ua(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function En(t){t.flags|=4}function Um(t,s,r,l,m){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Dg())t.flags|=8192;else throw Lr=wc,nm}else t.flags&=-16777217}function ig(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jb(s))if(Dg())t.flags|=8192;else throw Lr=wc,nm}function Vc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?jt():536870912,t.lanes|=s,Oi|=s)}function Yo(t,s){if(!Rt)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ta(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(s)for(var m=t.child;m!==null;)r|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)r|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=l,t.childLanes=r,s}function Nw(t,s,r){var l=s.pendingProps;switch(Qu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ta(s),null;case 1:return ta(s),null;case 3:return r=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Sn(Na),fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wi(s)?En(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ju())),ta(s),null;case 26:var m=s.type,x=s.memoizedState;return t===null?(En(s),x!==null?(ta(s),ig(s,x)):(ta(s),Um(s,m,null,l,r))):x?x!==t.memoizedState?(En(s),ta(s),ig(s,x)):(ta(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&En(s),ta(s),Um(s,m,t,l,r)),null;case 27:if(Ee(s),r=Ze.current,m=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&En(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ta(s),null}t=Se.current,wi(s)?Ip(s):(t=xb(m,l,r),s.stateNode=t,En(s))}return ta(s),null;case 5:if(Ee(s),m=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&En(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ta(s),null}if(x=Se.current,wi(s))Ip(s);else{var j=td(Ze.current);switch(x){case 1:x=j.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:x=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":x=j.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":x=j.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":x=j.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?j.createElement("select",{is:l.is}):j.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?j.createElement(m,{is:l.is}):j.createElement(m)}}x[ua]=s,x[za]=l;e:for(j=s.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break e;for(;j.sibling===null;){if(j.return===null||j.return===s)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}s.stateNode=x;e:switch(qa(x,m,l),m){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&En(s)}}return ta(s),Um(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&En(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ze.current,wi(s)){if(t=s.stateNode,r=s.memoizedProps,l=null,m=Ia,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}t[ua]=s,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ab(t.nodeValue,r)),t||er(s,!0)}else t=td(t).createTextNode(l),t[ua]=s,s.stateNode=t}return ta(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(l=wi(s),r!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[ua]=s}else kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ta(s),t=!1}else r=Ju(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(ps(s),s):(ps(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ta(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=wi(s),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[ua]=s}else kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ta(s),m=!1}else m=Ju(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(ps(s),s):(ps(s),null)}return ps(s),(s.flags&128)!==0?(s.lanes=r,s):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=s.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==m&&(l.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),Vc(s,s.updateQueue),ta(s),null);case 4:return fe(),t===null&&cx(s.stateNode.containerInfo),ta(s),null;case 10:return Sn(s.type),ta(s),null;case 19:if(Y(ha),l=s.memoizedState,l===null)return ta(s),null;if(m=(s.flags&128)!==0,x=l.rendering,x===null)if(m)Yo(l,!1);else{if(xa!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(x=Tc(t),x!==null){for(s.flags|=128,Yo(l,!1),t=x.updateQueue,s.updateQueue=t,Vc(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)_p(r,t),r=r.sibling;return he(ha,ha.current&1|2),Rt&&Nn(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&U()>Hc&&(s.flags|=128,m=!0,Yo(l,!1),s.lanes=4194304)}else{if(!m)if(t=Tc(x),t!==null){if(s.flags|=128,m=!0,t=t.updateQueue,s.updateQueue=t,Vc(s,t),Yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Rt)return ta(s),null}else 2*U()-l.renderingStartTime>Hc&&r!==536870912&&(s.flags|=128,m=!0,Yo(l,!1),s.lanes=4194304);l.isBackwards?(x.sibling=s.child,s.child=x):(t=l.last,t!==null?t.sibling=x:s.child=x,l.last=x)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=U(),t.sibling=null,r=ha.current,he(ha,m?r&1|2:r&1),Rt&&Nn(s,l.treeForkCount),t):(ta(s),null);case 22:case 23:return ps(s),dm(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(r&536870912)!==0&&(s.flags&128)===0&&(ta(s),s.subtreeFlags&6&&(s.flags|=8192)):ta(s),r=s.updateQueue,r!==null&&Vc(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048),t!==null&&Y(Or),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Sn(Na),ta(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ww(t,s){switch(Qu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Sn(Na),fe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 31:if(s.memoizedState!==null){if(ps(s),s.alternate===null)throw Error(i(340));kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ps(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(ha),null;case 4:return fe(),null;case 10:return Sn(s.type),null;case 22:case 23:return ps(s),dm(),t!==null&&Y(Or),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Sn(Na),null;case 25:return null;default:return null}}function og(t,s){switch(Qu(s),s.tag){case 3:Sn(Na),fe();break;case 26:case 27:case 5:Ee(s);break;case 4:fe();break;case 31:s.memoizedState!==null&&ps(s);break;case 13:ps(s);break;case 19:Y(ha);break;case 10:Sn(s.type);break;case 22:case 23:ps(s),dm(),t!==null&&Y(Or);break;case 24:Sn(Na)}}function Qo(t,s){try{var r=s.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var m=l.next;r=m;do{if((r.tag&t)===t){l=void 0;var x=r.create,j=r.inst;l=x(),j.destroy=l}r=r.next}while(r!==m)}}catch(T){Ut(s,s.return,T)}}function or(t,s,r){try{var l=s.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var x=m.next;l=x;do{if((l.tag&t)===t){var j=l.inst,T=j.destroy;if(T!==void 0){j.destroy=void 0,m=s;var $=r,re=T;try{re()}catch(ye){Ut(m,$,ye)}}}l=l.next}while(l!==x)}}catch(ye){Ut(s,s.return,ye)}}function lg(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{Zp(s,r)}catch(l){Ut(t,t.return,l)}}}function cg(t,s,r){r.props=Ur(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ut(t,s,l)}}function Ko(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(m){Ut(t,s,m)}}function on(t,s){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(m){Ut(t,s,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){Ut(t,s,m)}else r.current=null}function dg(t){var s=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(m){Ut(t,t.return,m)}}function qm(t,s,r){try{var l=t.stateNode;Hw(l,t.type,r,s),l[za]=s}catch(m){Ut(t,t.return,m)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function $m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fm(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Bt));else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Fm(t,s,r),t=t.sibling;t!==null;)Fm(t,s,r),t=t.sibling}function Uc(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Uc(t,s,r),t=t.sibling;t!==null;)Uc(t,s,r),t=t.sibling}function mg(t){var s=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);qa(s,l,r),s[ua]=t,s[za]=r}catch(x){Ut(t,t.return,x)}}var Rn=!1,Ca=!1,Hm=!1,xg=typeof WeakSet=="function"?WeakSet:Set,Oa=null;function Sw(t,s){if(t=t.containerInfo,mx=ld,t=Cp(t),Lu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var m=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{r.nodeType,x.nodeType}catch{r=null;break e}var j=0,T=-1,$=-1,re=0,ye=0,Ce=t,le=null;t:for(;;){for(var xe;Ce!==r||m!==0&&Ce.nodeType!==3||(T=j+m),Ce!==x||l!==0&&Ce.nodeType!==3||($=j+l),Ce.nodeType===3&&(j+=Ce.nodeValue.length),(xe=Ce.firstChild)!==null;)le=Ce,Ce=xe;for(;;){if(Ce===t)break t;if(le===r&&++re===m&&(T=j),le===x&&++ye===l&&($=j),(xe=Ce.nextSibling)!==null)break;Ce=le,le=Ce.parentNode}Ce=xe}r=T===-1||$===-1?null:{start:T,end:$}}else r=null}r=r||{start:0,end:0}}else r=null;for(xx={focusedElem:t,selectionRange:r},ld=!1,Oa=s;Oa!==null;)if(s=Oa,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Oa=t;else for(;Oa!==null;){switch(s=Oa,x=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)m=t[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,r=s,m=x.memoizedProps,x=x.memoizedState,l=r.stateNode;try{var We=Ur(r.type,m);t=l.getSnapshotBeforeUpdate(We,x),l.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Ut(r,r.return,ut)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)px(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":px(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Oa=t;break}Oa=s.return}}function fg(t,s,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Pn(t,r),l&4&&Qo(5,r);break;case 1:if(Pn(t,r),l&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(j){Ut(r,r.return,j)}else{var m=Ur(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(m,s,t.__reactInternalSnapshotBeforeUpdate)}catch(j){Ut(r,r.return,j)}}l&64&&lg(r),l&512&&Ko(r,r.return);break;case 3:if(Pn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Zp(t,s)}catch(j){Ut(r,r.return,j)}}break;case 27:s===null&&l&4&&mg(r);case 26:case 5:Pn(t,r),s===null&&l&4&&dg(r),l&512&&Ko(r,r.return);break;case 12:Pn(t,r);break;case 31:Pn(t,r),l&4&&gg(t,r);break;case 13:Pn(t,r),l&4&&bg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=kw.bind(null,r),Ww(t,r))));break;case 22:if(l=r.memoizedState!==null||Rn,!l){s=s!==null&&s.memoizedState!==null||Ca,m=Rn;var x=Ca;Rn=l,(Ca=s)&&!x?Dn(t,r,(r.subtreeFlags&8772)!==0):Pn(t,r),Rn=m,Ca=x}break;case 30:break;default:Pn(t,r)}}function hg(t){var s=t.alternate;s!==null&&(t.alternate=null,hg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&No(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ra=null,rs=!1;function Mn(t,s,r){for(r=r.child;r!==null;)pg(t,s,r),r=r.sibling}function pg(t,s,r){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(Dt,r)}catch{}switch(r.tag){case 26:Ca||on(r,s),Mn(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ca||on(r,s);var l=ra,m=rs;fr(r.type)&&(ra=r.stateNode,rs=!1),Mn(t,s,r),rl(r.stateNode),ra=l,rs=m;break;case 5:Ca||on(r,s);case 6:if(l=ra,m=rs,ra=null,Mn(t,s,r),ra=l,rs=m,ra!==null)if(rs)try{(ra.nodeType===9?ra.body:ra.nodeName==="HTML"?ra.ownerDocument.body:ra).removeChild(r.stateNode)}catch(x){Ut(r,s,x)}else try{ra.removeChild(r.stateNode)}catch(x){Ut(r,s,x)}break;case 18:ra!==null&&(rs?(t=ra,lb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Fi(t)):lb(ra,r.stateNode));break;case 4:l=ra,m=rs,ra=r.stateNode.containerInfo,rs=!0,Mn(t,s,r),ra=l,rs=m;break;case 0:case 11:case 14:case 15:or(2,r,s),Ca||or(4,r,s),Mn(t,s,r);break;case 1:Ca||(on(r,s),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cg(r,s,l)),Mn(t,s,r);break;case 21:Mn(t,s,r);break;case 22:Ca=(l=Ca)||r.memoizedState!==null,Mn(t,s,r),Ca=l;break;default:Mn(t,s,r)}}function gg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fi(t)}catch(r){Ut(s,s.return,r)}}}function bg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fi(t)}catch(r){Ut(s,s.return,r)}}function Cw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new xg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new xg),s;default:throw Error(i(435,t.tag))}}function qc(t,s){var r=Cw(t);s.forEach(function(l){if(!r.has(l)){r.add(l);var m=_w.bind(null,t,l);l.then(m,m)}})}function is(t,s){var r=s.deletions;if(r!==null)for(var l=0;l<r.length;l++){var m=r[l],x=t,j=s,T=j;e:for(;T!==null;){switch(T.tag){case 27:if(fr(T.type)){ra=T.stateNode,rs=!1;break e}break;case 5:ra=T.stateNode,rs=!1;break e;case 3:case 4:ra=T.stateNode.containerInfo,rs=!0;break e}T=T.return}if(ra===null)throw Error(i(160));pg(x,j,m),ra=null,rs=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)yg(s,t),s=s.sibling}var Ys=null;function yg(t,s){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:is(s,t),os(t),l&4&&(or(3,t,t.return),Qo(3,t),or(5,t,t.return));break;case 1:is(s,t),os(t),l&512&&(Ca||r===null||on(r,r.return)),l&64&&Rn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var m=Ys;if(is(s,t),os(t),l&512&&(Ca||r===null||on(r,r.return)),l&4){var x=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Ar]||x[ua]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(l),m.head.insertBefore(x,m.querySelector("head > title"))),qa(x,l,r),x[ua]=t,va(x),l=x;break e;case"link":var j=yb("link","href",m).get(l+(r.href||""));if(j){for(var T=0;T<j.length;T++)if(x=j[T],x.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&x.getAttribute("rel")===(r.rel==null?null:r.rel)&&x.getAttribute("title")===(r.title==null?null:r.title)&&x.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(T,1);break t}}x=m.createElement(l),qa(x,l,r),m.head.appendChild(x);break;case"meta":if(j=yb("meta","content",m).get(l+(r.content||""))){for(T=0;T<j.length;T++)if(x=j[T],x.getAttribute("content")===(r.content==null?null:""+r.content)&&x.getAttribute("name")===(r.name==null?null:r.name)&&x.getAttribute("property")===(r.property==null?null:r.property)&&x.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&x.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(T,1);break t}}x=m.createElement(l),qa(x,l,r),m.head.appendChild(x);break;default:throw Error(i(468,l))}x[ua]=t,va(x),l=x}t.stateNode=l}else vb(m,t.type,t.stateNode);else t.stateNode=bb(m,l,t.memoizedProps);else x!==l?(x===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):x.count--,l===null?vb(m,t.type,t.stateNode):bb(m,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qm(t,t.memoizedProps,r.memoizedProps)}break;case 27:is(s,t),os(t),l&512&&(Ca||r===null||on(r,r.return)),r!==null&&l&4&&qm(t,t.memoizedProps,r.memoizedProps);break;case 5:if(is(s,t),os(t),l&512&&(Ca||r===null||on(r,r.return)),t.flags&32){m=t.stateNode;try{pe(m,"")}catch(We){Ut(t,t.return,We)}}l&4&&t.stateNode!=null&&(m=t.memoizedProps,qm(t,m,r!==null?r.memoizedProps:m)),l&1024&&(Hm=!0);break;case 6:if(is(s,t),os(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(We){Ut(t,t.return,We)}}break;case 3:if(nd=null,m=Ys,Ys=ad(s.containerInfo),is(s,t),Ys=m,os(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Fi(s.containerInfo)}catch(We){Ut(t,t.return,We)}Hm&&(Hm=!1,vg(t));break;case 4:l=Ys,Ys=ad(t.stateNode.containerInfo),is(s,t),os(t),Ys=l;break;case 12:is(s,t),os(t);break;case 31:is(s,t),os(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 13:is(s,t),os(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fc=U()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 22:m=t.memoizedState!==null;var $=r!==null&&r.memoizedState!==null,re=Rn,ye=Ca;if(Rn=re||m,Ca=ye||$,is(s,t),Ca=ye,Rn=re,os(t),l&8192)e:for(s=t.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(r===null||$||Rn||Ca||qr(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){$=r=s;try{if(x=$.stateNode,m)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{T=$.stateNode;var Ce=$.memoizedProps.style,le=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;T.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(We){Ut($,$.return,We)}}}else if(s.tag===6){if(r===null){$=s;try{$.stateNode.nodeValue=m?"":$.memoizedProps}catch(We){Ut($,$.return,We)}}}else if(s.tag===18){if(r===null){$=s;try{var xe=$.stateNode;m?cb(xe,!0):cb($.stateNode,!1)}catch(We){Ut($,$.return,We)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,qc(t,r))));break;case 19:is(s,t),os(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 30:break;case 21:break;default:is(s,t),os(t)}}function os(t){var s=t.flags;if(s&2){try{for(var r,l=t.return;l!==null;){if(ug(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var m=r.stateNode,x=$m(t);Uc(t,x,m);break;case 5:var j=r.stateNode;r.flags&32&&(pe(j,""),r.flags&=-33);var T=$m(t);Uc(t,T,j);break;case 3:case 4:var $=r.stateNode.containerInfo,re=$m(t);Fm(t,re,$);break;default:throw Error(i(161))}}catch(ye){Ut(t,t.return,ye)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;vg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Pn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fg(t,s.alternate,s),s=s.sibling}function qr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:or(4,s,s.return),qr(s);break;case 1:on(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&cg(s,s.return,r),qr(s);break;case 27:rl(s.stateNode);case 26:case 5:on(s,s.return),qr(s);break;case 22:s.memoizedState===null&&qr(s);break;case 30:qr(s);break;default:qr(s)}t=t.sibling}}function Dn(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,m=t,x=s,j=x.flags;switch(x.tag){case 0:case 11:case 15:Dn(m,x,r),Qo(4,x);break;case 1:if(Dn(m,x,r),l=x,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(re){Ut(l,l.return,re)}if(l=x,m=l.updateQueue,m!==null){var T=l.stateNode;try{var $=m.shared.hiddenCallbacks;if($!==null)for(m.shared.hiddenCallbacks=null,m=0;m<$.length;m++)Jp($[m],T)}catch(re){Ut(l,l.return,re)}}r&&j&64&&lg(x),Ko(x,x.return);break;case 27:mg(x);case 26:case 5:Dn(m,x,r),r&&l===null&&j&4&&dg(x),Ko(x,x.return);break;case 12:Dn(m,x,r);break;case 31:Dn(m,x,r),r&&j&4&&gg(m,x);break;case 13:Dn(m,x,r),r&&j&4&&bg(m,x);break;case 22:x.memoizedState===null&&Dn(m,x,r),Ko(x,x.return);break;case 30:break;default:Dn(m,x,r)}s=s.sibling}}function Gm(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Oo(r))}function Xm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Oo(t))}function Qs(t,s,r,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jg(t,s,r,l),s=s.sibling}function jg(t,s,r,l){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Qs(t,s,r,l),m&2048&&Qo(9,s);break;case 1:Qs(t,s,r,l);break;case 3:Qs(t,s,r,l),m&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Oo(t)));break;case 12:if(m&2048){Qs(t,s,r,l),t=s.stateNode;try{var x=s.memoizedProps,j=x.id,T=x.onPostCommit;typeof T=="function"&&T(j,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch($){Ut(s,s.return,$)}}else Qs(t,s,r,l);break;case 31:Qs(t,s,r,l);break;case 13:Qs(t,s,r,l);break;case 23:break;case 22:x=s.stateNode,j=s.alternate,s.memoizedState!==null?x._visibility&2?Qs(t,s,r,l):Jo(t,s):x._visibility&2?Qs(t,s,r,l):(x._visibility|=2,ki(t,s,r,l,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Gm(j,s);break;case 24:Qs(t,s,r,l),m&2048&&Xm(s.alternate,s);break;default:Qs(t,s,r,l)}}function ki(t,s,r,l,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=t,j=s,T=r,$=l,re=j.flags;switch(j.tag){case 0:case 11:case 15:ki(x,j,T,$,m),Qo(8,j);break;case 23:break;case 22:var ye=j.stateNode;j.memoizedState!==null?ye._visibility&2?ki(x,j,T,$,m):Jo(x,j):(ye._visibility|=2,ki(x,j,T,$,m)),m&&re&2048&&Gm(j.alternate,j);break;case 24:ki(x,j,T,$,m),m&&re&2048&&Xm(j.alternate,j);break;default:ki(x,j,T,$,m)}s=s.sibling}}function Jo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,l=s,m=l.flags;switch(l.tag){case 22:Jo(r,l),m&2048&&Gm(l.alternate,l);break;case 24:Jo(r,l),m&2048&&Xm(l.alternate,l);break;default:Jo(r,l)}s=s.sibling}}var Zo=8192;function _i(t,s,r){if(t.subtreeFlags&Zo)for(t=t.child;t!==null;)Ng(t,s,r),t=t.sibling}function Ng(t,s,r){switch(t.tag){case 26:_i(t,s,r),t.flags&Zo&&t.memoizedState!==null&&u4(r,Ys,t.memoizedState,t.memoizedProps);break;case 5:_i(t,s,r);break;case 3:case 4:var l=Ys;Ys=ad(t.stateNode.containerInfo),_i(t,s,r),Ys=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Zo,Zo=16777216,_i(t,s,r),Zo=l):_i(t,s,r));break;default:_i(t,s,r)}}function wg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Wo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];Oa=l,Cg(l,t)}wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:Wo(t),t.flags&2048&&or(9,t,t.return);break;case 3:Wo(t);break;case 12:Wo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,$c(t)):Wo(t);break;default:Wo(t)}}function $c(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];Oa=l,Cg(l,t)}wg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:or(8,s,s.return),$c(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,$c(s));break;default:$c(s)}t=t.sibling}}function Cg(t,s){for(;Oa!==null;){var r=Oa;switch(r.tag){case 0:case 11:case 15:or(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Oo(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oa=l;else e:for(r=t;Oa!==null;){l=Oa;var m=l.sibling,x=l.return;if(hg(l),l===r){Oa=null;break e}if(m!==null){m.return=x,Oa=m;break e}Oa=x}}}var Aw={getCacheForType:function(t){var s=Va(Na),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return Va(Na).controller.signal}},Tw=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Qt=null,wt=null,Tt=0,Vt=0,gs=null,lr=!1,zi=!1,Ym=!1,kn=0,xa=0,cr=0,$r=0,Qm=0,bs=0,Oi=0,el=null,ls=null,Km=!1,Fc=0,Ag=0,Hc=1/0,Gc=null,dr=null,Ra=0,ur=null,Bi=null,_n=0,Jm=0,Zm=null,Tg=null,tl=0,Wm=null;function ys(){return(Ot&2)!==0&&Tt!==0?Tt&-Tt:L.T!==null?rx():Hs()}function Eg(){if(bs===0)if((Tt&536870912)===0||Rt){var t=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),bs=t}else bs=536870912;return t=hs.current,t!==null&&(t.flags|=32),bs}function cs(t,s,r){(t===Qt&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)&&(Li(t,0),mr(t,Tt,bs,!1)),qt(t,r),((Ot&2)===0||t!==Qt)&&(t===Qt&&((Ot&2)===0&&($r|=r),xa===4&&mr(t,Tt,bs,!1)),ln(t))}function Rg(t,s,r){if((Ot&6)!==0)throw Error(i(327));var l=!r&&(s&127)===0&&(s&t.expiredLanes)===0||ct(t,s),m=l?Mw(t,s):tx(t,s,!0),x=l;do{if(m===0){zi&&!l&&mr(t,s,0,!1);break}else{if(r=t.current.alternate,x&&!Ew(r)){m=tx(t,s,!1),x=!1;continue}if(m===2){if(x=s,t.errorRecoveryDisabledLanes&x)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var T=t;m=el;var $=T.current.memoizedState.isDehydrated;if($&&(Li(T,j).flags|=256),j=tx(T,j,!1),j!==2){if(Ym&&!$){T.errorRecoveryDisabledLanes|=x,$r|=x,m=4;break e}x=ls,ls=m,x!==null&&(ls===null?ls=x:ls.push.apply(ls,x))}m=j}if(x=!1,m!==2)continue}}if(m===1){Li(t,0),mr(t,s,0,!0);break}e:{switch(l=t,x=m,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:mr(l,s,bs,!lr);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Fc+300-U(),10<m)){if(mr(l,s,bs,!lr),it(l,0,!0)!==0)break e;_n=s,l.timeoutHandle=ib(Mg.bind(null,l,r,ls,Gc,Km,s,bs,$r,Oi,lr,x,"Throttled",-0,0),m);break e}Mg(l,r,ls,Gc,Km,s,bs,$r,Oi,lr,x,null,-0,0)}}break}while(!0);ln(t)}function Mg(t,s,r,l,m,x,j,T,$,re,ye,Ce,le,xe){if(t.timeoutHandle=-1,Ce=s.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bt},Ng(s,x,Ce);var We=(x&62914560)===x?Fc-U():(x&4194048)===x?Ag-U():0;if(We=m4(Ce,We),We!==null){_n=x,t.cancelPendingCommit=We(Lg.bind(null,t,s,x,r,l,m,j,T,$,ye,Ce,null,le,xe)),mr(t,x,j,!re);return}}Lg(t,s,x,r,l,m,j,T,$)}function Ew(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var m=r[l],x=m.getSnapshot;m=m.value;try{if(!xs(x(),m))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function mr(t,s,r,l){s&=~Qm,s&=~$r,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var m=s;0<m;){var x=31-C(m),j=1<<x;l[x]=-1,m&=~j}r!==0&&_a(t,r,s)}function Xc(){return(Ot&6)===0?(al(0),!1):!0}function ex(){if(wt!==null){if(Vt===0)var t=wt.return;else t=wt,wn=_r=null,pm(t),Ei=null,Lo=0,t=wt;for(;t!==null;)og(t.alternate,t),t=t.return;wt=null}}function Li(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Yw(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_n=0,ex(),Qt=t,wt=r=jn(t.current,null),Tt=s,Vt=0,gs=null,lr=!1,zi=ct(t,s),Ym=!1,Oi=bs=Qm=$r=cr=xa=0,ls=el=null,Km=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var m=31-C(l),x=1<<m;s|=t[m],l&=~x}return kn=s,fc(),r}function Pg(t,s){pt=null,L.H=Go,s===Ti||s===Nc?(s=Xp(),Vt=3):s===nm?(s=Xp(),Vt=4):Vt=s===Dm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gs=s,wt===null&&(xa=1,Oc(t,Es(s,t.current)))}function Dg(){var t=hs.current;return t===null?!0:(Tt&4194048)===Tt?Ds===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?t===Ds:!1}function kg(){var t=L.H;return L.H=Go,t===null?Go:t}function _g(){var t=L.A;return L.A=Aw,t}function Yc(){xa=4,lr||(Tt&4194048)!==Tt&&hs.current!==null||(zi=!0),(cr&134217727)===0&&($r&134217727)===0||Qt===null||mr(Qt,Tt,bs,!1)}function tx(t,s,r){var l=Ot;Ot|=2;var m=kg(),x=_g();(Qt!==t||Tt!==s)&&(Gc=null,Li(t,s)),s=!1;var j=xa;e:do try{if(Vt!==0&&wt!==null){var T=wt,$=gs;switch(Vt){case 8:ex(),j=6;break e;case 3:case 2:case 9:case 6:hs.current===null&&(s=!0);var re=Vt;if(Vt=0,gs=null,Ii(t,T,$,re),r&&zi){j=0;break e}break;default:re=Vt,Vt=0,gs=null,Ii(t,T,$,re)}}Rw(),j=xa;break}catch(ye){Pg(t,ye)}while(!0);return s&&t.shellSuspendCounter++,wn=_r=null,Ot=l,L.H=m,L.A=x,wt===null&&(Qt=null,Tt=0,fc()),j}function Rw(){for(;wt!==null;)zg(wt)}function Mw(t,s){var r=Ot;Ot|=2;var l=kg(),m=_g();Qt!==t||Tt!==s?(Gc=null,Hc=U()+500,Li(t,s)):zi=ct(t,s);e:do try{if(Vt!==0&&wt!==null){s=wt;var x=gs;t:switch(Vt){case 1:Vt=0,gs=null,Ii(t,s,x,1);break;case 2:case 9:if(Hp(x)){Vt=0,gs=null,Og(s);break}s=function(){Vt!==2&&Vt!==9||Qt!==t||(Vt=7),ln(t)},x.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:Hp(x)?(Vt=0,gs=null,Og(s)):(Vt=0,gs=null,Ii(t,s,x,7));break;case 5:var j=null;switch(wt.tag){case 26:j=wt.memoizedState;case 5:case 27:var T=wt;if(j?jb(j):T.stateNode.complete){Vt=0,gs=null;var $=T.sibling;if($!==null)wt=$;else{var re=T.return;re!==null?(wt=re,Qc(re)):wt=null}break t}}Vt=0,gs=null,Ii(t,s,x,5);break;case 6:Vt=0,gs=null,Ii(t,s,x,6);break;case 8:ex(),xa=6;break e;default:throw Error(i(462))}}Pw();break}catch(ye){Pg(t,ye)}while(!0);return wn=_r=null,L.H=l,L.A=m,Ot=r,wt!==null?0:(Qt=null,Tt=0,fc(),xa)}function Pw(){for(;wt!==null&&!Oe();)zg(wt)}function zg(t){var s=rg(t.alternate,t,kn);t.memoizedProps=t.pendingProps,s===null?Qc(t):wt=s}function Og(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=W0(r,s,s.pendingProps,s.type,void 0,Tt);break;case 11:s=W0(r,s,s.pendingProps,s.type.render,s.ref,Tt);break;case 5:pm(s);default:og(r,s),s=wt=_p(s,kn),s=rg(r,s,kn)}t.memoizedProps=t.pendingProps,s===null?Qc(t):wt=s}function Ii(t,s,r,l){wn=_r=null,pm(s),Ei=null,Lo=0;var m=s.return;try{if(yw(t,m,s,r,Tt)){xa=1,Oc(t,Es(r,t.current)),wt=null;return}}catch(x){if(m!==null)throw wt=m,x;xa=1,Oc(t,Es(r,t.current)),wt=null;return}s.flags&32768?(Rt||l===1?t=!0:zi||(Tt&536870912)!==0?t=!1:(lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=hs.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bg(s,t)):Qc(s)}function Qc(t){var s=t;do{if((s.flags&32768)!==0){Bg(s,lr);return}t=s.return;var r=Nw(s.alternate,s,kn);if(r!==null){wt=r;return}if(s=s.sibling,s!==null){wt=s;return}wt=s=t}while(s!==null);xa===0&&(xa=5)}function Bg(t,s){do{var r=ww(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);xa=6,wt=null}function Lg(t,s,r,l,m,x,j,T,$){t.cancelPendingCommit=null;do Kc();while(Ra!==0);if((Ot&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=$u,Lt(t,r,x,j,T,$),t===Qt&&(wt=Qt=null,Tt=0),Bi=s,ur=t,_n=r,Jm=x,Zm=m,Tg=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zw(je,function(){return $g(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,m=ee.p,ee.p=2,j=Ot,Ot|=4;try{Sw(t,s,r)}finally{Ot=j,ee.p=m,L.T=l}}Ra=1,Ig(),Vg(),Ug()}}function Ig(){if(Ra===1){Ra=0;var t=ur,s=Bi,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var l=ee.p;ee.p=2;var m=Ot;Ot|=4;try{yg(s,t);var x=xx,j=Cp(t.containerInfo),T=x.focusedElem,$=x.selectionRange;if(j!==T&&T&&T.ownerDocument&&Sp(T.ownerDocument.documentElement,T)){if($!==null&&Lu(T)){var re=$.start,ye=$.end;if(ye===void 0&&(ye=re),"selectionStart"in T)T.selectionStart=re,T.selectionEnd=Math.min(ye,T.value.length);else{var Ce=T.ownerDocument||document,le=Ce&&Ce.defaultView||window;if(le.getSelection){var xe=le.getSelection(),We=T.textContent.length,ut=Math.min($.start,We),Ht=$.end===void 0?ut:Math.min($.end,We);!xe.extend&&ut>Ht&&(j=Ht,Ht=ut,ut=j);var K=wp(T,ut),G=wp(T,Ht);if(K&&G&&(xe.rangeCount!==1||xe.anchorNode!==K.node||xe.anchorOffset!==K.offset||xe.focusNode!==G.node||xe.focusOffset!==G.offset)){var ne=Ce.createRange();ne.setStart(K.node,K.offset),xe.removeAllRanges(),ut>Ht?(xe.addRange(ne),xe.extend(G.node,G.offset)):(ne.setEnd(G.node,G.offset),xe.addRange(ne))}}}}for(Ce=[],xe=T;xe=xe.parentNode;)xe.nodeType===1&&Ce.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Ce.length;T++){var Ne=Ce[T];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}ld=!!mx,xx=mx=null}finally{Ot=m,ee.p=l,L.T=r}}t.current=s,Ra=2}}function Vg(){if(Ra===2){Ra=0;var t=ur,s=Bi,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var l=ee.p;ee.p=2;var m=Ot;Ot|=4;try{fg(t,s.alternate,s)}finally{Ot=m,ee.p=l,L.T=r}}Ra=3}}function Ug(){if(Ra===4||Ra===3){Ra=0,ze();var t=ur,s=Bi,r=_n,l=Tg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ra=5:(Ra=0,Bi=ur=null,qg(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(dr=null),Fs(r),s=s.stateNode,na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=L.T,m=ee.p,ee.p=2,L.T=null;try{for(var x=t.onRecoverableError,j=0;j<l.length;j++){var T=l[j];x(T.value,{componentStack:T.stack})}}finally{L.T=s,ee.p=m}}(_n&3)!==0&&Kc(),ln(t),m=t.pendingLanes,(r&261930)!==0&&(m&42)!==0?t===Wm?tl++:(tl=0,Wm=t):tl=0,al(0)}}function qg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Oo(s)))}function Kc(){return Ig(),Vg(),Ug(),$g()}function $g(){if(Ra!==5)return!1;var t=ur,s=Jm;Jm=0;var r=Fs(_n),l=L.T,m=ee.p;try{ee.p=32>r?32:r,L.T=null,r=Zm,Zm=null;var x=ur,j=_n;if(Ra=0,Bi=ur=null,_n=0,(Ot&6)!==0)throw Error(i(331));var T=Ot;if(Ot|=4,Sg(x.current),jg(x,x.current,j,r),Ot=T,al(0,!1),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(Dt,x)}catch{}return!0}finally{ee.p=m,L.T=l,qg(t,s)}}function Fg(t,s,r){s=Es(r,s),s=Pm(t.stateNode,s,2),t=nr(t,s,2),t!==null&&(qt(t,2),ln(t))}function Ut(t,s,r){if(t.tag===3)Fg(t,t,r);else for(;s!==null;){if(s.tag===3){Fg(s,t,r);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){t=Es(r,t),r=H0(2),l=nr(s,r,2),l!==null&&(G0(r,l,s,t),qt(l,2),ln(l));break}}s=s.return}}function ax(t,s,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Tw;var m=new Set;l.set(s,m)}else m=l.get(s),m===void 0&&(m=new Set,l.set(s,m));m.has(r)||(Ym=!0,m.add(r),t=Dw.bind(null,t,s,r),s.then(t,t))}function Dw(t,s,r){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Qt===t&&(Tt&r)===r&&(xa===4||xa===3&&(Tt&62914560)===Tt&&300>U()-Fc?(Ot&2)===0&&Li(t,0):Qm|=r,Oi===Tt&&(Oi=0)),ln(t)}function Hg(t,s){s===0&&(s=jt()),t=Pr(t,s),t!==null&&(qt(t,s),ln(t))}function kw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Hg(t,r)}function _w(t,s){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,m=t.memoizedState;m!==null&&(r=m.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Hg(t,r)}function zw(t,s){return ft(t,s)}var Jc=null,Vi=null,sx=!1,Zc=!1,nx=!1,xr=0;function ln(t){t!==Vi&&t.next===null&&(Vi===null?Jc=Vi=t:Vi=Vi.next=t),Zc=!0,sx||(sx=!0,Bw())}function al(t,s){if(!nx&&Zc){nx=!0;do for(var r=!1,l=Jc;l!==null;){if(t!==0){var m=l.pendingLanes;if(m===0)var x=0;else{var j=l.suspendedLanes,T=l.pingedLanes;x=(1<<31-C(42|t)+1)-1,x&=m&~(j&~T),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(r=!0,Qg(l,x))}else x=Tt,x=it(l,l===Qt?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||ct(l,x)||(r=!0,Qg(l,x));l=l.next}while(r);nx=!1}}function Ow(){Gg()}function Gg(){Zc=sx=!1;var t=0;xr!==0&&Xw()&&(t=xr);for(var s=U(),r=null,l=Jc;l!==null;){var m=l.next,x=Xg(l,s);x===0?(l.next=null,r===null?Jc=m:r.next=m,m===null&&(Vi=r)):(r=l,(t!==0||(x&3)!==0)&&(Zc=!0)),l=m}Ra!==0&&Ra!==5||al(t),xr!==0&&(xr=0)}function Xg(t,s){for(var r=t.suspendedLanes,l=t.pingedLanes,m=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var j=31-C(x),T=1<<j,$=m[j];$===-1?((T&r)===0||(T&l)!==0)&&(m[j]=Le(T,s)):$<=s&&(t.expiredLanes|=T),x&=~T}if(s=Qt,r=Tt,r=it(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===s&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&F(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ct(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(l!==null&&F(l),Fs(r)){case 2:case 8:r=ke;break;case 32:r=je;break;case 268435456:r=V;break;default:r=je}return l=Yg.bind(null,t),r=ft(r,l),t.callbackPriority=s,t.callbackNode=r,s}return l!==null&&l!==null&&F(l),t.callbackPriority=2,t.callbackNode=null,2}function Yg(t,s){if(Ra!==0&&Ra!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Kc()&&t.callbackNode!==r)return null;var l=Tt;return l=it(t,t===Qt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Rg(t,l,s),Xg(t,U()),t.callbackNode!=null&&t.callbackNode===r?Yg.bind(null,t):null)}function Qg(t,s){if(Kc())return null;Rg(t,s,!0)}function Bw(){Qw(function(){(Ot&6)!==0?ft(be,Ow):Gg()})}function rx(){if(xr===0){var t=Ci;t===0&&(t=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),xr=t}return xr}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pt(""+t)}function Jg(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function Lw(t,s,r,l,m){if(s==="submit"&&r&&r.stateNode===m){var x=Kg((m[za]||null).action),j=l.submitter;j&&(s=(s=j[za]||null)?Kg(s.formAction):j.getAttribute("formAction"),s!==null&&(x=s,j=null));var T=new dc("action","action",null,l,m);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var $=j?Jg(m,j):new FormData(m);Cm(r,{pending:!0,data:$,method:m.method,action:x},null,$)}}else typeof x=="function"&&(T.preventDefault(),$=j?Jg(m,j):new FormData(m),Cm(r,{pending:!0,data:$,method:m.method,action:x},x,$))},currentTarget:m}]})}}for(var ix=0;ix<qu.length;ix++){var ox=qu[ix],Iw=ox.toLowerCase(),Vw=ox[0].toUpperCase()+ox.slice(1);Xs(Iw,"on"+Vw)}Xs(Ep,"onAnimationEnd"),Xs(Rp,"onAnimationIteration"),Xs(Mp,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(aw,"onTransitionRun"),Xs(sw,"onTransitionStart"),Xs(nw,"onTransitionCancel"),Xs(Pp,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Zg(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],m=l.event;l=l.listeners;e:{var x=void 0;if(s)for(var j=l.length-1;0<=j;j--){var T=l[j],$=T.instance,re=T.currentTarget;if(T=T.listener,$!==x&&m.isPropagationStopped())break e;x=T,m.currentTarget=re;try{x(m)}catch(ye){xc(ye)}m.currentTarget=null,x=$}else for(j=0;j<l.length;j++){if(T=l[j],$=T.instance,re=T.currentTarget,T=T.listener,$!==x&&m.isPropagationStopped())break e;x=T,m.currentTarget=re;try{x(m)}catch(ye){xc(ye)}m.currentTarget=null,x=$}}}}function St(t,s){var r=s[jo];r===void 0&&(r=s[jo]=new Set);var l=t+"__bubble";r.has(l)||(Wg(s,t,2,!1),r.add(l))}function lx(t,s,r){var l=0;s&&(l|=4),Wg(r,t,l,s)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function cx(t){if(!t[Wc]){t[Wc]=!0,tc.forEach(function(r){r!=="selectionchange"&&(Uw.has(r)||lx(r,!1,t),lx(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Wc]||(s[Wc]=!0,lx("selectionchange",!1,s))}}function Wg(t,s,r,l){switch(Eb(s)){case 2:var m=h4;break;case 8:m=p4;break;default:m=Sx}r=m.bind(null,s,r,t),m=void 0,!Ru||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),l?m!==void 0?t.addEventListener(s,r,{capture:!0,passive:m}):t.addEventListener(s,r,!0):m!==void 0?t.addEventListener(s,r,{passive:m}):t.addEventListener(s,r,!1)}function dx(t,s,r,l,m){var x=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var T=l.stateNode.containerInfo;if(T===m)break;if(j===4)for(j=l.return;j!==null;){var $=j.tag;if(($===3||$===4)&&j.stateNode.containerInfo===m)return;j=j.return}for(;T!==null;){if(j=Fn(T),j===null)return;if($=j.tag,$===5||$===6||$===26||$===27){l=x=j;continue e}T=T.parentNode}}l=l.return}np(function(){var re=x,ye=Tr(r),Ce=[];e:{var le=Dp.get(t);if(le!==void 0){var xe=dc,We=t;switch(t){case"keypress":if(lc(r)===0)break e;case"keydown":case"keyup":xe=_2;break;case"focusin":We="focus",xe=ku;break;case"focusout":We="blur",xe=ku;break;case"beforeblur":case"afterblur":xe=ku;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=N2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=B2;break;case Ep:case Rp:case Mp:xe=C2;break;case Pp:xe=I2;break;case"scroll":case"scrollend":xe=v2;break;case"wheel":xe=U2;break;case"copy":case"cut":case"paste":xe=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=cp;break;case"toggle":case"beforetoggle":xe=$2}var ut=(s&4)!==0,Ht=!ut&&(t==="scroll"||t==="scrollend"),K=ut?le!==null?le+"Capture":null:le;ut=[];for(var G=re,ne;G!==null;){var Ne=G;if(ne=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ne===null||K===null||(Ne=Co(G,K),Ne!=null&&ut.push(nl(G,Ne,ne))),Ht)break;G=G.return}0<ut.length&&(le=new xe(le,We,null,r,ye),Ce.push({event:le,listeners:ut}))}}if((s&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",xe=t==="mouseout"||t==="pointerout",le&&r!==sn&&(We=r.relatedTarget||r.fromElement)&&(Fn(We)||We[As]))break e;if((xe||le)&&(le=ye.window===ye?ye:(le=ye.ownerDocument)?le.defaultView||le.parentWindow:window,xe?(We=r.relatedTarget||r.toElement,xe=re,We=We?Fn(We):null,We!==null&&(Ht=d(We),ut=We.tag,We!==Ht||ut!==5&&ut!==27&&ut!==6)&&(We=null)):(xe=null,We=re),xe!==We)){if(ut=op,Ne="onMouseLeave",K="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(ut=cp,Ne="onPointerLeave",K="onPointerEnter",G="pointer"),Ht=xe==null?le:Gn(xe),ne=We==null?le:Gn(We),le=new ut(Ne,G+"leave",xe,r,ye),le.target=Ht,le.relatedTarget=ne,Ne=null,Fn(ye)===re&&(ut=new ut(K,G+"enter",We,r,ye),ut.target=ne,ut.relatedTarget=Ht,Ne=ut),Ht=Ne,xe&&We)t:{for(ut=qw,K=xe,G=We,ne=0,Ne=K;Ne;Ne=ut(Ne))ne++;Ne=0;for(var lt=G;lt;lt=ut(lt))Ne++;for(;0<ne-Ne;)K=ut(K),ne--;for(;0<Ne-ne;)G=ut(G),Ne--;for(;ne--;){if(K===G||G!==null&&K===G.alternate){ut=K;break t}K=ut(K),G=ut(G)}ut=null}else ut=null;xe!==null&&eb(Ce,le,xe,ut,!1),We!==null&&Ht!==null&&eb(Ce,Ht,We,ut,!0)}}e:{if(le=re?Gn(re):window,xe=le.nodeName&&le.nodeName.toLowerCase(),xe==="select"||xe==="input"&&le.type==="file")var _t=gp;else if(hp(le))if(bp)_t=W2;else{_t=J2;var st=K2}else xe=le.nodeName,!xe||xe.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?re&&nt(re.elementType)&&(_t=gp):_t=Z2;if(_t&&(_t=_t(t,re))){pp(Ce,_t,r,ye);break e}st&&st(t,le,re),t==="focusout"&&re&&le.type==="number"&&re.memoizedProps.value!=null&&an(le,"number",le.value)}switch(st=re?Gn(re):window,t){case"focusin":(hp(st)||st.contentEditable==="true")&&(gi=st,Iu=re,ko=null);break;case"focusout":ko=Iu=gi=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Ap(Ce,r,ye);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Ap(Ce,r,ye)}var bt;if(zu)e:{switch(t){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else pi?xp(t,r)&&(Et="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Et="onCompositionStart");Et&&(dp&&r.locale!=="ko"&&(pi||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&pi&&(bt=rp()):(Jn=ye,Mu="value"in Jn?Jn.value:Jn.textContent,pi=!0)),st=ed(re,Et),0<st.length&&(Et=new lp(Et,t,null,r,ye),Ce.push({event:Et,listeners:st}),bt?Et.data=bt:(bt=fp(r),bt!==null&&(Et.data=bt)))),(bt=H2?G2(t,r):X2(t,r))&&(Et=ed(re,"onBeforeInput"),0<Et.length&&(st=new lp("onBeforeInput","beforeinput",null,r,ye),Ce.push({event:st,listeners:Et}),st.data=bt)),Lw(Ce,t,re,r,ye)}Zg(Ce,s)})}function nl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function ed(t,s){for(var r=s+"Capture",l=[];t!==null;){var m=t,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Co(t,r),m!=null&&l.unshift(nl(t,m,x)),m=Co(t,s),m!=null&&l.push(nl(t,m,x))),t.tag===3)return l;t=t.return}return[]}function qw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function eb(t,s,r,l,m){for(var x=s._reactName,j=[];r!==null&&r!==l;){var T=r,$=T.alternate,re=T.stateNode;if(T=T.tag,$!==null&&$===l)break;T!==5&&T!==26&&T!==27||re===null||($=re,m?(re=Co(r,x),re!=null&&j.unshift(nl(r,re,$))):m||(re=Co(r,x),re!=null&&j.push(nl(r,re,$)))),r=r.return}j.length!==0&&t.push({event:s,listeners:j})}var $w=/\r\n?/g,Fw=/\u0000|\uFFFD/g;function tb(t){return(typeof t=="string"?t:""+t).replace($w,`
`).replace(Fw,"")}function ab(t,s){return s=tb(s),tb(t)===s}function Ft(t,s,r,l,m,x){switch(r){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pe(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pe(t,""+l);break;case"className":xi(t,"class",l);break;case"tabIndex":xi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(t,r,l);break;case"style":Qe(t,l,x);break;case"data":if(s!=="object"){xi(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pt(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(r==="formAction"?(s!=="input"&&Ft(t,s,"name",m.name,m,null),Ft(t,s,"formEncType",m.formEncType,m,null),Ft(t,s,"formMethod",m.formMethod,m,null),Ft(t,s,"formTarget",m.formTarget,m,null)):(Ft(t,s,"encType",m.encType,m,null),Ft(t,s,"method",m.method,m,null),Ft(t,s,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pt(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Bt);break;case"onScroll":l!=null&&St("scroll",t);break;case"onScrollEnd":l!=null&&St("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pt(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":St("beforetoggle",t),St("toggle",t),mi(t,"popover",l);break;case"xlinkActuate":Gs(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gs(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gs(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gs(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gs(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gs(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gs(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nt.get(r)||r,mi(t,r,l))}}function ux(t,s,r,l,m,x){switch(r){case"style":Qe(t,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pe(t,l):(typeof l=="number"||typeof l=="bigint")&&pe(t,""+l);break;case"onScroll":l!=null&&St("scroll",t);break;case"onScrollEnd":l!=null&&St("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),s=r.slice(2,m?r.length-7:void 0),x=t[za]||null,x=x!=null?x[r]:null,typeof x=="function"&&t.removeEventListener(s,x,m),typeof l=="function")){typeof x!="function"&&x!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,l,m);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):mi(t,r,l)}}}function qa(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",t),St("load",t);var l=!1,m=!1,x;for(x in r)if(r.hasOwnProperty(x)){var j=r[x];if(j!=null)switch(x){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ft(t,s,x,j,r,null)}}m&&Ft(t,s,"srcSet",r.srcSet,r,null),l&&Ft(t,s,"src",r.src,r,null);return;case"input":St("invalid",t);var T=x=j=m=null,$=null,re=null;for(l in r)if(r.hasOwnProperty(l)){var ye=r[l];if(ye!=null)switch(l){case"name":m=ye;break;case"type":j=ye;break;case"checked":$=ye;break;case"defaultChecked":re=ye;break;case"value":x=ye;break;case"defaultValue":T=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,s));break;default:Ft(t,s,l,ye,r,null)}}ja(t,x,T,$,re,j,m,!1);return;case"select":St("invalid",t),l=j=x=null;for(m in r)if(r.hasOwnProperty(m)&&(T=r[m],T!=null))switch(m){case"value":x=T;break;case"defaultValue":j=T;break;case"multiple":l=T;default:Ft(t,s,m,T,r,null)}s=x,r=j,t.multiple=!!l,s!=null?yn(t,!!l,s,!1):r!=null&&yn(t,!!l,r,!0);return;case"textarea":St("invalid",t),x=m=l=null;for(j in r)if(r.hasOwnProperty(j)&&(T=r[j],T!=null))switch(j){case"value":l=T;break;case"defaultValue":m=T;break;case"children":x=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ft(t,s,j,T,r,null)}W(t,l,m,x);return;case"option":for($ in r)if(r.hasOwnProperty($)&&(l=r[$],l!=null))switch($){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,s,$,l,r,null)}return;case"dialog":St("beforetoggle",t),St("toggle",t),St("cancel",t),St("close",t);break;case"iframe":case"object":St("load",t);break;case"video":case"audio":for(l=0;l<sl.length;l++)St(sl[l],t);break;case"image":St("error",t),St("load",t);break;case"details":St("toggle",t);break;case"embed":case"source":case"link":St("error",t),St("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in r)if(r.hasOwnProperty(re)&&(l=r[re],l!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ft(t,s,re,l,r,null)}return;default:if(nt(s)){for(ye in r)r.hasOwnProperty(ye)&&(l=r[ye],l!==void 0&&ux(t,s,ye,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Ft(t,s,T,l,r,null))}function Hw(t,s,r,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,j=null,T=null,$=null,re=null,ye=null;for(xe in r){var Ce=r[xe];if(r.hasOwnProperty(xe)&&Ce!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":$=Ce;default:l.hasOwnProperty(xe)||Ft(t,s,xe,null,l,Ce)}}for(var le in l){var xe=l[le];if(Ce=r[le],l.hasOwnProperty(le)&&(xe!=null||Ce!=null))switch(le){case"type":x=xe;break;case"name":m=xe;break;case"checked":re=xe;break;case"defaultChecked":ye=xe;break;case"value":j=xe;break;case"defaultValue":T=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,s));break;default:xe!==Ce&&Ft(t,s,le,xe,l,Ce)}}ss(t,j,T,$,re,ye,x,m);return;case"select":xe=j=T=le=null;for(x in r)if($=r[x],r.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":xe=$;default:l.hasOwnProperty(x)||Ft(t,s,x,null,l,$)}for(m in l)if(x=l[m],$=r[m],l.hasOwnProperty(m)&&(x!=null||$!=null))switch(m){case"value":le=x;break;case"defaultValue":T=x;break;case"multiple":j=x;default:x!==$&&Ft(t,s,m,x,l,$)}s=T,r=j,l=xe,le!=null?yn(t,!!r,le,!1):!!l!=!!r&&(s!=null?yn(t,!!r,s,!0):yn(t,!!r,r?[]:"",!1));return;case"textarea":xe=le=null;for(T in r)if(m=r[T],r.hasOwnProperty(T)&&m!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ft(t,s,T,null,l,m)}for(j in l)if(m=l[j],x=r[j],l.hasOwnProperty(j)&&(m!=null||x!=null))switch(j){case"value":le=m;break;case"defaultValue":xe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==x&&Ft(t,s,j,m,l,x)}z(t,le,xe);return;case"option":for(var We in r)if(le=r[We],r.hasOwnProperty(We)&&le!=null&&!l.hasOwnProperty(We))switch(We){case"selected":t.selected=!1;break;default:Ft(t,s,We,null,l,le)}for($ in l)if(le=l[$],xe=r[$],l.hasOwnProperty($)&&le!==xe&&(le!=null||xe!=null))switch($){case"selected":t.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ft(t,s,$,le,l,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in r)le=r[ut],r.hasOwnProperty(ut)&&le!=null&&!l.hasOwnProperty(ut)&&Ft(t,s,ut,null,l,le);for(re in l)if(le=l[re],xe=r[re],l.hasOwnProperty(re)&&le!==xe&&(le!=null||xe!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:Ft(t,s,re,le,l,xe)}return;default:if(nt(s)){for(var Ht in r)le=r[Ht],r.hasOwnProperty(Ht)&&le!==void 0&&!l.hasOwnProperty(Ht)&&ux(t,s,Ht,void 0,l,le);for(ye in l)le=l[ye],xe=r[ye],!l.hasOwnProperty(ye)||le===xe||le===void 0&&xe===void 0||ux(t,s,ye,le,l,xe);return}}for(var K in r)le=r[K],r.hasOwnProperty(K)&&le!=null&&!l.hasOwnProperty(K)&&Ft(t,s,K,null,l,le);for(Ce in l)le=l[Ce],xe=r[Ce],!l.hasOwnProperty(Ce)||le===xe||le==null&&xe==null||Ft(t,s,Ce,le,l,xe)}function sb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var m=r[l],x=m.transferSize,j=m.initiatorType,T=m.duration;if(x&&T&&sb(j)){for(j=0,T=m.responseEnd,l+=1;l<r.length;l++){var $=r[l],re=$.startTime;if(re>T)break;var ye=$.transferSize,Ce=$.initiatorType;ye&&sb(Ce)&&($=$.responseEnd,j+=ye*($<T?1:(T-re)/($-re)))}if(--l,s+=8*(x+j)/(m.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mx=null,xx=null;function td(t){return t.nodeType===9?t:t.ownerDocument}function nb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rb(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function fx(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hx=null;function Xw(){var t=window.event;return t&&t.type==="popstate"?t===hx?!1:(hx=t,!0):(hx=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(t){return ob.resolve(null).then(t).catch(Kw)}:ib;function Kw(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function lb(t,s){var r=s,l=0;do{var m=r.nextSibling;if(t.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(m),Fi(s);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")rl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,rl(r);for(var x=r.firstChild;x;){var j=x.nextSibling,T=x.nodeName;x[Ar]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||r.removeChild(x),x=j}}else r==="body"&&rl(t.ownerDocument.body);r=m}while(r);Fi(s)}function cb(t,s){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function px(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":px(r),No(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Jw(t,s,r,l){for(;t.nodeType===1;){var m=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=ks(t.nextSibling),t===null)break}return null}function Zw(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ks(t.nextSibling),t===null))return null;return t}function db(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ks(t.nextSibling),t===null))return null;return t}function gx(t){return t.data==="$?"||t.data==="$~"}function bx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ww(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var l=function(){s(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ks(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var yx=null;function ub(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return ks(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function mb(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function xb(t,s,r){switch(s=td(r),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function rl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);No(t)}var _s=new Map,fb=new Set;function ad(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zn=ee.d;ee.d={f:e4,r:t4,D:a4,C:s4,L:n4,m:r4,X:o4,S:i4,M:l4};function e4(){var t=zn.f(),s=Xc();return t||s}function t4(t){var s=Hn(t);s!==null&&s.tag===5&&s.type==="form"?P0(s):zn.r(t)}var Ui=typeof document>"u"?null:document;function hb(t,s,r){var l=Ui;if(l&&typeof s=="string"&&s){var m=ca(s);m='link[rel="'+t+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),fb.has(m)||(fb.add(m),t={rel:t,crossOrigin:r,href:s},l.querySelector(m)===null&&(s=l.createElement("link"),qa(s,"link",t),va(s),l.head.appendChild(s)))}}function a4(t){zn.D(t),hb("dns-prefetch",t,null)}function s4(t,s){zn.C(t,s),hb("preconnect",t,s)}function n4(t,s,r){zn.L(t,s,r);var l=Ui;if(l&&t&&s){var m='link[rel="preload"][as="'+ca(s)+'"]';s==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+ca(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+ca(r.imageSizes)+'"]')):m+='[href="'+ca(t)+'"]';var x=m;switch(s){case"style":x=qi(t);break;case"script":x=$i(t)}_s.has(x)||(t=g({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),_s.set(x,t),l.querySelector(m)!==null||s==="style"&&l.querySelector(il(x))||s==="script"&&l.querySelector(ol(x))||(s=l.createElement("link"),qa(s,"link",t),va(s),l.head.appendChild(s)))}}function r4(t,s){zn.m(t,s);var r=Ui;if(r&&t){var l=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+ca(l)+'"][href="'+ca(t)+'"]',x=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=$i(t)}if(!_s.has(x)&&(t=g({rel:"modulepreload",href:t},s),_s.set(x,t),r.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ol(x)))return}l=r.createElement("link"),qa(l,"link",t),va(l),r.head.appendChild(l)}}}function i4(t,s,r){zn.S(t,s,r);var l=Ui;if(l&&t){var m=Xn(l).hoistableStyles,x=qi(t);s=s||"default";var j=m.get(x);if(!j){var T={loading:0,preload:null};if(j=l.querySelector(il(x)))T.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},r),(r=_s.get(x))&&vx(t,r);var $=j=l.createElement("link");va($),qa($,"link",t),$._p=new Promise(function(re,ye){$.onload=re,$.onerror=ye}),$.addEventListener("load",function(){T.loading|=1}),$.addEventListener("error",function(){T.loading|=2}),T.loading|=4,sd(j,s,l)}j={type:"stylesheet",instance:j,count:1,state:T},m.set(x,j)}}}function o4(t,s){zn.X(t,s);var r=Ui;if(r&&t){var l=Xn(r).hoistableScripts,m=$i(t),x=l.get(m);x||(x=r.querySelector(ol(m)),x||(t=g({src:t,async:!0},s),(s=_s.get(m))&&jx(t,s),x=r.createElement("script"),va(x),qa(x,"link",t),r.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(m,x))}}function l4(t,s){zn.M(t,s);var r=Ui;if(r&&t){var l=Xn(r).hoistableScripts,m=$i(t),x=l.get(m);x||(x=r.querySelector(ol(m)),x||(t=g({src:t,async:!0,type:"module"},s),(s=_s.get(m))&&jx(t,s),x=r.createElement("script"),va(x),qa(x,"link",t),r.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(m,x))}}function pb(t,s,r,l){var m=(m=Ze.current)?ad(m):null;if(!m)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=qi(r.href),r=Xn(m).hoistableStyles,l=r.get(s),l||(l={type:"style",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=qi(r.href);var x=Xn(m).hoistableStyles,j=x.get(t);if(j||(m=m.ownerDocument||m,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,j),(x=m.querySelector(il(t)))&&!x._p&&(j.instance=x,j.state.loading=5),_s.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_s.set(t,r),x||c4(m,t,r,j.state))),s&&l===null)throw Error(i(528,""));return j}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$i(r),r=Xn(m).hoistableScripts,l=r.get(s),l||(l={type:"script",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function qi(t){return'href="'+ca(t)+'"'}function il(t){return'link[rel="stylesheet"]['+t+"]"}function gb(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function c4(t,s,r,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),qa(s,"link",r),va(s),t.head.appendChild(s))}function $i(t){return'[src="'+ca(t)+'"]'}function ol(t){return"script[async]"+t}function bb(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+ca(r.href)+'"]');if(l)return s.instance=l,va(l),l;var m=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),va(l),qa(l,"style",m),sd(l,r.precedence,t),s.instance=l;case"stylesheet":m=qi(r.href);var x=t.querySelector(il(m));if(x)return s.state.loading|=4,s.instance=x,va(x),x;l=gb(r),(m=_s.get(m))&&vx(l,m),x=(t.ownerDocument||t).createElement("link"),va(x);var j=x;return j._p=new Promise(function(T,$){j.onload=T,j.onerror=$}),qa(x,"link",l),s.state.loading|=4,sd(x,r.precedence,t),s.instance=x;case"script":return x=$i(r.src),(m=t.querySelector(ol(x)))?(s.instance=m,va(m),m):(l=r,(m=_s.get(x))&&(l=g({},r),jx(l,m)),t=t.ownerDocument||t,m=t.createElement("script"),va(m),qa(m,"link",l),t.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,sd(l,r.precedence,t));return s.instance}function sd(t,s,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,x=m,j=0;j<l.length;j++){var T=l[j];if(T.dataset.precedence===s)x=T;else if(x!==m)break}x?x.parentNode.insertBefore(t,x.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function vx(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function jx(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var nd=null;function yb(t,s,r){if(nd===null){var l=new Map,m=nd=new Map;m.set(r,l)}else m=nd,l=m.get(r),l||(l=new Map,m.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),m=0;m<r.length;m++){var x=r[m];if(!(x[Ar]||x[ua]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(s)||"";j=t+j;var T=l.get(j);T?T.push(x):l.set(j,[x])}}return l}function vb(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function d4(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function u4(t,s,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=qi(l.href),x=s.querySelector(il(m));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=rd.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=x,va(x);return}x=s.ownerDocument||s,l=gb(l),(m=_s.get(m))&&vx(l,m),x=x.createElement("link"),va(x);var j=x;j._p=new Promise(function(T,$){j.onload=T,j.onerror=$}),qa(x,"link",l),r.instance=x}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=rd.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Nx=0;function m4(t,s){return t.stylesheets&&t.count===0&&od(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&od(t,t.stylesheets),t.unsuspend){var x=t.unsuspend;t.unsuspend=null,x()}},6e4+s);0<t.imgBytes&&Nx===0&&(Nx=62500*Gw());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&od(t,t.stylesheets),t.unsuspend)){var x=t.unsuspend;t.unsuspend=null,x()}},(t.imgBytes>Nx?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(m)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var id=null;function od(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,id=new Map,s.forEach(x4,t),id=null,rd.call(t))}function x4(t,s){if(!(s.state.loading&4)){var r=id.get(t);if(r)var l=r.get(null);else{r=new Map,id.set(t,r);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var j=m[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),l=j)}l&&r.set(null,l)}m=s.instance,j=m.getAttribute("data-precedence"),x=r.get(j)||l,x===l&&r.set(null,m),r.set(j,m),this.count++,l=rd.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),x?x.parentNode.insertBefore(m,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),s.state.loading|=4}}var ll={$$typeof:O,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function f4(t,s,r,l,m,x,j,T,$){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.hiddenUpdates=ka(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Nb(t,s,r,l,m,x,j,T,$,re,ye,Ce){return t=new f4(t,s,r,j,$,re,ye,Ce,T),s=1,x===!0&&(s|=24),x=fs(3,null,null,s),t.current=x,x.stateNode=t,s=tm(),s.refCount++,t.pooledCache=s,s.refCount++,x.memoizedState={element:l,isDehydrated:r,cache:s},rm(x),t}function wb(t){return t?(t=vi,t):vi}function Sb(t,s,r,l,m,x){m=wb(m),l.context===null?l.context=m:l.pendingContext=m,l=sr(s),l.payload={element:r},x=x===void 0?null:x,x!==null&&(l.callback=x),r=nr(t,l,s),r!==null&&(cs(r,t,s),Vo(r,t,s))}function Cb(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function wx(t,s){Cb(t,s),(t=t.alternate)&&Cb(t,s)}function Ab(t){if(t.tag===13||t.tag===31){var s=Pr(t,67108864);s!==null&&cs(s,t,67108864),wx(t,67108864)}}function Tb(t){if(t.tag===13||t.tag===31){var s=ys();s=gn(s);var r=Pr(t,s);r!==null&&cs(r,t,s),wx(t,s)}}var ld=!0;function h4(t,s,r,l){var m=L.T;L.T=null;var x=ee.p;try{ee.p=2,Sx(t,s,r,l)}finally{ee.p=x,L.T=m}}function p4(t,s,r,l){var m=L.T;L.T=null;var x=ee.p;try{ee.p=8,Sx(t,s,r,l)}finally{ee.p=x,L.T=m}}function Sx(t,s,r,l){if(ld){var m=Cx(l);if(m===null)dx(t,s,l,cd,r),Rb(t,l);else if(b4(m,t,s,r,l))l.stopPropagation();else if(Rb(t,l),s&4&&-1<g4.indexOf(t)){for(;m!==null;){var x=Hn(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=mt(x.pendingLanes);if(j!==0){var T=x;for(T.pendingLanes|=2,T.entangledLanes|=2;j;){var $=1<<31-C(j);T.entanglements[1]|=$,j&=~$}ln(x),(Ot&6)===0&&(Hc=U()+500,al(0))}}break;case 31:case 13:T=Pr(x,2),T!==null&&cs(T,x,2),Xc(),wx(x,2)}if(x=Cx(l),x===null&&dx(t,s,l,cd,r),x===m)break;m=x}m!==null&&l.stopPropagation()}else dx(t,s,l,null,r)}}function Cx(t){return t=Tr(t),Ax(t)}var cd=null;function Ax(t){if(cd=null,t=Fn(t),t!==null){var s=d(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=u(s),t!==null)return t;t=null}else if(r===31){if(t=f(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return cd=t,null}function Eb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case be:return 2;case ke:return 8;case je:case He:return 32;case V:return 268435456;default:return 32}default:return 32}}var Tx=!1,hr=null,pr=null,gr=null,cl=new Map,dl=new Map,br=[],g4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rb(t,s){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(s.pointerId)}}function ul(t,s,r,l,m,x){return t===null||t.nativeEvent!==x?(t={blockedOn:s,domEventName:r,eventSystemFlags:l,nativeEvent:x,targetContainers:[m]},s!==null&&(s=Hn(s),s!==null&&Ab(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),t)}function b4(t,s,r,l,m){switch(s){case"focusin":return hr=ul(hr,t,s,r,l,m),!0;case"dragenter":return pr=ul(pr,t,s,r,l,m),!0;case"mouseover":return gr=ul(gr,t,s,r,l,m),!0;case"pointerover":var x=m.pointerId;return cl.set(x,ul(cl.get(x)||null,t,s,r,l,m)),!0;case"gotpointercapture":return x=m.pointerId,dl.set(x,ul(dl.get(x)||null,t,s,r,l,m)),!0}return!1}function Mb(t){var s=Fn(t.target);if(s!==null){var r=d(s);if(r!==null){if(s=r.tag,s===13){if(s=u(r),s!==null){t.blockedOn=s,ui(t.priority,function(){Tb(r)});return}}else if(s===31){if(s=f(r),s!==null){t.blockedOn=s,ui(t.priority,function(){Tb(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Cx(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);sn=l,r.target.dispatchEvent(l),sn=null}else return s=Hn(r),s!==null&&Ab(s),t.blockedOn=r,!1;s.shift()}return!0}function Pb(t,s,r){dd(t)&&r.delete(s)}function y4(){Tx=!1,hr!==null&&dd(hr)&&(hr=null),pr!==null&&dd(pr)&&(pr=null),gr!==null&&dd(gr)&&(gr=null),cl.forEach(Pb),dl.forEach(Pb)}function ud(t,s){t.blockedOn===s&&(t.blockedOn=null,Tx||(Tx=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,y4)))}var md=null;function Db(t){md!==t&&(md=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){md===t&&(md=null);for(var s=0;s<t.length;s+=3){var r=t[s],l=t[s+1],m=t[s+2];if(typeof l!="function"){if(Ax(l||r)===null)continue;break}var x=Hn(r);x!==null&&(t.splice(s,3),s-=3,Cm(x,{pending:!0,data:m,method:r.method,action:l},l,m))}}))}function Fi(t){function s($){return ud($,t)}hr!==null&&ud(hr,t),pr!==null&&ud(pr,t),gr!==null&&ud(gr,t),cl.forEach(s),dl.forEach(s);for(var r=0;r<br.length;r++){var l=br[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<br.length&&(r=br[0],r.blockedOn===null);)Mb(r),r.blockedOn===null&&br.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var m=r[l],x=r[l+1],j=m[za]||null;if(typeof x=="function")j||Db(r);else if(j){var T=null;if(x&&x.hasAttribute("formAction")){if(m=x,j=x[za]||null)T=j.formAction;else if(Ax(m)!==null)continue}else T=j.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Db(r)}}}function kb(){function t(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(j){return m=j})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Ex(t){this._internalRoot=t}xd.prototype.render=Ex.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,l=ys();Sb(r,l,t,s,null,null)},xd.prototype.unmount=Ex.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Sb(t.current,2,null,t,null,null),Xc(),s[As]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var s=Hs();t={blockedOn:null,target:t,priority:s};for(var r=0;r<br.length&&s!==0&&s<br[r].priority;r++);br.splice(r,0,t),r===0&&Mb(t)}};var _b=n.version;if(_b!=="19.2.1")throw Error(i(527,_b,"19.2.1"));ee.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var v4={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Dt=fd.inject(v4),na=fd}catch{}}return xl.createRoot=function(t,s){if(!c(t))throw Error(i(299));var r=!1,l="",m=U0,x=q0,j=$0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=Nb(t,1,!1,null,null,r,l,null,m,x,j,kb),t[As]=s.current,cx(t),new Ex(s)},xl.hydrateRoot=function(t,s,r){if(!c(t))throw Error(i(299));var l=!1,m="",x=U0,j=q0,T=$0,$=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&($=r.formState)),s=Nb(t,1,!0,s,r??null,l,m,$,x,j,T,kb),s.context=wb(null),r=s.current,l=ys(),l=gn(l),m=sr(l),m.callback=null,nr(r,m,l),r=l,s.current.lanes=r,qt(s,r),ln(s),t[As]=s.current,cx(t),new xd(s)},xl.version="19.2.1",xl}var Fb;function M4(){if(Fb)return Px.exports;Fb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Px.exports=R4(),Px.exports}var P4=M4();const D4=ch(P4);var Hb="popstate";function k4(a={}){function n(i,c){let{pathname:d,search:u,hash:f}=i.location;return Cf("",{pathname:d,search:u,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(i,c){return typeof c=="string"?c:Pl(c)}return z4(n,o,null,a)}function la(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Ss(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function _4(){return Math.random().toString(36).substring(2,10)}function Gb(a,n){return{usr:a.state,key:a.key,idx:n}}function Cf(a,n,o=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?uo(n):n,state:o,key:n&&n.key||i||_4()}}function Pl({pathname:a="/",search:n="",hash:o=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function uo(a){let n={};if(a){let o=a.indexOf("#");o>=0&&(n.hash=a.substring(o),a=a.substring(0,o));let i=a.indexOf("?");i>=0&&(n.search=a.substring(i),a=a.substring(0,i)),a&&(n.pathname=a)}return n}function z4(a,n,o,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,u=c.history,f="POP",p=null,h=b();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function b(){return(u.state||{idx:null}).idx}function g(){f="POP";let N=b(),M=N==null?null:N-h;h=N,p&&p({action:f,location:S.location,delta:M})}function v(N,M){f="PUSH";let _=Cf(S.location,N,M);h=b()+1;let O=Gb(_,h),D=S.createHref(_);try{u.pushState(O,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;c.location.assign(D)}d&&p&&p({action:f,location:S.location,delta:1})}function A(N,M){f="REPLACE";let _=Cf(S.location,N,M);h=b();let O=Gb(_,h),D=S.createHref(_);u.replaceState(O,"",D),d&&p&&p({action:f,location:S.location,delta:0})}function w(N){return O4(N)}let S={get action(){return f},get location(){return a(c,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Hb,g),p=N,()=>{c.removeEventListener(Hb,g),p=null}},createHref(N){return n(c,N)},createURL:w,encodeLocation(N){let M=w(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:A,go(N){return u.go(N)}};return S}function O4(a,n=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),la(o,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Pl(a);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=o+i),new URL(i,o)}function Nj(a,n,o="/"){return B4(a,n,o,!1)}function B4(a,n,o,i){let c=typeof n=="string"?uo(n):n,d=In(c.pathname||"/",o);if(d==null)return null;let u=wj(a);L4(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let h=Q4(d);f=X4(u[p],h,i)}return f}function wj(a,n=[],o=[],i="",c=!1){let d=(u,f,p=c,h)=>{let b={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&p)return;la(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let g=Ln([i,b.relativePath]),v=o.concat(b);u.children&&u.children.length>0&&(la(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),wj(u.children,n,v,g,p)),!(u.path==null&&!u.index)&&n.push({path:g,score:H4(g,u.index),routesMeta:v})};return a.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))d(u,f);else for(let p of Sj(u.path))d(u,f,!0,p)}),n}function Sj(a){let n=a.split("/");if(n.length===0)return[];let[o,...i]=n,c=o.endsWith("?"),d=o.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let u=Sj(i.join("/")),f=[];return f.push(...u.map(p=>p===""?d:[d,p].join("/"))),c&&f.push(...u),f.map(p=>a.startsWith("/")&&p===""?"/":p)}function L4(a){a.sort((n,o)=>n.score!==o.score?o.score-n.score:G4(n.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}var I4=/^:[\w-]+$/,V4=3,U4=2,q4=1,$4=10,F4=-2,Xb=a=>a==="*";function H4(a,n){let o=a.split("/"),i=o.length;return o.some(Xb)&&(i+=F4),n&&(i+=U4),o.filter(c=>!Xb(c)).reduce((c,d)=>c+(I4.test(d)?V4:d===""?q4:$4),i)}function G4(a,n){return a.length===n.length&&a.slice(0,-1).every((i,c)=>i===n[c])?a[a.length-1]-n[n.length-1]:0}function X4(a,n,o=!1){let{routesMeta:i}=a,c={},d="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],h=f===i.length-1,b=d==="/"?n:n.slice(d.length)||"/",g=Yd({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},b),v=p.route;if(!g&&h&&o&&!i[i.length-1].route.index&&(g=Yd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!g)return null;Object.assign(c,g.params),u.push({params:c,pathname:Ln([d,g.pathname]),pathnameBase:eS(Ln([d,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(d=Ln([d,g.pathnameBase]))}return u}function Yd(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,i]=Y4(a.path,a.caseSensitive,a.end),c=n.match(o);if(!c)return null;let d=c[0],u=d.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:i.reduce((h,{paramName:b,isOptional:g},v)=>{if(b==="*"){let w=f[v]||"";u=d.slice(0,d.length-w.length).replace(/(.)\/+$/,"$1")}const A=f[v];return g&&!A?h[b]=void 0:h[b]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:d,pathnameBase:u,pattern:a}}function Y4(a,n=!1,o=!0){Ss(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),i]}function Q4(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ss(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function In(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,i=a.charAt(o);return i&&i!=="/"?null:a.slice(o)||"/"}var K4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J4=a=>K4.test(a);function Z4(a,n="/"){let{pathname:o,search:i="",hash:c=""}=typeof a=="string"?uo(a):a,d;if(o)if(J4(o))d=o;else{if(o.includes("//")){let u=o;o=o.replace(/\/\/+/g,"/"),Ss(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${o}`)}o.startsWith("/")?d=Yb(o.substring(1),"/"):d=Yb(o,n)}else d=n;return{pathname:d,search:tS(i),hash:aS(c)}}function Yb(a,n){let o=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function zx(a,n,o,i){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W4(a){return a.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function dh(a){let n=W4(a);return n.map((o,i)=>i===n.length-1?o.pathname:o.pathnameBase)}function uh(a,n,o,i=!1){let c;typeof a=="string"?c=uo(a):(c={...a},la(!c.pathname||!c.pathname.includes("?"),zx("?","pathname","search",c)),la(!c.pathname||!c.pathname.includes("#"),zx("#","pathname","hash",c)),la(!c.search||!c.search.includes("#"),zx("#","search","hash",c)));let d=a===""||c.pathname==="",u=d?"/":c.pathname,f;if(u==null)f=o;else{let g=n.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),g-=1;c.pathname=v.join("/")}f=g>=0?n[g]:"/"}let p=Z4(c,f),h=u&&u!=="/"&&u.endsWith("/"),b=(d||u===".")&&o.endsWith("/");return!p.pathname.endsWith("/")&&(h||b)&&(p.pathname+="/"),p}var Ln=a=>a.join("/").replace(/\/\/+/g,"/"),eS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,aS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function sS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function nS(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cj=["POST","PUT","PATCH","DELETE"];new Set(Cj);var rS=["GET",...Cj];new Set(rS);var mo=y.createContext(null);mo.displayName="DataRouter";var cu=y.createContext(null);cu.displayName="DataRouterState";y.createContext(!1);var Aj=y.createContext({isTransitioning:!1});Aj.displayName="ViewTransition";var iS=y.createContext(new Map);iS.displayName="Fetchers";var oS=y.createContext(null);oS.displayName="Await";var qs=y.createContext(null);qs.displayName="Navigation";var Ul=y.createContext(null);Ul.displayName="Location";var $s=y.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var mh=y.createContext(null);mh.displayName="RouteError";function lS(a,{relative:n}={}){la(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:i}=y.useContext(qs),{hash:c,pathname:d,search:u}=ql(a,{relative:n}),f=d;return o!=="/"&&(f=d==="/"?o:Ln([o,d])),i.createHref({pathname:f,search:u,hash:c})}function xo(){return y.useContext(Ul)!=null}function es(){return la(xo(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ul).location}var Tj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ej(a){y.useContext(qs).static||y.useLayoutEffect(a)}function Ba(){let{isDataRoute:a}=y.useContext($s);return a?SS():cS()}function cS(){la(xo(),"useNavigate() may be used only in the context of a <Router> component.");let a=y.useContext(mo),{basename:n,navigator:o}=y.useContext(qs),{matches:i}=y.useContext($s),{pathname:c}=es(),d=JSON.stringify(dh(i)),u=y.useRef(!1);return Ej(()=>{u.current=!0}),y.useCallback((p,h={})=>{if(Ss(u.current,Tj),!u.current)return;if(typeof p=="number"){o.go(p);return}let b=uh(p,JSON.parse(d),c,h.relative==="path");a==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:Ln([n,b.pathname])),(h.replace?o.replace:o.push)(b,h.state,h)},[n,o,d,c,a])}var dS=y.createContext(null);function uS(a){let n=y.useContext($s).outlet;return y.useMemo(()=>n&&y.createElement(dS.Provider,{value:a},n),[n,a])}function mS(){let{matches:a}=y.useContext($s),n=a[a.length-1];return n?n.params:{}}function ql(a,{relative:n}={}){let{matches:o}=y.useContext($s),{pathname:i}=es(),c=JSON.stringify(dh(o));return y.useMemo(()=>uh(a,JSON.parse(c),i,n==="path"),[a,c,i,n])}function xS(a,n){return Rj(a,n)}function Rj(a,n,o,i,c){la(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=y.useContext(qs),{matches:u}=y.useContext($s),f=u[u.length-1],p=f?f.params:{},h=f?f.pathname:"/",b=f?f.pathnameBase:"/",g=f&&f.route;{let _=g&&g.path||"";Mj(h,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=es(),A;if(n){let _=typeof n=="string"?uo(n):n;la(b==="/"||_.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${_.pathname}" was given in the \`location\` prop.`),A=_}else A=v;let w=A.pathname||"/",S=w;if(b!=="/"){let _=b.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let N=Nj(a,{pathname:S});Ss(g||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ss(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=bS(N&&N.map(_=>Object.assign({},_,{params:Object.assign({},p,_.params),pathname:Ln([b,d.encodeLocation?d.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?b:Ln([b,d.encodeLocation?d.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,o,i,c);return n&&M?y.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},M):M}function fS(){let a=wS(),n=sS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:d},"ErrorBoundary")," or"," ",y.createElement("code",{style:d},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},n),o?y.createElement("pre",{style:c},o):null,u)}var hS=y.createElement(fS,null),pS=class extends y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?y.createElement($s.Provider,{value:this.props.routeContext},y.createElement(mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gS({routeContext:a,match:n,children:o}){let i=y.useContext(mo);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement($s.Provider,{value:a},o)}function bS(a,n=[],o=null,i=null,c=null){if(a==null){if(!o)return null;if(o.errors)a=o.matches;else if(n.length===0&&!o.initialized&&o.matches.length>0)a=o.matches;else return null}let d=a,u=o?.errors;if(u!=null){let b=d.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);la(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),d=d.slice(0,Math.min(d.length,b+1))}let f=!1,p=-1;if(o)for(let b=0;b<d.length;b++){let g=d[b];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=b),g.route.id){let{loaderData:v,errors:A}=o,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let h=o&&i?(b,g)=>{i(b,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:nS(o.matches),errorInfo:g})}:void 0;return d.reduceRight((b,g,v)=>{let A,w=!1,S=null,N=null;o&&(A=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||hS,f&&(p<0&&v===0?(Mj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):p===v&&(w=!0,N=g.route.hydrateFallbackElement||null)));let M=n.concat(d.slice(0,v+1)),_=()=>{let O;return A?O=S:w?O=N:g.route.Component?O=y.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=b,y.createElement(gS,{match:g,routeContext:{outlet:b,matches:M,isDataRoute:o!=null},children:O})};return o&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?y.createElement(pS,{location:o.location,revalidation:o.revalidation,component:S,error:A,children:_(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:h}):_()},null)}function xh(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(a){let n=y.useContext(mo);return la(n,xh(a)),n}function vS(a){let n=y.useContext(cu);return la(n,xh(a)),n}function jS(a){let n=y.useContext($s);return la(n,xh(a)),n}function fh(a){let n=jS(a),o=n.matches[n.matches.length-1];return la(o.route.id,`${a} can only be used on routes that contain a unique "id"`),o.route.id}function NS(){return fh("useRouteId")}function wS(){let a=y.useContext(mh),n=vS("useRouteError"),o=fh("useRouteError");return a!==void 0?a:n.errors?.[o]}function SS(){let{router:a}=yS("useNavigate"),n=fh("useNavigate"),o=y.useRef(!1);return Ej(()=>{o.current=!0}),y.useCallback(async(c,d={})=>{Ss(o.current,Tj),o.current&&(typeof c=="number"?await a.navigate(c):await a.navigate(c,{fromRouteId:n,...d}))},[a,n])}var Qb={};function Mj(a,n,o){!n&&!Qb[a]&&(Qb[a]=!0,Ss(!1,o))}y.memo(CS);function CS({routes:a,future:n,state:o,unstable_onError:i}){return Rj(a,void 0,o,i,n)}function $l({to:a,replace:n,state:o,relative:i}){la(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=y.useContext(qs);Ss(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=y.useContext($s),{pathname:u}=es(),f=Ba(),p=uh(a,dh(d),u,i==="path"),h=JSON.stringify(p);return y.useEffect(()=>{f(JSON.parse(h),{replace:n,state:o,relative:i})},[f,h,i,n,o]),null}function AS(a){return uS(a.context)}function Kt(a){la(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TS({basename:a="/",children:n=null,location:o,navigationType:i="POP",navigator:c,static:d=!1,unstable_useTransitions:u}){la(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:f,navigator:c,static:d,unstable_useTransitions:u,future:{}}),[f,c,d,u]);typeof o=="string"&&(o=uo(o));let{pathname:h="/",search:b="",hash:g="",state:v=null,key:A="default"}=o,w=y.useMemo(()=>{let S=In(h,f);return S==null?null:{location:{pathname:S,search:b,hash:g,state:v,key:A},navigationType:i}},[f,h,b,g,v,A,i]);return Ss(w!=null,`<Router basename="${f}"> is not able to match the URL "${h}${b}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(qs.Provider,{value:p},y.createElement(Ul.Provider,{children:n,value:w}))}function ES({children:a,location:n}){return xS(Af(a),n)}function Af(a,n=[]){let o=[];return y.Children.forEach(a,(i,c)=>{if(!y.isValidElement(i))return;let d=[...n,c];if(i.type===y.Fragment){o.push.apply(o,Af(i.props.children,d));return}la(i.type===Kt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),la(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Af(i.props.children,d)),o.push(u)}),o}var Td="get",Ed="application/x-www-form-urlencoded";function du(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function RS(a){return du(a)&&a.tagName.toLowerCase()==="button"}function MS(a){return du(a)&&a.tagName.toLowerCase()==="form"}function PS(a){return du(a)&&a.tagName.toLowerCase()==="input"}function DS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function kS(a,n){return a.button===0&&(!n||n==="_self")&&!DS(a)}function Tf(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,o)=>{let i=a[o];return n.concat(Array.isArray(i)?i.map(c=>[o,c]):[[o,i]])},[]))}function _S(a,n){let o=Tf(a);return n&&n.forEach((i,c)=>{o.has(c)||n.getAll(c).forEach(d=>{o.append(c,d)})}),o}var hd=null;function zS(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var OS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ox(a){return a!=null&&!OS.has(a)?(Ss(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ed}"`),null):a}function BS(a,n){let o,i,c,d,u;if(MS(a)){let f=a.getAttribute("action");i=f?In(f,n):null,o=a.getAttribute("method")||Td,c=Ox(a.getAttribute("enctype"))||Ed,d=new FormData(a)}else if(RS(a)||PS(a)&&(a.type==="submit"||a.type==="image")){let f=a.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||f.getAttribute("action");if(i=p?In(p,n):null,o=a.getAttribute("formmethod")||f.getAttribute("method")||Td,c=Ox(a.getAttribute("formenctype"))||Ox(f.getAttribute("enctype"))||Ed,d=new FormData(f,a),!zS()){let{name:h,type:b,value:g}=a;if(b==="image"){let v=h?`${h}.`:"";d.append(`${v}x`,"0"),d.append(`${v}y`,"0")}else h&&d.append(h,g)}}else{if(du(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Td,i=null,c=Ed,u=a}return d&&c==="text/plain"&&(u=d,d=void 0),{action:i,method:o.toLowerCase(),encType:c,formData:d,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hh(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function LS(a,n,o){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${o}`:n&&In(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${o}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${o}`,i}async function IS(a,n){if(a.id in n)return n[a.id];try{let o=await import(a.module);return n[a.id]=o,o}catch(o){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function US(a,n,o){let i=await Promise.all(a.map(async c=>{let d=n.routes[c.route.id];if(d){let u=await IS(d,o);return u.links?u.links():[]}return[]}));return HS(i.flat(1).filter(VS).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Kb(a,n,o,i,c,d){let u=(p,h)=>o[h]?p.route.id!==o[h].route.id:!0,f=(p,h)=>o[h].pathname!==p.pathname||o[h].route.path?.endsWith("*")&&o[h].params["*"]!==p.params["*"];return d==="assets"?n.filter((p,h)=>u(p,h)||f(p,h)):d==="data"?n.filter((p,h)=>{let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(u(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let g=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qS(a,n,{includeHydrateFallback:o}={}){return $S(a.map(i=>{let c=n.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),o&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function $S(a){return[...new Set(a)]}function FS(a){let n={},o=Object.keys(a).sort();for(let i of o)n[i]=a[i];return n}function HS(a,n){let o=new Set;return new Set(n),a.reduce((i,c)=>{let d=JSON.stringify(FS(c));return o.has(d)||(o.add(d),i.push({key:d,link:c})),i},[])}function Pj(){let a=y.useContext(mo);return hh(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function GS(){let a=y.useContext(cu);return hh(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var ph=y.createContext(void 0);ph.displayName="FrameworkContext";function Dj(){let a=y.useContext(ph);return hh(a,"You must render this element inside a <HydratedRouter> element"),a}function XS(a,n){let o=y.useContext(ph),[i,c]=y.useState(!1),[d,u]=y.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:b,onTouchStart:g}=n,v=y.useRef(null);y.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let S=M=>{M.forEach(_=>{u(_.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[a]),y.useEffect(()=>{if(i){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[i]);let A=()=>{c(!0)},w=()=>{c(!1),u(!1)};return o?a!=="intent"?[d,v,{}]:[d,v,{onFocus:fl(f,A),onBlur:fl(p,w),onMouseEnter:fl(h,A),onMouseLeave:fl(b,w),onTouchStart:fl(g,A)}]:[!1,v,{}]}function fl(a,n){return o=>{a&&a(o),o.defaultPrevented||n(o)}}function YS({page:a,...n}){let{router:o}=Pj(),i=y.useMemo(()=>Nj(o.routes,a,o.basename),[o.routes,a,o.basename]);return i?y.createElement(KS,{page:a,matches:i,...n}):null}function QS(a){let{manifest:n,routeModules:o}=Dj(),[i,c]=y.useState([]);return y.useEffect(()=>{let d=!1;return US(a,n,o).then(u=>{d||c(u)}),()=>{d=!0}},[a,n,o]),i}function KS({page:a,matches:n,...o}){let i=es(),{manifest:c,routeModules:d}=Dj(),{basename:u}=Pj(),{loaderData:f,matches:p}=GS(),h=y.useMemo(()=>Kb(a,n,p,c,i,"data"),[a,n,p,c,i]),b=y.useMemo(()=>Kb(a,n,p,c,i,"assets"),[a,n,p,c,i]),g=y.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let w=new Set,S=!1;if(n.forEach(M=>{let _=c.routes[M.route.id];!_||!_.hasLoader||(!h.some(O=>O.route.id===M.route.id)&&M.route.id in f&&d[M.route.id]?.shouldRevalidate||_.hasClientLoader?S=!0:w.add(M.route.id))}),w.size===0)return[];let N=LS(a,u,"data");return S&&w.size>0&&N.searchParams.set("_routes",n.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[u,f,i,c,h,n,a,d]),v=y.useMemo(()=>qS(b,c),[b,c]),A=QS(b);return y.createElement(y.Fragment,null,g.map(w=>y.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...o})),v.map(w=>y.createElement("link",{key:w,rel:"modulepreload",href:w,...o})),A.map(({key:w,link:S})=>y.createElement("link",{key:w,nonce:o.nonce,...S})))}function JS(...a){return n=>{a.forEach(o=>{typeof o=="function"?o(n):o!=null&&(o.current=n)})}}var kj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kj&&(window.__reactRouterVersion="7.10.1")}catch{}function ZS({basename:a,children:n,unstable_useTransitions:o,window:i}){let c=y.useRef();c.current==null&&(c.current=k4({window:i,v5Compat:!0}));let d=c.current,[u,f]=y.useState({action:d.action,location:d.location}),p=y.useCallback(h=>{o===!1?f(h):y.startTransition(()=>f(h))},[o]);return y.useLayoutEffect(()=>d.listen(p),[d,p]),y.createElement(TS,{basename:a,children:n,location:u.location,navigationType:u.action,navigator:d,unstable_useTransitions:o===!0})}var _j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ka=y.forwardRef(function({onClick:n,discover:o="render",prefetch:i="none",relative:c,reloadDocument:d,replace:u,state:f,target:p,to:h,preventScrollReset:b,viewTransition:g,...v},A){let{basename:w,unstable_useTransitions:S}=y.useContext(qs),N=typeof h=="string"&&_j.test(h),M,_=!1;if(typeof h=="string"&&N&&(M=h,kj))try{let se=new URL(window.location.href),J=h.startsWith("//")?new URL(se.protocol+h):new URL(h),I=In(J.pathname,w);J.origin===se.origin&&I!=null?h=I+J.search+J.hash:_=!0}catch{Ss(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=lS(h,{relative:c}),[D,k,E]=XS(i,v),B=a5(h,{replace:u,state:f,target:p,preventScrollReset:b,relative:c,viewTransition:g,unstable_useTransitions:S});function q(se){n&&n(se),se.defaultPrevented||B(se)}let Q=y.createElement("a",{...v,...E,href:M||O,onClick:_||d?n:q,ref:JS(A,k),target:p,"data-discover":!N&&o==="render"?"true":void 0});return D&&!N?y.createElement(y.Fragment,null,Q,y.createElement(YS,{page:O})):Q});Ka.displayName="Link";var WS=y.forwardRef(function({"aria-current":n="page",caseSensitive:o=!1,className:i="",end:c=!1,style:d,to:u,viewTransition:f,children:p,...h},b){let g=ql(u,{relative:h.relative}),v=es(),A=y.useContext(cu),{navigator:w,basename:S}=y.useContext(qs),N=A!=null&&l5(g)&&f===!0,M=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,_=v.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(_=_.toLowerCase(),O=O?O.toLowerCase():null,M=M.toLowerCase()),O&&S&&(O=In(O,S)||O);const D=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let k=_===M||!c&&_.startsWith(M)&&_.charAt(D)==="/",E=O!=null&&(O===M||!c&&O.startsWith(M)&&O.charAt(M.length)==="/"),B={isActive:k,isPending:E,isTransitioning:N},q=k?n:void 0,Q;typeof i=="function"?Q=i(B):Q=[i,k?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let se=typeof d=="function"?d(B):d;return y.createElement(Ka,{...h,"aria-current":q,className:Q,ref:b,style:se,to:u,viewTransition:f},typeof p=="function"?p(B):p)});WS.displayName="NavLink";var e5=y.forwardRef(({discover:a="render",fetcherKey:n,navigate:o,reloadDocument:i,replace:c,state:d,method:u=Td,action:f,onSubmit:p,relative:h,preventScrollReset:b,viewTransition:g,...v},A)=>{let{unstable_useTransitions:w}=y.useContext(qs),S=i5(),N=o5(f,{relative:h}),M=u.toLowerCase()==="get"?"get":"post",_=typeof f=="string"&&_j.test(f),O=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let k=D.nativeEvent.submitter,E=k?.getAttribute("formmethod")||u,B=()=>S(k||D.currentTarget,{fetcherKey:n,method:E,navigate:o,replace:c,state:d,relative:h,preventScrollReset:b,viewTransition:g});w&&o!==!1?y.startTransition(()=>B()):B()};return y.createElement("form",{ref:A,method:M,action:N,onSubmit:i?p:O,...v,"data-discover":!_&&a==="render"?"true":void 0})});e5.displayName="Form";function t5(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zj(a){let n=y.useContext(mo);return la(n,t5(a)),n}function a5(a,{target:n,replace:o,state:i,preventScrollReset:c,relative:d,viewTransition:u,unstable_useTransitions:f}={}){let p=Ba(),h=es(),b=ql(a,{relative:d});return y.useCallback(g=>{if(kS(g,n)){g.preventDefault();let v=o!==void 0?o:Pl(h)===Pl(b),A=()=>p(a,{replace:v,state:i,preventScrollReset:c,relative:d,viewTransition:u});f?y.startTransition(()=>A()):A()}},[h,p,b,o,i,n,a,c,d,u,f])}function s5(a){Ss(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=y.useRef(Tf(a)),o=y.useRef(!1),i=es(),c=y.useMemo(()=>_S(i.search,o.current?null:n.current),[i.search]),d=Ba(),u=y.useCallback((f,p)=>{const h=Tf(typeof f=="function"?f(new URLSearchParams(c)):f);o.current=!0,d("?"+h,p)},[d,c]);return[c,u]}var n5=0,r5=()=>`__${String(++n5)}__`;function i5(){let{router:a}=zj("useSubmit"),{basename:n}=y.useContext(qs),o=NS(),i=a.fetch,c=a.navigate;return y.useCallback(async(d,u={})=>{let{action:f,method:p,encType:h,formData:b,body:g}=BS(d,n);if(u.navigate===!1){let v=u.fetcherKey||r5();await i(v,o,u.action||f,{preventScrollReset:u.preventScrollReset,formData:b,body:g,formMethod:u.method||p,formEncType:u.encType||h,flushSync:u.flushSync})}else await c(u.action||f,{preventScrollReset:u.preventScrollReset,formData:b,body:g,formMethod:u.method||p,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,c,n,o])}function o5(a,{relative:n}={}){let{basename:o}=y.useContext(qs),i=y.useContext($s);la(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...ql(a||".",{relative:n})},u=es();if(a==null){d.search=u.search;let f=new URLSearchParams(d.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(g=>g).forEach(g=>f.append("index",g));let b=f.toString();d.search=b?`?${b}`:""}}return(!a||a===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(d.pathname=d.pathname==="/"?o:Ln([o,d.pathname])),Pl(d)}function l5(a,{relative:n}={}){let o=y.useContext(Aj);la(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zj("useViewTransitionState"),c=ql(a,{relative:n});if(!o.isTransitioning)return!1;let d=In(o.currentLocation.pathname,i)||o.currentLocation.pathname,u=In(o.nextLocation.pathname,i)||o.nextLocation.pathname;return Yd(c.pathname,u)!=null||Yd(c.pathname,d)!=null}var Ef=function(){return Ef=Object.assign||function(a){for(var n,o=1,i=arguments.length;o<i;o++)for(var c in n=arguments[o])Object.prototype.hasOwnProperty.call(n,c)&&(a[c]=n[c]);return a},Ef.apply(this,arguments)},Rf,c5=function(a){var n;a?(function(o){if(o)for(;o.lastChild;)o.lastChild.remove()})(typeof a=="string"?document.getElementById(a):a):(n=document.querySelector(".grecaptcha-badge"))&&n.parentNode&&document.body.removeChild(n.parentNode)},d5=function(a,n){c5(n),window.___grecaptcha_cfg=void 0;var o=document.querySelector("#"+a);o&&o.remove(),(function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()})()},u5=function(a){var n=a.render,o=a.onLoadCallbackName,i=a.language,c=a.onLoad,d=a.useRecaptchaNet,u=a.useEnterprise,f=a.scriptProps,p=f===void 0?{}:f,h=p.nonce,b=h===void 0?"":h,g=p.defer,v=g!==void 0&&g,A=p.async,w=A!==void 0&&A,S=p.id,N=S===void 0?"":S,M=p.appendTo,_=N||"google-recaptcha-v3";if((function(k){return!!document.querySelector("#"+k)})(_))c();else{var O=(function(k){return"https://www."+(k.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(k.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:u,useRecaptchaNet:d}),D=document.createElement("script");D.id=_,D.src=O+"?render="+n+(n==="explicit"?"&onload="+o:"")+(i?"&hl="+i:""),b&&(D.nonce=b),D.defer=!!v,D.async=!!w,D.onload=c,(M==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(D)}},Jb=function(a){console.warn(a)};(function(a){a.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Rf||(Rf={}));var gh=y.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});gh.Consumer;function m5(a){var n=a.reCaptchaKey,o=a.useEnterprise,i=o!==void 0&&o,c=a.useRecaptchaNet,d=c!==void 0&&c,u=a.scriptProps,f=a.language,p=a.container,h=a.children,b=y.useState(null),g=b[0],v=b[1],A=y.useRef(n),w=JSON.stringify(u),S=JSON.stringify(p?.parameters);y.useEffect((function(){if(n){var _=u?.id||"google-recaptcha-v3",O=u?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[O]=function(){var D=i?window.grecaptcha.enterprise:window.grecaptcha,k=Ef({badge:"inline",size:"invisible",sitekey:n},p?.parameters||{});A.current=D.render(p?.element,k)},u5({render:p?.element?"explicit":n,onLoadCallbackName:O,useEnterprise:i,useRecaptchaNet:d,scriptProps:u,language:f,onLoad:function(){if(window&&window.grecaptcha){var D=i?window.grecaptcha.enterprise:window.grecaptcha;D.ready((function(){v(D)}))}else Jb("<GoogleRecaptchaProvider /> "+Rf.SCRIPT_NOT_AVAILABLE)}}),function(){d5(_,p?.element)}}Jb("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[i,d,w,S,f,n,p?.element]);var N=y.useCallback((function(_){if(!g||!g.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return g.execute(A.current,{action:_})}),[g,A]),M=y.useMemo((function(){return{executeRecaptcha:g?N:void 0,container:p?.element}}),[N,g,p?.element]);return jj.createElement(gh.Provider,{value:M},h)}var x5=function(){return y.useContext(gh)};function Oj(a,n){return a(n={exports:{}},n.exports),n.exports;}var La=typeof Symbol=="function"&&Symbol.for,Mf=La?Symbol.for("react.element"):60103,Pf=La?Symbol.for("react.portal"):60106,Rd=La?Symbol.for("react.fragment"):60107,Md=La?Symbol.for("react.strict_mode"):60108,Pd=La?Symbol.for("react.profiler"):60114,Dd=La?Symbol.for("react.provider"):60109,kd=La?Symbol.for("react.context"):60110,Df=La?Symbol.for("react.async_mode"):60111,Qd=La?Symbol.for("react.concurrent_mode"):60111,_d=La?Symbol.for("react.forward_ref"):60112,zd=La?Symbol.for("react.suspense"):60113,f5=La?Symbol.for("react.suspense_list"):60120,Od=La?Symbol.for("react.memo"):60115,Bd=La?Symbol.for("react.lazy"):60116,h5=La?Symbol.for("react.block"):60121,p5=La?Symbol.for("react.fundamental"):60117,g5=La?Symbol.for("react.responder"):60118,b5=La?Symbol.for("react.scope"):60119;function vs(a){if(typeof a=="object"&&a!==null){var n=a.$$typeof;switch(n){case Mf:switch(a=a.type){case Df:case Qd:case Rd:case Pd:case Md:case zd:return a;default:switch(a=a&&a.$$typeof){case kd:case _d:case Bd:case Od:case Dd:return a;default:return n}}case Pf:return n}}}function Zb(a){return vs(a)===Qd}var y5={AsyncMode:Df,ConcurrentMode:Qd,ContextConsumer:kd,ContextProvider:Dd,Element:Mf,ForwardRef:_d,Fragment:Rd,Lazy:Bd,Memo:Od,Portal:Pf,Profiler:Pd,StrictMode:Md,Suspense:zd,isAsyncMode:function(a){return Zb(a)||vs(a)===Df},isConcurrentMode:Zb,isContextConsumer:function(a){return vs(a)===kd},isContextProvider:function(a){return vs(a)===Dd},isElement:function(a){return typeof a=="object"&&a!==null&&a.$$typeof===Mf},isForwardRef:function(a){return vs(a)===_d},isFragment:function(a){return vs(a)===Rd},isLazy:function(a){return vs(a)===Bd},isMemo:function(a){return vs(a)===Od},isPortal:function(a){return vs(a)===Pf},isProfiler:function(a){return vs(a)===Pd},isStrictMode:function(a){return vs(a)===Md},isSuspense:function(a){return vs(a)===zd},isValidElementType:function(a){return typeof a=="string"||typeof a=="function"||a===Rd||a===Qd||a===Pd||a===Md||a===zd||a===f5||typeof a=="object"&&a!==null&&(a.$$typeof===Bd||a.$$typeof===Od||a.$$typeof===Dd||a.$$typeof===kd||a.$$typeof===_d||a.$$typeof===p5||a.$$typeof===g5||a.$$typeof===b5||a.$$typeof===h5)},typeOf:vs},Gt=Oj((function(a,n){})),Wb=(Gt.AsyncMode,Gt.ConcurrentMode,Gt.ContextConsumer,Gt.ContextProvider,Gt.Element,Gt.ForwardRef,Gt.Fragment,Gt.Lazy,Gt.Memo,Gt.Portal,Gt.Profiler,Gt.StrictMode,Gt.Suspense,Gt.isAsyncMode,Gt.isConcurrentMode,Gt.isContextConsumer,Gt.isContextProvider,Gt.isElement,Gt.isForwardRef,Gt.isFragment,Gt.isLazy,Gt.isMemo,Gt.isPortal,Gt.isProfiler,Gt.isStrictMode,Gt.isSuspense,Gt.isValidElementType,Gt.typeOf,Oj((function(a){a.exports=y5}))),v5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ey={};ey[Wb.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ey[Wb.Memo]=v5;function Bj(a,n){return function(){return a.apply(n,arguments)}}const{toString:j5}=Object.prototype,{getPrototypeOf:bh}=Object,{iterator:uu,toStringTag:Lj}=Symbol,mu=(a=>n=>{const o=j5.call(n);return a[o]||(a[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),tn=a=>(a=a.toLowerCase(),n=>mu(n)===a),xu=a=>n=>typeof n===a,{isArray:fo}=Array,io=xu("undefined");function Fl(a){return a!==null&&!io(a)&&a.constructor!==null&&!io(a.constructor)&&us(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Ij=tn("ArrayBuffer");function N5(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&Ij(a.buffer),n}const w5=xu("string"),us=xu("function"),Vj=xu("number"),Hl=a=>a!==null&&typeof a=="object",S5=a=>a===!0||a===!1,Ld=a=>{if(mu(a)!=="object")return!1;const n=bh(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Lj in a)&&!(uu in a)},C5=a=>{if(!Hl(a)||Fl(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},A5=tn("Date"),T5=tn("File"),E5=tn("Blob"),R5=tn("FileList"),M5=a=>Hl(a)&&us(a.pipe),P5=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||us(a.append)&&((n=mu(a))==="formdata"||n==="object"&&us(a.toString)&&a.toString()==="[object FormData]"))},D5=tn("URLSearchParams"),[k5,_5,z5,O5]=["ReadableStream","Request","Response","Headers"].map(tn),B5=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gl(a,n,{allOwnKeys:o=!1}={}){if(a===null||typeof a>"u")return;let i,c;if(typeof a!="object"&&(a=[a]),fo(a))for(i=0,c=a.length;i<c;i++)n.call(null,a[i],i,a);else{if(Fl(a))return;const d=o?Object.getOwnPropertyNames(a):Object.keys(a),u=d.length;let f;for(i=0;i<u;i++)f=d[i],n.call(null,a[f],f,a)}}function Uj(a,n){if(Fl(a))return null;n=n.toLowerCase();const o=Object.keys(a);let i=o.length,c;for(;i-- >0;)if(c=o[i],n===c.toLowerCase())return c;return null}const Jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qj=a=>!io(a)&&a!==Jr;function kf(){const{caseless:a,skipUndefined:n}=qj(this)&&this||{},o={},i=(c,d)=>{const u=a&&Uj(o,d)||d;Ld(o[u])&&Ld(c)?o[u]=kf(o[u],c):Ld(c)?o[u]=kf({},c):fo(c)?o[u]=c.slice():(!n||!io(c))&&(o[u]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Gl(arguments[c],i);return o}const L5=(a,n,o,{allOwnKeys:i}={})=>(Gl(n,(c,d)=>{o&&us(c)?a[d]=Bj(c,o):a[d]=c},{allOwnKeys:i}),a),I5=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),V5=(a,n,o,i)=>{a.prototype=Object.create(n.prototype,i),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),o&&Object.assign(a.prototype,o)},U5=(a,n,o,i)=>{let c,d,u;const f={};if(n=n||{},a==null)return n;do{for(c=Object.getOwnPropertyNames(a),d=c.length;d-- >0;)u=c[d],(!i||i(u,a,n))&&!f[u]&&(n[u]=a[u],f[u]=!0);a=o!==!1&&bh(a)}while(a&&(!o||o(a,n))&&a!==Object.prototype);return n},q5=(a,n,o)=>{a=String(a),(o===void 0||o>a.length)&&(o=a.length),o-=n.length;const i=a.indexOf(n,o);return i!==-1&&i===o},$5=a=>{if(!a)return null;if(fo(a))return a;let n=a.length;if(!Vj(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=a[n];return o},F5=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&bh(Uint8Array)),H5=(a,n)=>{const i=(a&&a[uu]).call(a);let c;for(;(c=i.next())&&!c.done;){const d=c.value;n.call(a,d[0],d[1])}},G5=(a,n)=>{let o;const i=[];for(;(o=a.exec(n))!==null;)i.push(o);return i},X5=tn("HTMLFormElement"),Y5=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,c){return i.toUpperCase()+c}),ty=(({hasOwnProperty:a})=>(n,o)=>a.call(n,o))(Object.prototype),Q5=tn("RegExp"),$j=(a,n)=>{const o=Object.getOwnPropertyDescriptors(a),i={};Gl(o,(c,d)=>{let u;(u=n(c,d,a))!==!1&&(i[d]=u||c)}),Object.defineProperties(a,i)},K5=a=>{$j(a,(n,o)=>{if(us(a)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=a[o];if(us(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},J5=(a,n)=>{const o={},i=c=>{c.forEach(d=>{o[d]=!0})};return fo(a)?i(a):i(String(a).split(n)),o},Z5=()=>{},W5=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function eC(a){return!!(a&&us(a.append)&&a[Lj]==="FormData"&&a[uu])}const tC=a=>{const n=new Array(10),o=(i,c)=>{if(Hl(i)){if(n.indexOf(i)>=0)return;if(Fl(i))return i;if(!("toJSON"in i)){n[c]=i;const d=fo(i)?[]:{};return Gl(i,(u,f)=>{const p=o(u,c+1);!io(p)&&(d[f]=p)}),n[c]=void 0,d}}return i};return o(a,0)},aC=tn("AsyncFunction"),sC=a=>a&&(Hl(a)||us(a))&&us(a.then)&&us(a.catch),Fj=((a,n)=>a?setImmediate:n?((o,i)=>(Jr.addEventListener("message",({source:c,data:d})=>{c===Jr&&d===o&&i.length&&i.shift()()},!1),c=>{i.push(c),Jr.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",us(Jr.postMessage)),nC=typeof queueMicrotask<"u"?queueMicrotask.bind(Jr):typeof process<"u"&&process.nextTick||Fj,rC=a=>a!=null&&us(a[uu]),ue={isArray:fo,isArrayBuffer:Ij,isBuffer:Fl,isFormData:P5,isArrayBufferView:N5,isString:w5,isNumber:Vj,isBoolean:S5,isObject:Hl,isPlainObject:Ld,isEmptyObject:C5,isReadableStream:k5,isRequest:_5,isResponse:z5,isHeaders:O5,isUndefined:io,isDate:A5,isFile:T5,isBlob:E5,isRegExp:Q5,isFunction:us,isStream:M5,isURLSearchParams:D5,isTypedArray:F5,isFileList:R5,forEach:Gl,merge:kf,extend:L5,trim:B5,stripBOM:I5,inherits:V5,toFlatObject:U5,kindOf:mu,kindOfTest:tn,endsWith:q5,toArray:$5,forEachEntry:H5,matchAll:G5,isHTMLForm:X5,hasOwnProperty:ty,hasOwnProp:ty,reduceDescriptors:$j,freezeMethods:K5,toObjectSet:J5,toCamelCase:Y5,noop:Z5,toFiniteNumber:W5,findKey:Uj,global:Jr,isContextDefined:qj,isSpecCompliantForm:eC,toJSONObject:tC,isAsyncFn:aC,isThenable:sC,setImmediate:Fj,asap:nC,isIterable:rC};function gt(a,n,o,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}ue.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const Hj=gt.prototype,Gj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Gj[a]={value:a}});Object.defineProperties(gt,Gj);Object.defineProperty(Hj,"isAxiosError",{value:!0});gt.from=(a,n,o,i,c,d)=>{const u=Object.create(Hj);ue.toFlatObject(a,u,function(b){return b!==Error.prototype},h=>h!=="isAxiosError");const f=a&&a.message?a.message:"Error",p=n==null&&a?a.code:n;return gt.call(u,f,p,o,i,c),a&&u.cause==null&&Object.defineProperty(u,"cause",{value:a,configurable:!0}),u.name=a&&a.name||"Error",d&&Object.assign(u,d),u};const iC=null;function _f(a){return ue.isPlainObject(a)||ue.isArray(a)}function Xj(a){return ue.endsWith(a,"[]")?a.slice(0,-2):a}function ay(a,n,o){return a?a.concat(n).map(function(c,d){return c=Xj(c),!o&&d?"["+c+"]":c}).join(o?".":""):n}function oC(a){return ue.isArray(a)&&!a.some(_f)}const lC=ue.toFlatObject(ue,{},null,function(n){return/^is[A-Z]/.test(n)});function fu(a,n,o){if(!ue.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,o=ue.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,N){return!ue.isUndefined(N[S])});const i=o.metaTokens,c=o.visitor||b,d=o.dots,u=o.indexes,p=(o.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(n);if(!ue.isFunction(c))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(ue.isDate(w))return w.toISOString();if(ue.isBoolean(w))return w.toString();if(!p&&ue.isBlob(w))throw new gt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(w)||ue.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function b(w,S,N){let M=w;if(w&&!N&&typeof w=="object"){if(ue.endsWith(S,"{}"))S=i?S:S.slice(0,-2),w=JSON.stringify(w);else if(ue.isArray(w)&&oC(w)||(ue.isFileList(w)||ue.endsWith(S,"[]"))&&(M=ue.toArray(w)))return S=Xj(S),M.forEach(function(O,D){!(ue.isUndefined(O)||O===null)&&n.append(u===!0?ay([S],D,d):u===null?S:S+"[]",h(O))}),!1}return _f(w)?!0:(n.append(ay(N,S,d),h(w)),!1)}const g=[],v=Object.assign(lC,{defaultVisitor:b,convertValue:h,isVisitable:_f});function A(w,S){if(!ue.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(w),ue.forEach(w,function(M,_){(!(ue.isUndefined(M)||M===null)&&c.call(n,M,ue.isString(_)?_.trim():_,S,v))===!0&&A(M,S?S.concat(_):[_])}),g.pop()}}if(!ue.isObject(a))throw new TypeError("data must be an object");return A(a),n}function sy(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function yh(a,n){this._pairs=[],a&&fu(a,this,n)}const Yj=yh.prototype;Yj.append=function(n,o){this._pairs.push([n,o])};Yj.toString=function(n){const o=n?function(i){return n.call(this,i,sy)}:sy;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function cC(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qj(a,n,o){if(!n)return a;const i=o&&o.encode||cC;ue.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let d;if(c?d=c(n,o):d=ue.isURLSearchParams(n)?n.toString():new yh(n,o).toString(i),d){const u=a.indexOf("#");u!==-1&&(a=a.slice(0,u)),a+=(a.indexOf("?")===-1?"?":"&")+d}return a}class ny{constructor(){this.handlers=[]}use(n,o,i){return this.handlers.push({fulfilled:n,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ue.forEach(this.handlers,function(i){i!==null&&n(i)})}}const Kj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dC=typeof URLSearchParams<"u"?URLSearchParams:yh,uC=typeof FormData<"u"?FormData:null,mC=typeof Blob<"u"?Blob:null,xC={isBrowser:!0,classes:{URLSearchParams:dC,FormData:uC,Blob:mC},protocols:["http","https","file","blob","url","data"]},vh=typeof window<"u"&&typeof document<"u",zf=typeof navigator=="object"&&navigator||void 0,fC=vh&&(!zf||["ReactNative","NativeScript","NS"].indexOf(zf.product)<0),hC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pC=vh&&window.location.href||"http://localhost",gC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vh,hasStandardBrowserEnv:fC,hasStandardBrowserWebWorkerEnv:hC,navigator:zf,origin:pC},Symbol.toStringTag,{value:"Module"})),Ya={...gC,...xC};function bC(a,n){return fu(a,new Ya.classes.URLSearchParams,{visitor:function(o,i,c,d){return Ya.isNode&&ue.isBuffer(o)?(this.append(i,o.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function yC(a){return ue.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function vC(a){const n={},o=Object.keys(a);let i;const c=o.length;let d;for(i=0;i<c;i++)d=o[i],n[d]=a[d];return n}function Jj(a){function n(o,i,c,d){let u=o[d++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),p=d>=o.length;return u=!u&&ue.isArray(c)?c.length:u,p?(ue.hasOwnProp(c,u)?c[u]=[c[u],i]:c[u]=i,!f):((!c[u]||!ue.isObject(c[u]))&&(c[u]=[]),n(o,i,c[u],d)&&ue.isArray(c[u])&&(c[u]=vC(c[u])),!f)}if(ue.isFormData(a)&&ue.isFunction(a.entries)){const o={};return ue.forEachEntry(a,(i,c)=>{n(yC(i),c,o,0)}),o}return null}function jC(a,n,o){if(ue.isString(a))try{return(n||JSON.parse)(a),ue.trim(a)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(a)}const Xl={transitional:Kj,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const i=o.getContentType()||"",c=i.indexOf("application/json")>-1,d=ue.isObject(n);if(d&&ue.isHTMLForm(n)&&(n=new FormData(n)),ue.isFormData(n))return c?JSON.stringify(Jj(n)):n;if(ue.isArrayBuffer(n)||ue.isBuffer(n)||ue.isStream(n)||ue.isFile(n)||ue.isBlob(n)||ue.isReadableStream(n))return n;if(ue.isArrayBufferView(n))return n.buffer;if(ue.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let f;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bC(n,this.formSerializer).toString();if((f=ue.isFileList(n))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return fu(f?{"files[]":n}:n,p&&new p,this.formSerializer)}}return d||c?(o.setContentType("application/json",!1),jC(n)):n}],transformResponse:[function(n){const o=this.transitional||Xl.transitional,i=o&&o.forcedJSONParsing,c=this.responseType==="json";if(ue.isResponse(n)||ue.isReadableStream(n))return n;if(n&&ue.isString(n)&&(i&&!this.responseType||c)){const u=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?gt.from(f,gt.ERR_BAD_RESPONSE,this,null,this.response):f}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ya.classes.FormData,Blob:Ya.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],a=>{Xl.headers[a]={}});const NC=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wC=a=>{const n={};let o,i,c;return a&&a.split(`
`).forEach(function(u){c=u.indexOf(":"),o=u.substring(0,c).trim().toLowerCase(),i=u.substring(c+1).trim(),!(!o||n[o]&&NC[o])&&(o==="set-cookie"?n[o]?n[o].push(i):n[o]=[i]:n[o]=n[o]?n[o]+", "+i:i)}),n},ry=Symbol("internals");function hl(a){return a&&String(a).trim().toLowerCase()}function Id(a){return a===!1||a==null?a:ue.isArray(a)?a.map(Id):String(a)}function SC(a){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(a);)n[i[1]]=i[2];return n}const CC=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Bx(a,n,o,i,c){if(ue.isFunction(i))return i.call(this,n,o);if(c&&(n=o),!!ue.isString(n)){if(ue.isString(i))return n.indexOf(i)!==-1;if(ue.isRegExp(i))return i.test(n)}}function AC(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,i)=>o.toUpperCase()+i)}function TC(a,n){const o=ue.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(a,i+o,{value:function(c,d,u){return this[i].call(this,n,c,d,u)},configurable:!0})})}let ms=class{constructor(n){n&&this.set(n)}set(n,o,i){const c=this;function d(f,p,h){const b=hl(p);if(!b)throw new Error("header name must be a non-empty string");const g=ue.findKey(c,b);(!g||c[g]===void 0||h===!0||h===void 0&&c[g]!==!1)&&(c[g||p]=Id(f))}const u=(f,p)=>ue.forEach(f,(h,b)=>d(h,b,p));if(ue.isPlainObject(n)||n instanceof this.constructor)u(n,o);else if(ue.isString(n)&&(n=n.trim())&&!CC(n))u(wC(n),o);else if(ue.isObject(n)&&ue.isIterable(n)){let f={},p,h;for(const b of n){if(!ue.isArray(b))throw TypeError("Object iterator must return a key-value pair");f[h=b[0]]=(p=f[h])?ue.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}u(f,o)}else n!=null&&d(o,n,i);return this}get(n,o){if(n=hl(n),n){const i=ue.findKey(this,n);if(i){const c=this[i];if(!o)return c;if(o===!0)return SC(c);if(ue.isFunction(o))return o.call(this,c,i);if(ue.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=hl(n),n){const i=ue.findKey(this,n);return!!(i&&this[i]!==void 0&&(!o||Bx(this,this[i],i,o)))}return!1}delete(n,o){const i=this;let c=!1;function d(u){if(u=hl(u),u){const f=ue.findKey(i,u);f&&(!o||Bx(i,i[f],f,o))&&(delete i[f],c=!0)}}return ue.isArray(n)?n.forEach(d):d(n),c}clear(n){const o=Object.keys(this);let i=o.length,c=!1;for(;i--;){const d=o[i];(!n||Bx(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const o=this,i={};return ue.forEach(this,(c,d)=>{const u=ue.findKey(i,d);if(u){o[u]=Id(c),delete o[d];return}const f=n?AC(d):String(d).trim();f!==d&&delete o[d],o[f]=Id(c),i[f]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return ue.forEach(this,(i,c)=>{i!=null&&i!==!1&&(o[c]=n&&ue.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const i=new this(n);return o.forEach(c=>i.set(c)),i}static accessor(n){const i=(this[ry]=this[ry]={accessors:{}}).accessors,c=this.prototype;function d(u){const f=hl(u);i[f]||(TC(c,u),i[f]=!0)}return ue.isArray(n)?n.forEach(d):d(n),this}};ms.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(ms.prototype,({value:a},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(i){this[o]=i}}});ue.freezeMethods(ms);function Lx(a,n){const o=this||Xl,i=n||o,c=ms.from(i.headers);let d=i.data;return ue.forEach(a,function(f){d=f.call(o,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function Zj(a){return!!(a&&a.__CANCEL__)}function ho(a,n,o){gt.call(this,a??"canceled",gt.ERR_CANCELED,n,o),this.name="CanceledError"}ue.inherits(ho,gt,{__CANCEL__:!0});function Wj(a,n,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?a(o):n(new gt("Request failed with status code "+o.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function EC(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function RC(a,n){a=a||10;const o=new Array(a),i=new Array(a);let c=0,d=0,u;return n=n!==void 0?n:1e3,function(p){const h=Date.now(),b=i[d];u||(u=h),o[c]=p,i[c]=h;let g=d,v=0;for(;g!==c;)v+=o[g++],g=g%a;if(c=(c+1)%a,c===d&&(d=(d+1)%a),h-u<n)return;const A=b&&h-b;return A?Math.round(v*1e3/A):void 0}}function MC(a,n){let o=0,i=1e3/n,c,d;const u=(h,b=Date.now())=>{o=b,c=null,d&&(clearTimeout(d),d=null),a(...h)};return[(...h)=>{const b=Date.now(),g=b-o;g>=i?u(h,b):(c=h,d||(d=setTimeout(()=>{d=null,u(c)},i-g)))},()=>c&&u(c)]}const Kd=(a,n,o=3)=>{let i=0;const c=RC(50,250);return MC(d=>{const u=d.loaded,f=d.lengthComputable?d.total:void 0,p=u-i,h=c(p),b=u<=f;i=u;const g={loaded:u,total:f,progress:f?u/f:void 0,bytes:p,rate:h||void 0,estimated:h&&f&&b?(f-u)/h:void 0,event:d,lengthComputable:f!=null,[n?"download":"upload"]:!0};a(g)},o)},iy=(a,n)=>{const o=a!=null;return[i=>n[0]({lengthComputable:o,total:a,loaded:i}),n[1]]},oy=a=>(...n)=>ue.asap(()=>a(...n)),PC=Ya.hasStandardBrowserEnv?((a,n)=>o=>(o=new URL(o,Ya.origin),a.protocol===o.protocol&&a.host===o.host&&(n||a.port===o.port)))(new URL(Ya.origin),Ya.navigator&&/(msie|trident)/i.test(Ya.navigator.userAgent)):()=>!0,DC=Ya.hasStandardBrowserEnv?{write(a,n,o,i,c,d,u){if(typeof document>"u")return;const f=[`${a}=${encodeURIComponent(n)}`];ue.isNumber(o)&&f.push(`expires=${new Date(o).toUTCString()}`),ue.isString(i)&&f.push(`path=${i}`),ue.isString(c)&&f.push(`domain=${c}`),d===!0&&f.push("secure"),ue.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(a){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kC(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function _C(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function e1(a,n,o){let i=!kC(n);return a&&(i||o==!1)?_C(a,n):n}const ly=a=>a instanceof ms?{...a}:a;function ri(a,n){n=n||{};const o={};function i(h,b,g,v){return ue.isPlainObject(h)&&ue.isPlainObject(b)?ue.merge.call({caseless:v},h,b):ue.isPlainObject(b)?ue.merge({},b):ue.isArray(b)?b.slice():b}function c(h,b,g,v){if(ue.isUndefined(b)){if(!ue.isUndefined(h))return i(void 0,h,g,v)}else return i(h,b,g,v)}function d(h,b){if(!ue.isUndefined(b))return i(void 0,b)}function u(h,b){if(ue.isUndefined(b)){if(!ue.isUndefined(h))return i(void 0,h)}else return i(void 0,b)}function f(h,b,g){if(g in n)return i(h,b);if(g in a)return i(void 0,h)}const p={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(h,b,g)=>c(ly(h),ly(b),g,!0)};return ue.forEach(Object.keys({...a,...n}),function(b){const g=p[b]||c,v=g(a[b],n[b],b);ue.isUndefined(v)&&g!==f||(o[b]=v)}),o}const t1=a=>{const n=ri({},a);let{data:o,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:u,auth:f}=n;if(n.headers=u=ms.from(u),n.url=Qj(e1(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),ue.isFormData(o)){if(Ya.hasStandardBrowserEnv||Ya.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(ue.isFunction(o.getHeaders)){const p=o.getHeaders(),h=["content-type","content-length"];Object.entries(p).forEach(([b,g])=>{h.includes(b.toLowerCase())&&u.set(b,g)})}}if(Ya.hasStandardBrowserEnv&&(i&&ue.isFunction(i)&&(i=i(n)),i||i!==!1&&PC(n.url))){const p=c&&d&&DC.read(d);p&&u.set(c,p)}return n},zC=typeof XMLHttpRequest<"u",OC=zC&&function(a){return new Promise(function(o,i){const c=t1(a);let d=c.data;const u=ms.from(c.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:h}=c,b,g,v,A,w;function S(){A&&A(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let N=new XMLHttpRequest;N.open(c.method.toUpperCase(),c.url,!0),N.timeout=c.timeout;function M(){if(!N)return;const O=ms.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),k={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:O,config:a,request:N};Wj(function(B){o(B),S()},function(B){i(B),S()},k),N=null}"onloadend"in N?N.onloadend=M:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(M)},N.onabort=function(){N&&(i(new gt("Request aborted",gt.ECONNABORTED,a,N)),N=null)},N.onerror=function(D){const k=D&&D.message?D.message:"Network Error",E=new gt(k,gt.ERR_NETWORK,a,N);E.event=D||null,i(E),N=null},N.ontimeout=function(){let D=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const k=c.transitional||Kj;c.timeoutErrorMessage&&(D=c.timeoutErrorMessage),i(new gt(D,k.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,a,N)),N=null},d===void 0&&u.setContentType(null),"setRequestHeader"in N&&ue.forEach(u.toJSON(),function(D,k){N.setRequestHeader(k,D)}),ue.isUndefined(c.withCredentials)||(N.withCredentials=!!c.withCredentials),f&&f!=="json"&&(N.responseType=c.responseType),h&&([v,w]=Kd(h,!0),N.addEventListener("progress",v)),p&&N.upload&&([g,A]=Kd(p),N.upload.addEventListener("progress",g),N.upload.addEventListener("loadend",A)),(c.cancelToken||c.signal)&&(b=O=>{N&&(i(!O||O.type?new ho(null,a,N):O),N.abort(),N=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const _=EC(c.url);if(_&&Ya.protocols.indexOf(_)===-1){i(new gt("Unsupported protocol "+_+":",gt.ERR_BAD_REQUEST,a));return}N.send(d||null)})},BC=(a,n)=>{const{length:o}=a=a?a.filter(Boolean):[];if(n||o){let i=new AbortController,c;const d=function(h){if(!c){c=!0,f();const b=h instanceof Error?h:this.reason;i.abort(b instanceof gt?b:new ho(b instanceof Error?b.message:b))}};let u=n&&setTimeout(()=>{u=null,d(new gt(`timeout ${n} of ms exceeded`,gt.ETIMEDOUT))},n);const f=()=>{a&&(u&&clearTimeout(u),u=null,a.forEach(h=>{h.unsubscribe?h.unsubscribe(d):h.removeEventListener("abort",d)}),a=null)};a.forEach(h=>h.addEventListener("abort",d));const{signal:p}=i;return p.unsubscribe=()=>ue.asap(f),p}},LC=function*(a,n){let o=a.byteLength;if(o<n){yield a;return}let i=0,c;for(;i<o;)c=i+n,yield a.slice(i,c),i=c},IC=async function*(a,n){for await(const o of VC(a))yield*LC(o,n)},VC=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:o,value:i}=await n.read();if(o)break;yield i}}finally{await n.cancel()}},cy=(a,n,o,i)=>{const c=IC(a,n);let d=0,u,f=p=>{u||(u=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:h,value:b}=await c.next();if(h){f(),p.close();return}let g=b.byteLength;if(o){let v=d+=g;o(v)}p.enqueue(new Uint8Array(b))}catch(h){throw f(h),h}},cancel(p){return f(p),c.return()}},{highWaterMark:2})},dy=64*1024,{isFunction:pd}=ue,UC=(({Request:a,Response:n})=>({Request:a,Response:n}))(ue.global),{ReadableStream:uy,TextEncoder:my}=ue.global,xy=(a,...n)=>{try{return!!a(...n)}catch{return!1}},qC=a=>{a=ue.merge.call({skipUndefined:!0},UC,a);const{fetch:n,Request:o,Response:i}=a,c=n?pd(n):typeof fetch=="function",d=pd(o),u=pd(i);if(!c)return!1;const f=c&&pd(uy),p=c&&(typeof my=="function"?(w=>S=>w.encode(S))(new my):async w=>new Uint8Array(await new o(w).arrayBuffer())),h=d&&f&&xy(()=>{let w=!1;const S=new o(Ya.origin,{body:new uy,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),b=u&&f&&xy(()=>ue.isReadableStream(new i("").body)),g={stream:b&&(w=>w.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(S,N)=>{let M=S&&S[w];if(M)return M.call(S);throw new gt(`Response type '${w}' is not supported`,gt.ERR_NOT_SUPPORT,N)})});const v=async w=>{if(w==null)return 0;if(ue.isBlob(w))return w.size;if(ue.isSpecCompliantForm(w))return(await new o(Ya.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(w)||ue.isArrayBuffer(w))return w.byteLength;if(ue.isURLSearchParams(w)&&(w=w+""),ue.isString(w))return(await p(w)).byteLength},A=async(w,S)=>{const N=ue.toFiniteNumber(w.getContentLength());return N??v(S)};return async w=>{let{url:S,method:N,data:M,signal:_,cancelToken:O,timeout:D,onDownloadProgress:k,onUploadProgress:E,responseType:B,headers:q,withCredentials:Q="same-origin",fetchOptions:se}=t1(w),J=n||fetch;B=B?(B+"").toLowerCase():"text";let I=BC([_,O&&O.toAbortSignal()],D),te=null;const ie=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let de;try{if(E&&h&&N!=="get"&&N!=="head"&&(de=await A(q,M))!==0){let P=new o(S,{method:"POST",body:M,duplex:"half"}),Y;if(ue.isFormData(M)&&(Y=P.headers.get("content-type"))&&q.setContentType(Y),P.body){const[he,Se]=iy(de,Kd(oy(E)));M=cy(P.body,dy,he,Se)}}ue.isString(Q)||(Q=Q?"include":"omit");const L=d&&"credentials"in o.prototype,ee={...se,signal:I,method:N.toUpperCase(),headers:q.normalize().toJSON(),body:M,duplex:"half",credentials:L?Q:void 0};te=d&&new o(S,ee);let Z=await(d?J(te,se):J(S,ee));const oe=b&&(B==="stream"||B==="response");if(b&&(k||oe&&ie)){const P={};["status","statusText","headers"].forEach(Ve=>{P[Ve]=Z[Ve]});const Y=ue.toFiniteNumber(Z.headers.get("content-length")),[he,Se]=k&&iy(Y,Kd(oy(k),!0))||[];Z=new i(cy(Z.body,dy,he,()=>{Se&&Se(),ie&&ie()}),P)}B=B||"text";let ce=await g[ue.findKey(g,B)||"text"](Z,w);return!oe&&ie&&ie(),await new Promise((P,Y)=>{Wj(P,Y,{data:ce,headers:ms.from(Z.headers),status:Z.status,statusText:Z.statusText,config:w,request:te})})}catch(L){throw ie&&ie(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,w,te),{cause:L.cause||L}):gt.from(L,L&&L.code,w,te)}}},$C=new Map,a1=a=>{let n=a&&a.env||{};const{fetch:o,Request:i,Response:c}=n,d=[i,c,o];let u=d.length,f=u,p,h,b=$C;for(;f--;)p=d[f],h=b.get(p),h===void 0&&b.set(p,h=f?new Map:qC(n)),b=h;return h};a1();const jh={http:iC,xhr:OC,fetch:{get:a1}};ue.forEach(jh,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const fy=a=>`- ${a}`,FC=a=>ue.isFunction(a)||a===null||a===!1;function HC(a,n){a=ue.isArray(a)?a:[a];const{length:o}=a;let i,c;const d={};for(let u=0;u<o;u++){i=a[u];let f;if(c=i,!FC(i)&&(c=jh[(f=String(i)).toLowerCase()],c===void 0))throw new gt(`Unknown adapter '${f}'`);if(c&&(ue.isFunction(c)||(c=c.get(n))))break;d[f||"#"+u]=c}if(!c){const u=Object.entries(d).map(([p,h])=>`adapter ${p} `+(h===!1?"is not supported by the environment":"is not available in the build"));let f=o?u.length>1?`since :
`+u.map(fy).join(`
`):" "+fy(u[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return c}const s1={getAdapter:HC,adapters:jh};function Ix(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ho(null,a)}function hy(a){return Ix(a),a.headers=ms.from(a.headers),a.data=Lx.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),s1.getAdapter(a.adapter||Xl.adapter,a)(a).then(function(i){return Ix(a),i.data=Lx.call(a,a.transformResponse,i),i.headers=ms.from(i.headers),i},function(i){return Zj(i)||(Ix(a),i&&i.response&&(i.response.data=Lx.call(a,a.transformResponse,i.response),i.response.headers=ms.from(i.response.headers))),Promise.reject(i)})}const n1="1.13.2",hu={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{hu[a]=function(i){return typeof i===a||"a"+(n<1?"n ":" ")+a}});const py={};hu.transitional=function(n,o,i){function c(d,u){return"[Axios v"+n1+"] Transitional option '"+d+"'"+u+(i?". "+i:"")}return(d,u,f)=>{if(n===!1)throw new gt(c(u," has been removed"+(o?" in "+o:"")),gt.ERR_DEPRECATED);return o&&!py[u]&&(py[u]=!0,console.warn(c(u," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(d,u,f):!0}};hu.spelling=function(n){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function GC(a,n,o){if(typeof a!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const i=Object.keys(a);let c=i.length;for(;c-- >0;){const d=i[c],u=n[d];if(u){const f=a[d],p=f===void 0||u(f,d,a);if(p!==!0)throw new gt("option "+d+" must be "+p,gt.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new gt("Unknown option "+d,gt.ERR_BAD_OPTION)}}const Vd={assertOptions:GC,validators:hu},cn=Vd.validators;let ti=class{constructor(n){this.defaults=n||{},this.interceptors={request:new ny,response:new ny}}async request(n,o){try{return await this._request(n,o)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=ri(this.defaults,o);const{transitional:i,paramsSerializer:c,headers:d}=o;i!==void 0&&Vd.assertOptions(i,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),c!=null&&(ue.isFunction(c)?o.paramsSerializer={serialize:c}:Vd.assertOptions(c,{encode:cn.function,serialize:cn.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Vd.assertOptions(o,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let u=d&&ue.merge(d.common,d[o.method]);d&&ue.forEach(["delete","get","head","post","put","patch","common"],w=>{delete d[w]}),o.headers=ms.concat(u,d);const f=[];let p=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(o)===!1||(p=p&&S.synchronous,f.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let b,g=0,v;if(!p){const w=[hy.bind(this),void 0];for(w.unshift(...f),w.push(...h),v=w.length,b=Promise.resolve(o);g<v;)b=b.then(w[g++],w[g++]);return b}v=f.length;let A=o;for(;g<v;){const w=f[g++],S=f[g++];try{A=w(A)}catch(N){S.call(this,N);break}}try{b=hy.call(this,A)}catch(w){return Promise.reject(w)}for(g=0,v=h.length;g<v;)b=b.then(h[g++],h[g++]);return b}getUri(n){n=ri(this.defaults,n);const o=e1(n.baseURL,n.url,n.allowAbsoluteUrls);return Qj(o,n.params,n.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(n){ti.prototype[n]=function(o,i){return this.request(ri(i||{},{method:n,url:o,data:(i||{}).data}))}});ue.forEach(["post","put","patch"],function(n){function o(i){return function(d,u,f){return this.request(ri(f||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}ti.prototype[n]=o(),ti.prototype[n+"Form"]=o(!0)});let XC=class r1{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(d){o=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const u=new Promise(f=>{i.subscribe(f),d=f}).then(c);return u.cancel=function(){i.unsubscribe(d)},u},n(function(d,u,f){i.reason||(i.reason=new ho(d,u,f),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const n=new AbortController,o=i=>{n.abort(i)};return this.subscribe(o),n.signal.unsubscribe=()=>this.unsubscribe(o),n.signal}static source(){let n;return{token:new r1(function(c){n=c}),cancel:n}}};function YC(a){return function(o){return a.apply(null,o)}}function QC(a){return ue.isObject(a)&&a.isAxiosError===!0}const Of={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Of).forEach(([a,n])=>{Of[n]=a});function i1(a){const n=new ti(a),o=Bj(ti.prototype.request,n);return ue.extend(o,ti.prototype,n,{allOwnKeys:!0}),ue.extend(o,n,null,{allOwnKeys:!0}),o.create=function(c){return i1(ri(a,c))},o}const Yt=i1(Xl);Yt.Axios=ti;Yt.CanceledError=ho;Yt.CancelToken=XC;Yt.isCancel=Zj;Yt.VERSION=n1;Yt.toFormData=fu;Yt.AxiosError=gt;Yt.Cancel=Yt.CanceledError;Yt.all=function(n){return Promise.all(n)};Yt.spread=YC;Yt.isAxiosError=QC;Yt.mergeConfig=ri;Yt.AxiosHeaders=ms;Yt.formToJSON=a=>Jj(ue.isHTMLForm(a)?new FormData(a):a);Yt.getAdapter=s1.getAdapter;Yt.HttpStatusCode=Of;Yt.default=Yt;const{Axios:UD,AxiosError:qD,CanceledError:$D,isCancel:FD,CancelToken:HD,VERSION:GD,all:XD,Cancel:YD,isAxiosError:QD,spread:KD,toFormData:JD,AxiosHeaders:ZD,HttpStatusCode:WD,formToJSON:ek,getAdapter:tk,mergeConfig:ak}=Yt,Vx="https://api.juntix.com.br";class KC{getAuthHeader(){return{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}}async getHistorico(n){const o=new URLSearchParams;return n?.caixaId&&o.append("caixaId",n.caixaId),n?.tipo&&o.append("tipo",n.tipo),n?.status&&o.append("status",n.status),n?.page&&o.append("page",n.page.toString()),n?.limit&&o.append("limit",n.limit.toString()),(await Yt.get(`${Vx}/comunicacao/historico?${o.toString()}`,this.getAuthHeader())).data}async resendMessage(n){return(await Yt.post(`${Vx}/comunicacao/resend/${n}`,{},this.getAuthHeader())).data}async enviarMensagemManual(n){return(await Yt.post(`${Vx}/comunicacao/enviar-manual`,n,this.getAuthHeader())).data}}const Ux=new KC,JC="https://api.juntix.com.br",Te=Yt.create({baseURL:JC,headers:{"Content-Type":"application/json"}});Te.interceptors.request.use(a=>{const n=localStorage.getItem("token");return n&&(a.headers.Authorization=`Bearer ${n}`),a});Te.interceptors.response.use(a=>a,a=>(a.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("usuario"),window.location.href="/login"),Promise.reject(a)));const gy={login:async(a,n)=>(await Te.post("/auth/login",{email:a,senha:n})).data,register:async a=>(await Te.post("/auth/register",a)).data},Ws={getAll:async a=>(await Te.get("/usuarios",{params:a})).data,getById:async a=>(await Te.get(`/usuarios/${a}`)).data,create:async a=>(await Te.post("/usuarios",a)).data,update:async(a,n)=>(await Te.patch(`/usuarios/${a}`,n)).data,delete:async a=>(await Te.delete(`/usuarios/${a}`)).data,getEstatisticas:async()=>(await Te.get("/usuarios/estatisticas")).data,getAdministradores:async()=>(await Te.get("/usuarios/administradores")).data},kt={getAll:async a=>(await Te.get("/caixas",{params:a})).data,getById:async a=>(await Te.get(`/caixas/${a}`)).data,getByAdmin:async a=>(await Te.get(`/caixas/admin/${a}`)).data,create:async a=>(await Te.post("/caixas",a)).data,update:async(a,n)=>(await Te.patch(`/caixas/${a}`,n)).data,alterarStatus:async(a,n)=>(await Te.patch(`/caixas/${a}/status`,{status:n})).data,delete:async a=>(await Te.delete(`/caixas/${a}`)).data,getEstatisticas:async()=>(await Te.get("/caixas/estatisticas")).data,fixContemplacao:async(a,n)=>(await Te.post(`/caixas/${a}/fix-contemplacao/${n}`)).data},ga={getAll:async a=>(await Te.get("/participantes",{params:a})).data,getByCaixa:async a=>(await Te.get(`/participantes/caixa/${a}`)).data,getByUsuario:async a=>(await Te.get(`/participantes/usuario/${a}`)).data,create:async a=>(await Te.post("/participantes",a)).data,aceitar:async a=>(await Te.patch(`/participantes/${a}/aceitar`)).data,sortear:async a=>(await Te.post(`/participantes/caixa/${a}/sortear`)).data,definirPosicao:async(a,n)=>(await Te.patch(`/participantes/${a}/posicao`,{posicao:n})).data,delete:async a=>(await Te.delete(`/participantes/${a}`)).data},en={getAll:async a=>(await Te.get("/pagamentos",{params:a})).data,getByCaixaMes:async(a,n)=>(await Te.get(`/pagamentos/caixa/${a}/mes/${n}`)).data,getEstatisticasCaixa:async a=>(await Te.get(`/pagamentos/caixa/${a}/estatisticas`)).data,enviarComprovante:async(a,n)=>(await Te.patch(`/pagamentos/${a}/comprovante`,{comprovanteUrl:n})).data,atualizarObservacao:async(a,n)=>(await Te.patch(`/pagamentos/${a}`,{observacao:n})).data,aprovar:async a=>(await Te.patch(`/pagamentos/${a}/aprovar`)).data,rejeitar:async(a,n)=>(await Te.patch(`/pagamentos/${a}/rejeitar`,{motivoRejeicao:n})).data},ZC={getMaster:async()=>(await Te.get("/dashboard/master")).data,getAdmin:async a=>(await Te.get(`/dashboard/admin/${a}`)).data,getUsuario:async a=>(await Te.get(`/dashboard/usuario/${a}`)).data,getMetricas:async()=>(await Te.get("/dashboard/metricas")).data},Ud={getByUsuario:async a=>(await Te.get(`/notificacoes/usuario/${a}`)).data,contarNaoLidas:async a=>(await Te.get(`/notificacoes/usuario/${a}/nao-lidas`)).data,marcarComoLida:async a=>(await Te.patch(`/notificacoes/${a}/ler`)).data,marcarTodasComoLidas:async a=>(await Te.patch(`/notificacoes/usuario/${a}/ler-todas`)).data},Bn={gerar:async a=>(await Te.post("/cobrancas/gerar",a)).data,buscar:async(a,n)=>{const o=new URLSearchParams;n?.caixaId&&o.append("caixaId",n.caixaId),n?.participanteId&&o.append("participanteId",n.participanteId),n?.mes&&o.append("mes",String(n.mes));const i=o.toString(),c=`/cobrancas/${a}${i?`?${i}`:""}`;return(await Te.get(c)).data},status:async a=>(await Te.get(`/cobrancas/status/${a}`)).data,paymentDetail:async a=>(await Te.get(`/cobrancas/${a}/payment-detail`)).data,getByAssociacao:async a=>{const{caixaId:n,participanteId:o,mes:i}=a;return(await Te.get(`/cobrancas/por-associacao/${n}/${o}/${i}`)).data},getAllByAssociacao:async a=>{const{caixaId:n,participanteId:o}=a;return(await Te.get(`/cobrancas/todas-por-associacao/${n}/${o}`)).data},wallet:async()=>(await Te.get("/cobrancas/wallet")).data,transactions:async a=>(await Te.get("/cobrancas/transactions",{params:a})).data,syncStatus:async a=>(await Te.get(`/cobrancas/sync-status/${a}`)).data},qd={getAll:async a=>(await Te.get("/bancos",{params:a?{search:a}:void 0})).data,getAccounts:async a=>(await Te.get("/bancos/contas",{params:a?{subrecipientid:a}:void 0})).data},WC={createSubAccount:async a=>(await Te.post("/usuarios/me/subconta",a)).data,getSubAccount:async()=>(await Te.get("/usuarios/me/subconta")).data,getBankAccounts:async()=>(await Te.get("/usuarios/me/contas-bancarias")).data,getBankAccountsWithAdminToken:async a=>(await Te.get("/usuarios/bank-accounts-admin",{params:{subrecipientId:a}})).data,saveBankAccount:async a=>(await Te.post("/usuarios/me/contas-bancarias",a)).data,updateBankAccount:async(a,n)=>(await Te.patch(`/usuarios/me/contas-bancarias/${a}`,n)).data,deleteBankAccount:async a=>(await Te.delete(`/usuarios/me/contas-bancarias/${a}`)).data},Ea={getAll:async()=>(await Te.get("/subcontas")).data,getMine:async()=>(await Te.get("/subcontas/me")).data,createMine:async a=>(await Te.post("/subcontas/me",a)).data,getById:async a=>(await Te.get(`/subcontas/id/${a}`)).data,getBankAccounts:async a=>(await Te.get(`/subcontas/id/${a}/bank-accounts`)).data,saveBankAccounts:async a=>(await Te.post(`/subcontas/id/${a}/bank-accounts/save`)).data,getLocalBankAccounts:async a=>(await Te.get(`/subcontas/id/${a}/bank-accounts/local`)).data,getByLytexId:async a=>(await Te.get(`/subcontas/${a}`)).data,checkByCpf:async a=>(await Te.get(`/subcontas/check/${a}`)).data,getByUsuarioId:async a=>(await Te.get(`/subcontas/usuario/${a}`)).data,updateCredentials:async(a,n)=>(await Te.patch(`/subcontas/usuario/${a}/credentials`,n)).data,getMyWallet:async()=>(await Te.get("/subcontas/me/wallet")).data,getMyWalletTransactions:async()=>(await Te.get("/subcontas/me/wallet/transactions")).data,updateBankAccount:async(a,n)=>(await Te.put(`/subcontas/${a}/bank-account`,n)).data,updateFacialRecognition:async a=>(await Te.patch("/subcontas/me/facial-recognition",{status:a})).data,checkStatus:async()=>(await Te.get("/subcontas/me/status-check")).data},e3={calculate:async a=>(await Te.get("/split/calculate",{params:{caixaId:a.caixaId,mes:a.mes??1}})).data},$d={getAll:async()=>(await Te.get("/split-config")).data,getByCaixa:async a=>(await Te.get(`/split-config/${a}`)).data,saveForCaixa:async(a,n)=>(await Te.post(`/split-config/${a}`,n)).data,update:async(a,n)=>(await Te.put(`/split-config/${a}`,n)).data,delete:async a=>(await Te.delete(`/split-config/${a}`)).data,migrateAll:async()=>(await Te.post("/split-config/migrate-all")).data},t3={getMyBankAccounts:async()=>(await Te.get("/usuarios/me/contas-bancarias")).data},Wi={getMyRecebimentos:async()=>{const a=localStorage.getItem("token");if(!a)return{recebimentos:[],totalPago:0};try{const o=JSON.parse(atob(a.split(".")[1])).sub;return(await Te.get(`/recebimentos/usuario/${o}`)).data}catch(n){return console.error("Erro ao buscar recebimentos:",n),{recebimentos:[],totalPago:0}}},getTotalPago:async a=>{const o=(await Te.get(`/recebimentos/usuario/${a}`)).data;return(o.recebimentos||o||[]).filter(d=>d.status==="concluido").reduce((d,u)=>d+(u.valorTotal||0),0)},getAll:async a=>(await Te.get("/recebimentos",{params:a})).data,getEstatisticas:async()=>(await Te.get("/recebimentos/estatisticas")).data,solicitarSaque:async a=>(await Te.post(`/recebimentos/${a}/solicitar-saque`)).data,contemplarAdminManual:async(a,n)=>(await Te.post("/recebimentos/contemplacao-manual-admin",{adminId:a,caixaId:n})).data},o1={getComissaoCaixa:async(a,n)=>(await Te.get(`/regras-comissao/admin/${a}/caixa/${n}/comissao`)).data,getInfoTaxaAdmin:async a=>(await Te.get(`/regras-comissao/admin/${a}/taxa`)).data},by={solicitarSaque:async a=>(await Te.post("/fundo-garantidor/solicitar-saque",a)).data,gerarCobrancaReposicao:async a=>(await Te.post("/fundo-garantidor/gerar-cobranca-reposicao",a)).data,calcularSaldo:async a=>(await Te.get(`/fundo-garantidor/caixa/${a}/saldo`)).data,getMovimentos:async a=>(await Te.get(`/fundo-garantidor/caixa/${a}`)).data},l1=y.createContext(void 0);function a3({children:a}){const[n,o]=y.useState(null),[i,c]=y.useState(!0);y.useEffect(()=>{const b=localStorage.getItem("usuario"),g=localStorage.getItem("token");b&&g&&o(JSON.parse(b)),c(!1)},[]);const d=async(b,g)=>{const v=await gy.login(b,g);localStorage.setItem("token",v.accessToken),localStorage.setItem("usuario",JSON.stringify(v.usuario)),o(v.usuario)},u=async b=>{const g=await gy.register(b);g.accessToken&&g.accessToken.trim()!==""&&(localStorage.setItem("token",g.accessToken),localStorage.setItem("usuario",JSON.stringify(g.usuario)),o(g.usuario))},f=()=>{localStorage.removeItem("token"),localStorage.removeItem("usuario"),o(null)},p=b=>{if(n){const g={...n,...b};localStorage.setItem("usuario",JSON.stringify(g)),o(g)}},h=y.useCallback(async()=>{if(n?._id)try{const g=(await Te.get(`/usuarios/${n._id}`)).data;localStorage.setItem("usuario",JSON.stringify(g)),o(g)}catch(b){console.error("Erro ao recarregar usurio:",b)}},[n?._id]);return e.jsx(l1.Provider,{value:{usuario:n,isAuthenticated:!!n,isLoading:i,login:d,register:u,logout:f,updateUsuario:p,recarregarUsuario:h},children:a})}function Da(){const a=y.useContext(l1);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}const c1=y.createContext(void 0);function s3({children:a}){const[n,o]=y.useState(!0);return e.jsx(c1.Provider,{value:{isBottomNavVisible:n,setBottomNavVisible:o},children:a})}function d1(){const a=y.useContext(c1);if(a===void 0)throw new Error("useUI must be used within a UIProvider");return a}const Nh=y.createContext({});function ci(a){const n=y.useRef(null);return n.current===null&&(n.current=a()),n.current}const wh=typeof window<"u",Sh=wh?y.useLayoutEffect:y.useEffect,pu=y.createContext(null);function Ch(a,n){a.indexOf(n)===-1&&a.push(n)}function Ah(a,n){const o=a.indexOf(n);o>-1&&a.splice(o,1)}function n3([...a],n,o){const i=n<0?a.length+n:n;if(i>=0&&i<a.length){const c=o<0?a.length+o:o,[d]=a.splice(n,1);a.splice(c,0,d)}return a}const Vn=(a,n,o)=>o>n?n:o<a?a:o;let Th=()=>{};const Un={},u1=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function m1(a){return typeof a=="object"&&a!==null}const x1=a=>/^0[^.\s]+$/u.test(a);function Eh(a){let n;return()=>(n===void 0&&(n=a()),n)}const Is=a=>a,r3=(a,n)=>o=>n(a(o)),Yl=(...a)=>a.reduce(r3),Dl=(a,n,o)=>{const i=n-a;return i===0?1:(o-a)/i};class Rh{constructor(){this.subscriptions=[]}add(n){return Ch(this.subscriptions,n),()=>Ah(this.subscriptions,n)}notify(n,o,i){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](n,o,i);else for(let d=0;d<c;d++){const u=this.subscriptions[d];u&&u(n,o,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xn=a=>a*1e3,Ls=a=>a/1e3;function f1(a,n){return n?a*(1e3/n):0}const h1=(a,n,o)=>(((1-3*o+3*n)*a+(3*o-6*n))*a+3*n)*a,i3=1e-7,o3=12;function l3(a,n,o,i,c){let d,u,f=0;do u=n+(o-n)/2,d=h1(u,i,c)-a,d>0?o=u:n=u;while(Math.abs(d)>i3&&++f<o3);return u}function Ql(a,n,o,i){if(a===n&&o===i)return Is;const c=d=>l3(d,0,1,a,o);return d=>d===0||d===1?d:h1(c(d),n,i)}const p1=a=>n=>n<=.5?a(2*n)/2:(2-a(2*(1-n)))/2,g1=a=>n=>1-a(1-n),b1=Ql(.33,1.53,.69,.99),Mh=g1(b1),y1=p1(Mh),v1=a=>(a*=2)<1?.5*Mh(a):.5*(2-Math.pow(2,-10*(a-1))),Ph=a=>1-Math.sin(Math.acos(a)),j1=g1(Ph),N1=p1(Ph),c3=Ql(.42,0,1,1),d3=Ql(0,0,.58,1),w1=Ql(.42,0,.58,1),u3=a=>Array.isArray(a)&&typeof a[0]!="number",S1=a=>Array.isArray(a)&&typeof a[0]=="number",m3={linear:Is,easeIn:c3,easeInOut:w1,easeOut:d3,circIn:Ph,circInOut:N1,circOut:j1,backIn:Mh,backInOut:y1,backOut:b1,anticipate:v1},x3=a=>typeof a=="string",yy=a=>{if(S1(a)){Th(a.length===4);const[n,o,i,c]=a;return Ql(n,o,i,c)}else if(x3(a))return m3[a];return a},gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f3(a,n){let o=new Set,i=new Set,c=!1,d=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(b){u.has(b)&&(h.schedule(b),a()),b(f)}const h={schedule:(b,g=!1,v=!1)=>{const w=v&&c?o:i;return g&&u.add(b),w.has(b)||w.add(b),b},cancel:b=>{i.delete(b),u.delete(b)},process:b=>{if(f=b,c){d=!0;return}c=!0,[o,i]=[i,o],o.forEach(p),o.clear(),c=!1,d&&(d=!1,h.process(b))}};return h}const h3=40;function C1(a,n){let o=!1,i=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=()=>o=!0,u=gd.reduce((O,D)=>(O[D]=f3(d),O),{}),{setup:f,read:p,resolveKeyframes:h,preUpdate:b,update:g,preRender:v,render:A,postRender:w}=u,S=()=>{const O=Un.useManualTiming?c.timestamp:performance.now();o=!1,Un.useManualTiming||(c.delta=i?1e3/60:Math.max(Math.min(O-c.timestamp,h3),1)),c.timestamp=O,c.isProcessing=!0,f.process(c),p.process(c),h.process(c),b.process(c),g.process(c),v.process(c),A.process(c),w.process(c),c.isProcessing=!1,o&&n&&(i=!1,a(S))},N=()=>{o=!0,i=!0,c.isProcessing||a(S)};return{schedule:gd.reduce((O,D)=>{const k=u[D];return O[D]=(E,B=!1,q=!1)=>(o||N(),k.schedule(E,B,q)),O},{}),cancel:O=>{for(let D=0;D<gd.length;D++)u[gd[D]].cancel(O)},state:c,steps:u}}const{schedule:sa,cancel:qn,state:$a,steps:qx}=C1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Is,!0);let Fd;function p3(){Fd=void 0}const ds={now:()=>(Fd===void 0&&ds.set($a.isProcessing||Un.useManualTiming?$a.timestamp:performance.now()),Fd),set:a=>{Fd=a,queueMicrotask(p3)}},A1=a=>n=>typeof n=="string"&&n.startsWith(a),Dh=A1("--"),g3=A1("var(--"),kh=a=>g3(a)?b3.test(a.split("/*")[0].trim()):!1,b3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,po={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},kl={...po,transform:a=>Vn(0,1,a)},bd={...po,default:1},Sl=a=>Math.round(a*1e5)/1e5,_h=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y3(a){return a==null}const v3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zh=(a,n)=>o=>!!(typeof o=="string"&&v3.test(o)&&o.startsWith(a)||n&&!y3(o)&&Object.prototype.hasOwnProperty.call(o,n)),T1=(a,n,o)=>i=>{if(typeof i!="string")return i;const[c,d,u,f]=i.match(_h);return{[a]:parseFloat(c),[n]:parseFloat(d),[o]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},j3=a=>Vn(0,255,a),$x={...po,transform:a=>Math.round(j3(a))},Zr={test:zh("rgb","red"),parse:T1("red","green","blue"),transform:({red:a,green:n,blue:o,alpha:i=1})=>"rgba("+$x.transform(a)+", "+$x.transform(n)+", "+$x.transform(o)+", "+Sl(kl.transform(i))+")"};function N3(a){let n="",o="",i="",c="";return a.length>5?(n=a.substring(1,3),o=a.substring(3,5),i=a.substring(5,7),c=a.substring(7,9)):(n=a.substring(1,2),o=a.substring(2,3),i=a.substring(3,4),c=a.substring(4,5),n+=n,o+=o,i+=i,c+=c),{red:parseInt(n,16),green:parseInt(o,16),blue:parseInt(i,16),alpha:c?parseInt(c,16)/255:1}}const Bf={test:zh("#"),parse:N3,transform:Zr.transform},Kl=a=>({test:n=>typeof n=="string"&&n.endsWith(a)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${a}`}),jr=Kl("deg"),fn=Kl("%"),xt=Kl("px"),w3=Kl("vh"),S3=Kl("vw"),vy={...fn,parse:a=>fn.parse(a)/100,transform:a=>fn.transform(a*100)},eo={test:zh("hsl","hue"),parse:T1("hue","saturation","lightness"),transform:({hue:a,saturation:n,lightness:o,alpha:i=1})=>"hsla("+Math.round(a)+", "+fn.transform(Sl(n))+", "+fn.transform(Sl(o))+", "+Sl(kl.transform(i))+")"},Aa={test:a=>Zr.test(a)||Bf.test(a)||eo.test(a),parse:a=>Zr.test(a)?Zr.parse(a):eo.test(a)?eo.parse(a):Bf.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Zr.transform(a):eo.transform(a),getAnimatableNone:a=>{const n=Aa.parse(a);return n.alpha=0,Aa.transform(n)}},C3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A3(a){return isNaN(a)&&typeof a=="string"&&(a.match(_h)?.length||0)+(a.match(C3)?.length||0)>0}const E1="number",R1="color",T3="var",E3="var(",jy="${}",R3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _l(a){const n=a.toString(),o=[],i={color:[],number:[],var:[]},c=[];let d=0;const f=n.replace(R3,p=>(Aa.test(p)?(i.color.push(d),c.push(R1),o.push(Aa.parse(p))):p.startsWith(E3)?(i.var.push(d),c.push(T3),o.push(p)):(i.number.push(d),c.push(E1),o.push(parseFloat(p))),++d,jy)).split(jy);return{values:o,split:f,indexes:i,types:c}}function M1(a){return _l(a).values}function P1(a){const{split:n,types:o}=_l(a),i=n.length;return c=>{let d="";for(let u=0;u<i;u++)if(d+=n[u],c[u]!==void 0){const f=o[u];f===E1?d+=Sl(c[u]):f===R1?d+=Aa.transform(c[u]):d+=c[u]}return d}}const M3=a=>typeof a=="number"?0:Aa.test(a)?Aa.getAnimatableNone(a):a;function P3(a){const n=M1(a);return P1(a)(n.map(M3))}const Sr={test:A3,parse:M1,createTransformer:P1,getAnimatableNone:P3};function Fx(a,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?a+(n-a)*6*o:o<1/2?n:o<2/3?a+(n-a)*(2/3-o)*6:a}function D3({hue:a,saturation:n,lightness:o,alpha:i}){a/=360,n/=100,o/=100;let c=0,d=0,u=0;if(!n)c=d=u=o;else{const f=o<.5?o*(1+n):o+n-o*n,p=2*o-f;c=Fx(p,f,a+1/3),d=Fx(p,f,a),u=Fx(p,f,a-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(u*255),alpha:i}}function Jd(a,n){return o=>o>0?n:a}const oa=(a,n,o)=>a+(n-a)*o,Hx=(a,n,o)=>{const i=a*a,c=o*(n*n-i)+i;return c<0?0:Math.sqrt(c)},k3=[Bf,Zr,eo],_3=a=>k3.find(n=>n.test(a));function Ny(a){const n=_3(a);if(!n)return!1;let o=n.parse(a);return n===eo&&(o=D3(o)),o}const wy=(a,n)=>{const o=Ny(a),i=Ny(n);if(!o||!i)return Jd(a,n);const c={...o};return d=>(c.red=Hx(o.red,i.red,d),c.green=Hx(o.green,i.green,d),c.blue=Hx(o.blue,i.blue,d),c.alpha=oa(o.alpha,i.alpha,d),Zr.transform(c))},Lf=new Set(["none","hidden"]);function z3(a,n){return Lf.has(a)?o=>o<=0?a:n:o=>o>=1?n:a}function O3(a,n){return o=>oa(a,n,o)}function Oh(a){return typeof a=="number"?O3:typeof a=="string"?kh(a)?Jd:Aa.test(a)?wy:I3:Array.isArray(a)?D1:typeof a=="object"?Aa.test(a)?wy:B3:Jd}function D1(a,n){const o=[...a],i=o.length,c=a.map((d,u)=>Oh(d)(d,n[u]));return d=>{for(let u=0;u<i;u++)o[u]=c[u](d);return o}}function B3(a,n){const o={...a,...n},i={};for(const c in o)a[c]!==void 0&&n[c]!==void 0&&(i[c]=Oh(a[c])(a[c],n[c]));return c=>{for(const d in i)o[d]=i[d](c);return o}}function L3(a,n){const o=[],i={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const d=n.types[c],u=a.indexes[d][i[d]],f=a.values[u]??0;o[c]=f,i[d]++}return o}const I3=(a,n)=>{const o=Sr.createTransformer(n),i=_l(a),c=_l(n);return i.indexes.var.length===c.indexes.var.length&&i.indexes.color.length===c.indexes.color.length&&i.indexes.number.length>=c.indexes.number.length?Lf.has(a)&&!c.values.length||Lf.has(n)&&!i.values.length?z3(a,n):Yl(D1(L3(i,c),c.values),o):Jd(a,n)};function k1(a,n,o){return typeof a=="number"&&typeof n=="number"&&typeof o=="number"?oa(a,n,o):Oh(a)(a,n)}const V3=a=>{const n=({timestamp:o})=>a(o);return{start:(o=!0)=>sa.update(n,o),stop:()=>qn(n),now:()=>$a.isProcessing?$a.timestamp:ds.now()}},_1=(a,n,o=10)=>{let i="";const c=Math.max(Math.round(n/o),2);for(let d=0;d<c;d++)i+=Math.round(a(d/(c-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Zd=2e4;function Bh(a){let n=0;const o=50;let i=a.next(n);for(;!i.done&&n<Zd;)n+=o,i=a.next(n);return n>=Zd?1/0:n}function U3(a,n=100,o){const i=o({...a,keyframes:[0,n]}),c=Math.min(Bh(i),Zd);return{type:"keyframes",ease:d=>i.next(c*d).value/n,duration:Ls(c)}}const q3=5;function z1(a,n,o){const i=Math.max(n-q3,0);return f1(o-a(i),n-i)}const fa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gx=.001;function $3({duration:a=fa.duration,bounce:n=fa.bounce,velocity:o=fa.velocity,mass:i=fa.mass}){let c,d,u=1-n;u=Vn(fa.minDamping,fa.maxDamping,u),a=Vn(fa.minDuration,fa.maxDuration,Ls(a)),u<1?(c=h=>{const b=h*u,g=b*a,v=b-o,A=If(h,u),w=Math.exp(-g);return Gx-v/A*w},d=h=>{const g=h*u*a,v=g*o+o,A=Math.pow(u,2)*Math.pow(h,2)*a,w=Math.exp(-g),S=If(Math.pow(h,2),u);return(-c(h)+Gx>0?-1:1)*((v-A)*w)/S}):(c=h=>{const b=Math.exp(-h*a),g=(h-o)*a+1;return-Gx+b*g},d=h=>{const b=Math.exp(-h*a),g=(o-h)*(a*a);return b*g});const f=5/a,p=H3(c,d,f);if(a=xn(a),isNaN(p))return{stiffness:fa.stiffness,damping:fa.damping,duration:a};{const h=Math.pow(p,2)*i;return{stiffness:h,damping:u*2*Math.sqrt(i*h),duration:a}}}const F3=12;function H3(a,n,o){let i=o;for(let c=1;c<F3;c++)i=i-a(i)/n(i);return i}function If(a,n){return a*Math.sqrt(1-n*n)}const G3=["duration","bounce"],X3=["stiffness","damping","mass"];function Sy(a,n){return n.some(o=>a[o]!==void 0)}function Y3(a){let n={velocity:fa.velocity,stiffness:fa.stiffness,damping:fa.damping,mass:fa.mass,isResolvedFromDuration:!1,...a};if(!Sy(a,X3)&&Sy(a,G3))if(a.visualDuration){const o=a.visualDuration,i=2*Math.PI/(o*1.2),c=i*i,d=2*Vn(.05,1,1-(a.bounce||0))*Math.sqrt(c);n={...n,mass:fa.mass,stiffness:c,damping:d}}else{const o=$3(a);n={...n,...o,mass:fa.mass},n.isResolvedFromDuration=!0}return n}function Wd(a=fa.visualDuration,n=fa.bounce){const o=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:n}:a;let{restSpeed:i,restDelta:c}=o;const d=o.keyframes[0],u=o.keyframes[o.keyframes.length-1],f={done:!1,value:d},{stiffness:p,damping:h,mass:b,duration:g,velocity:v,isResolvedFromDuration:A}=Y3({...o,velocity:-Ls(o.velocity||0)}),w=v||0,S=h/(2*Math.sqrt(p*b)),N=u-d,M=Ls(Math.sqrt(p/b)),_=Math.abs(N)<5;i||(i=_?fa.restSpeed.granular:fa.restSpeed.default),c||(c=_?fa.restDelta.granular:fa.restDelta.default);let O;if(S<1){const k=If(M,S);O=E=>{const B=Math.exp(-S*M*E);return u-B*((w+S*M*N)/k*Math.sin(k*E)+N*Math.cos(k*E))}}else if(S===1)O=k=>u-Math.exp(-M*k)*(N+(w+M*N)*k);else{const k=M*Math.sqrt(S*S-1);O=E=>{const B=Math.exp(-S*M*E),q=Math.min(k*E,300);return u-B*((w+S*M*N)*Math.sinh(q)+k*N*Math.cosh(q))/k}}const D={calculatedDuration:A&&g||null,next:k=>{const E=O(k);if(A)f.done=k>=g;else{let B=k===0?w:0;S<1&&(B=k===0?xn(w):z1(O,k,E));const q=Math.abs(B)<=i,Q=Math.abs(u-E)<=c;f.done=q&&Q}return f.value=f.done?u:E,f},toString:()=>{const k=Math.min(Bh(D),Zd),E=_1(B=>D.next(k*B).value,k,30);return k+"ms "+E},toTransition:()=>{}};return D}Wd.applyToOptions=a=>{const n=U3(a,100,Wd);return a.ease=n.ease,a.duration=xn(n.duration),a.type="keyframes",a};function Vf({keyframes:a,velocity:n=0,power:o=.8,timeConstant:i=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:u,min:f,max:p,restDelta:h=.5,restSpeed:b}){const g=a[0],v={done:!1,value:g},A=q=>f!==void 0&&q<f||p!==void 0&&q>p,w=q=>f===void 0?p:p===void 0||Math.abs(f-q)<Math.abs(p-q)?f:p;let S=o*n;const N=g+S,M=u===void 0?N:u(N);M!==N&&(S=M-g);const _=q=>-S*Math.exp(-q/i),O=q=>M+_(q),D=q=>{const Q=_(q),se=O(q);v.done=Math.abs(Q)<=h,v.value=v.done?M:se};let k,E;const B=q=>{A(v.value)&&(k=q,E=Wd({keyframes:[v.value,w(v.value)],velocity:z1(O,q,v.value),damping:c,stiffness:d,restDelta:h,restSpeed:b}))};return B(0),{calculatedDuration:null,next:q=>{let Q=!1;return!E&&k===void 0&&(Q=!0,D(q),B(q)),k!==void 0&&q>=k?E.next(q-k):(!Q&&D(q),v)}}}function Q3(a,n,o){const i=[],c=o||Un.mix||k1,d=a.length-1;for(let u=0;u<d;u++){let f=c(a[u],a[u+1]);if(n){const p=Array.isArray(n)?n[u]||Is:n;f=Yl(p,f)}i.push(f)}return i}function O1(a,n,{clamp:o=!0,ease:i,mixer:c}={}){const d=a.length;if(Th(d===n.length),d===1)return()=>n[0];if(d===2&&n[0]===n[1])return()=>n[1];const u=a[0]===a[1];a[0]>a[d-1]&&(a=[...a].reverse(),n=[...n].reverse());const f=Q3(n,i,c),p=f.length,h=b=>{if(u&&b<a[0])return n[0];let g=0;if(p>1)for(;g<a.length-2&&!(b<a[g+1]);g++);const v=Dl(a[g],a[g+1],b);return f[g](v)};return o?b=>h(Vn(a[0],a[d-1],b)):h}function K3(a,n){const o=a[a.length-1];for(let i=1;i<=n;i++){const c=Dl(0,n,i);a.push(oa(o,1,c))}}function J3(a){const n=[0];return K3(n,a.length-1),n}function Z3(a,n){return a.map(o=>o*n)}function W3(a,n){return a.map(()=>n||w1).splice(0,a.length-1)}function Cl({duration:a=300,keyframes:n,times:o,ease:i="easeInOut"}){const c=u3(i)?i.map(yy):yy(i),d={done:!1,value:n[0]},u=Z3(o&&o.length===n.length?o:J3(n),a),f=O1(u,n,{ease:Array.isArray(c)?c:W3(n,c)});return{calculatedDuration:a,next:p=>(d.value=f(p),d.done=p>=a,d)}}const eA=a=>a!==null;function Lh(a,{repeat:n,repeatType:o="loop"},i,c=1){const d=a.filter(eA),f=c<0||n&&o!=="loop"&&n%2===1?0:d.length-1;return!f||i===void 0?d[f]:i}const tA={decay:Vf,inertia:Vf,tween:Cl,keyframes:Cl,spring:Wd};function B1(a){typeof a.type=="string"&&(a.type=tA[a.type])}class Ih{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,o){return this.finished.then(n,o)}}const aA=a=>a/100;class Vh extends Ih{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:o}=this.options;o&&o.updatedAt!==ds.now()&&this.tick(ds.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;B1(n);const{type:o=Cl,repeat:i=0,repeatDelay:c=0,repeatType:d,velocity:u=0}=n;let{keyframes:f}=n;const p=o||Cl;p!==Cl&&typeof f[0]!="number"&&(this.mixKeyframes=Yl(aA,k1(f[0],f[1])),f=[0,100]);const h=p({...n,keyframes:f});d==="mirror"&&(this.mirroredGenerator=p({...n,keyframes:[...f].reverse(),velocity:-u})),h.calculatedDuration===null&&(h.calculatedDuration=Bh(h));const{calculatedDuration:b}=h;this.calculatedDuration=b,this.resolvedDuration=b+c,this.totalDuration=this.resolvedDuration*(i+1)-c,this.generator=h}updateTime(n){const o=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(n,o=!1){const{generator:i,totalDuration:c,mixKeyframes:d,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:b,repeat:g,repeatType:v,repeatDelay:A,type:w,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-c/this.speed,this.startTime)),o?this.currentTime=n:this.updateTime(n);const M=this.currentTime-h*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?M<0:M>c;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let O=this.currentTime,D=i;if(g){const q=Math.min(this.currentTime,c)/f;let Q=Math.floor(q),se=q%1;!se&&q>=1&&(se=1),se===1&&Q--,Q=Math.min(Q,g+1),!!(Q%2)&&(v==="reverse"?(se=1-se,A&&(se-=A/f)):v==="mirror"&&(D=u)),O=Vn(0,1,se)*f}const k=_?{done:!1,value:b[0]}:D.next(O);d&&(k.value=d(k.value));let{done:E}=k;!_&&p!==null&&(E=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return B&&w!==Vf&&(k.value=Lh(b,this.options,N,this.speed)),S&&S(k.value),B&&this.finish(),k}then(n,o){return this.finished.then(n,o)}get duration(){return Ls(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Ls(n)}get time(){return Ls(this.currentTime)}set time(n){n=xn(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(ds.now());const o=this.playbackSpeed!==n;this.playbackSpeed=n,o&&(this.time=Ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=V3,startTime:o}=this.options;this.driver||(this.driver=n(c=>this.tick(c))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=o??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function sA(a){for(let n=1;n<a.length;n++)a[n]??(a[n]=a[n-1])}const Wr=a=>a*180/Math.PI,Uf=a=>{const n=Wr(Math.atan2(a[1],a[0]));return qf(n)},nA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Uf,rotateZ:Uf,skewX:a=>Wr(Math.atan(a[1])),skewY:a=>Wr(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},qf=a=>(a=a%360,a<0&&(a+=360),a),Cy=Uf,Ay=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Ty=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),rA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ay,scaleY:Ty,scale:a=>(Ay(a)+Ty(a))/2,rotateX:a=>qf(Wr(Math.atan2(a[6],a[5]))),rotateY:a=>qf(Wr(Math.atan2(-a[2],a[0]))),rotateZ:Cy,rotate:Cy,skewX:a=>Wr(Math.atan(a[4])),skewY:a=>Wr(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function $f(a){return a.includes("scale")?1:0}function Ff(a,n){if(!a||a==="none")return $f(n);const o=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,c;if(o)i=rA,c=o;else{const f=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=nA,c=f}if(!c)return $f(n);const d=i[n],u=c[1].split(",").map(oA);return typeof d=="function"?d(u):u[d]}const iA=(a,n)=>{const{transform:o="none"}=getComputedStyle(a);return Ff(o,n)};function oA(a){return parseFloat(a.trim())}const go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bo=new Set(go),Ey=a=>a===po||a===xt,lA=new Set(["x","y","z"]),cA=go.filter(a=>!lA.has(a));function dA(a){const n=[];return cA.forEach(o=>{const i=a.getValue(o);i!==void 0&&(n.push([o,i.get()]),i.set(o.startsWith("scale")?1:0))}),n}const ai={width:({x:a},{paddingLeft:n="0",paddingRight:o="0"})=>a.max-a.min-parseFloat(n)-parseFloat(o),height:({y:a},{paddingTop:n="0",paddingBottom:o="0"})=>a.max-a.min-parseFloat(n)-parseFloat(o),top:(a,{top:n})=>parseFloat(n),left:(a,{left:n})=>parseFloat(n),bottom:({y:a},{top:n})=>parseFloat(n)+(a.max-a.min),right:({x:a},{left:n})=>parseFloat(n)+(a.max-a.min),x:(a,{transform:n})=>Ff(n,"x"),y:(a,{transform:n})=>Ff(n,"y")};ai.translateX=ai.x;ai.translateY=ai.y;const si=new Set;let Hf=!1,Gf=!1,Xf=!1;function L1(){if(Gf){const a=Array.from(si).filter(i=>i.needsMeasurement),n=new Set(a.map(i=>i.element)),o=new Map;n.forEach(i=>{const c=dA(i);c.length&&(o.set(i,c),i.render())}),a.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const c=o.get(i);c&&c.forEach(([d,u])=>{i.getValue(d)?.set(u)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Gf=!1,Hf=!1,si.forEach(a=>a.complete(Xf)),si.clear()}function I1(){si.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Gf=!0)})}function uA(){Xf=!0,I1(),L1(),Xf=!1}class Uh{constructor(n,o,i,c,d,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=o,this.name=i,this.motionValue=c,this.element=d,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(si.add(this),Hf||(Hf=!0,sa.read(I1),sa.resolveKeyframes(L1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:o,element:i,motionValue:c}=this;if(n[0]===null){const d=c?.get(),u=n[n.length-1];if(d!==void 0)n[0]=d;else if(i&&o){const f=i.readValue(o,u);f!=null&&(n[0]=f)}n[0]===void 0&&(n[0]=u),c&&d===void 0&&c.set(n[0])}sA(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),si.delete(this)}cancel(){this.state==="scheduled"&&(si.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mA=a=>a.startsWith("--");function xA(a,n,o){mA(n)?a.style.setProperty(n,o):a.style[n]=o}const fA=Eh(()=>window.ScrollTimeline!==void 0),hA={};function pA(a,n){const o=Eh(a);return()=>hA[n]??o()}const V1=pA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wl=([a,n,o,i])=>`cubic-bezier(${a}, ${n}, ${o}, ${i})`,Ry={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function U1(a,n){if(a)return typeof a=="function"?V1()?_1(a,n):"ease-out":S1(a)?wl(a):Array.isArray(a)?a.map(o=>U1(o,n)||Ry.easeOut):Ry[a]}function gA(a,n,o,{delay:i=0,duration:c=300,repeat:d=0,repeatType:u="loop",ease:f="easeOut",times:p}={},h=void 0){const b={[n]:o};p&&(b.offset=p);const g=U1(f,c);Array.isArray(g)&&(b.easing=g);const v={delay:i,duration:c,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:d+1,direction:u==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),a.animate(b,v)}function q1(a){return typeof a=="function"&&"applyToOptions"in a}function bA({type:a,...n}){return q1(a)&&V1()?a.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class yA extends Ih{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:o,name:i,keyframes:c,pseudoElement:d,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=n;this.isPseudoElement=!!d,this.allowFlatten=u,this.options=n,Th(typeof n.type!="string");const h=bA(n);this.animation=gA(o,i,c,h,d),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const b=Lh(c,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(b):xA(o,i,b),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Ls(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Ls(n)}get time(){return Ls(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=xn(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:o}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&fA()?(this.animation.timeline=n,Is):o(this)}}const $1={anticipate:v1,backInOut:y1,circInOut:N1};function vA(a){return a in $1}function jA(a){typeof a.ease=="string"&&vA(a.ease)&&(a.ease=$1[a.ease])}const My=10;class NA extends yA{constructor(n){jA(n),B1(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:o,onUpdate:i,onComplete:c,element:d,...u}=this.options;if(!o)return;if(n!==void 0){o.set(n);return}const f=new Vh({...u,autoplay:!1}),p=xn(this.finishedTime??this.time);o.setWithVelocity(f.sample(p-My).value,f.sample(p).value,My),f.stop()}}const Py=(a,n)=>n==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Sr.test(a)||a==="0")&&!a.startsWith("url("));function wA(a){const n=a[0];if(a.length===1)return!0;for(let o=0;o<a.length;o++)if(a[o]!==n)return!0}function SA(a,n,o,i){const c=a[0];if(c===null)return!1;if(n==="display"||n==="visibility")return!0;const d=a[a.length-1],u=Py(c,n),f=Py(d,n);return!u||!f?!1:wA(a)||(o==="spring"||q1(o))&&i}function Yf(a){a.duration=0,a.type="keyframes"}const CA=new Set(["opacity","clipPath","filter","transform"]),AA=Eh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TA(a){const{motionValue:n,name:o,repeatDelay:i,repeatType:c,damping:d,type:u}=a;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:h}=n.owner.getProps();return AA()&&o&&CA.has(o)&&(o!=="transform"||!h)&&!p&&!i&&c!=="mirror"&&d!==0&&u!=="inertia"}const EA=40;class RA extends Ih{constructor({autoplay:n=!0,delay:o=0,type:i="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:u="loop",keyframes:f,name:p,motionValue:h,element:b,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ds.now();const v={autoplay:n,delay:o,type:i,repeat:c,repeatDelay:d,repeatType:u,name:p,motionValue:h,element:b,...g},A=b?.KeyframeResolver||Uh;this.keyframeResolver=new A(f,(w,S,N)=>this.onKeyframesResolved(w,S,v,!N),p,h,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,o,i,c){this.keyframeResolver=void 0;const{name:d,type:u,velocity:f,delay:p,isHandoff:h,onUpdate:b}=i;this.resolvedAt=ds.now(),SA(n,d,u,f)||((Un.instantAnimations||!p)&&b?.(Lh(n,i,o)),n[0]=n[n.length-1],Yf(i),i.repeat=0);const v={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>EA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...i,keyframes:n},A=!h&&TA(v)?new NA({...v,element:v.motionValue.owner.current}):new Vh(v);A.finished.then(()=>this.notifyFinished()).catch(Is),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(n,o){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),uA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const MA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PA(a){const n=MA.exec(a);if(!n)return[,];const[,o,i,c]=n;return[`--${o??i}`,c]}function F1(a,n,o=1){const[i,c]=PA(a);if(!i)return;const d=window.getComputedStyle(n).getPropertyValue(i);if(d){const u=d.trim();return u1(u)?parseFloat(u):u}return kh(c)?F1(c,n,o+1):c}function qh(a,n){return a?.[n]??a?.default??a}const H1=new Set(["width","height","top","left","right","bottom",...go]),DA={test:a=>a==="auto",parse:a=>a},G1=a=>n=>n.test(a),X1=[po,xt,fn,jr,S3,w3,DA],Dy=a=>X1.find(G1(a));function kA(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||x1(a):!0}const _A=new Set(["brightness","contrast","saturate","opacity"]);function zA(a){const[n,o]=a.slice(0,-1).split("(");if(n==="drop-shadow")return a;const[i]=o.match(_h)||[];if(!i)return a;const c=o.replace(i,"");let d=_A.has(n)?1:0;return i!==o&&(d*=100),n+"("+d+c+")"}const OA=/\b([a-z-]*)\(.*?\)/gu,Qf={...Sr,getAnimatableNone:a=>{const n=a.match(OA);return n?n.map(zA).join(" "):a}},ky={...po,transform:Math.round},BA={rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:jr,skewX:jr,skewY:jr,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:kl,originX:vy,originY:vy,originZ:xt},$h={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt,...BA,zIndex:ky,fillOpacity:kl,strokeOpacity:kl,numOctaves:ky},LA={...$h,color:Aa,backgroundColor:Aa,outlineColor:Aa,fill:Aa,stroke:Aa,borderColor:Aa,borderTopColor:Aa,borderRightColor:Aa,borderBottomColor:Aa,borderLeftColor:Aa,filter:Qf,WebkitFilter:Qf},Y1=a=>LA[a];function Q1(a,n){let o=Y1(a);return o!==Qf&&(o=Sr),o.getAnimatableNone?o.getAnimatableNone(n):void 0}const IA=new Set(["auto","none","0"]);function VA(a,n,o){let i=0,c;for(;i<a.length&&!c;){const d=a[i];typeof d=="string"&&!IA.has(d)&&_l(d).values.length&&(c=a[i]),i++}if(c&&o)for(const d of n)a[d]=Q1(o,c)}class UA extends Uh{constructor(n,o,i,c,d){super(n,o,i,c,d,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:o,name:i}=this;if(!o||!o.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let h=n[p];if(typeof h=="string"&&(h=h.trim(),kh(h))){const b=F1(h,o.current);b!==void 0&&(n[p]=b),p===n.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!H1.has(i)||n.length!==2)return;const[c,d]=n,u=Dy(c),f=Dy(d);if(u!==f)if(Ey(u)&&Ey(f))for(let p=0;p<n.length;p++){const h=n[p];typeof h=="string"&&(n[p]=parseFloat(h))}else ai[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:o}=this,i=[];for(let c=0;c<n.length;c++)(n[c]===null||kA(n[c]))&&i.push(c);i.length&&VA(n,i,o)}measureInitialState(){const{element:n,unresolvedKeyframes:o,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ai[i](n.measureViewportBox(),window.getComputedStyle(n.current)),o[0]=this.measuredOrigin;const c=o[o.length-1];c!==void 0&&n.getValue(i,c).jump(c,!1)}measureEndState(){const{element:n,name:o,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const c=n.getValue(o);c&&c.jump(this.measuredOrigin,!1);const d=i.length-1,u=i[d];i[d]=ai[o](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function qA(a,n,o){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let i=document;const c=o?.[a]??i.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}const K1=(a,n)=>n&&typeof a=="number"?n.transform(a):a;function J1(a){return m1(a)&&"offsetHeight"in a}const _y=30,$A=a=>!isNaN(parseFloat(a)),Al={current:void 0};class FA{constructor(n,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const c=ds.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=o.owner}setCurrent(n){this.current=n,this.updatedAt=ds.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=$A(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,o){this.events[n]||(this.events[n]=new Rh);const i=this.events[n].add(o);return n==="change"?()=>{i(),sa.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,o){this.passiveEffect=n,this.stopPassiveEffect=o}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,o,i){this.set(o),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,o=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return Al.current&&Al.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const n=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>_y)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,_y);return f1(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(n){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=n(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(a,n){return new FA(a,n)}const{schedule:Fh}=C1(queueMicrotask,!1),Zs={x:!1,y:!1};function Z1(){return Zs.x||Zs.y}function HA(a){return a==="x"||a==="y"?Zs[a]?null:(Zs[a]=!0,()=>{Zs[a]=!1}):Zs.x||Zs.y?null:(Zs.x=Zs.y=!0,()=>{Zs.x=Zs.y=!1})}function W1(a,n){const o=qA(a),i=new AbortController,c={passive:!0,...n,signal:i.signal};return[o,c,()=>i.abort()]}function zy(a){return!(a.pointerType==="touch"||Z1())}function GA(a,n,o={}){const[i,c,d]=W1(a,o),u=f=>{if(!zy(f))return;const{target:p}=f,h=n(p,f);if(typeof h!="function"||!p)return;const b=g=>{zy(g)&&(h(g),p.removeEventListener("pointerleave",b))};p.addEventListener("pointerleave",b,c)};return i.forEach(f=>{f.addEventListener("pointerenter",u,c)}),d}const eN=(a,n)=>n?a===n?!0:eN(a,n.parentElement):!1,Hh=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,XA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YA(a){return XA.has(a.tagName)||a.tabIndex!==-1}const Hd=new WeakSet;function Oy(a){return n=>{n.key==="Enter"&&a(n)}}function Xx(a,n){a.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const QA=(a,n)=>{const o=a.currentTarget;if(!o)return;const i=Oy(()=>{if(Hd.has(o))return;Xx(o,"down");const c=Oy(()=>{Xx(o,"up")}),d=()=>Xx(o,"cancel");o.addEventListener("keyup",c,n),o.addEventListener("blur",d,n)});o.addEventListener("keydown",i,n),o.addEventListener("blur",()=>o.removeEventListener("keydown",i),n)};function By(a){return Hh(a)&&!Z1()}function KA(a,n,o={}){const[i,c,d]=W1(a,o),u=f=>{const p=f.currentTarget;if(!By(f))return;Hd.add(p);const h=n(p,f),b=(A,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Hd.has(p)&&Hd.delete(p),By(A)&&typeof h=="function"&&h(A,{success:w})},g=A=>{b(A,p===window||p===document||o.useGlobalTarget||eN(p,A.target))},v=A=>{b(A,!1)};window.addEventListener("pointerup",g,c),window.addEventListener("pointercancel",v,c)};return i.forEach(f=>{(o.useGlobalTarget?window:f).addEventListener("pointerdown",u,c),J1(f)&&(f.addEventListener("focus",h=>QA(h,c)),!YA(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),d}function tN(a){return m1(a)&&"ownerSVGElement"in a}function JA(a){return tN(a)&&a.tagName==="svg"}function ZA(...a){const n=!Array.isArray(a[0]),o=n?0:-1,i=a[0+o],c=a[1+o],d=a[2+o],u=a[3+o],f=O1(c,d,u);return n?f(i):f}const Ha=a=>!!(a&&a.getVelocity),WA=[...X1,Aa,Sr],e6=a=>WA.find(G1(a)),gu=y.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function Ly(a,n){if(typeof a=="function")return a(n);a!=null&&(a.current=n)}function t6(...a){return n=>{let o=!1;const i=a.map(c=>{const d=Ly(c,n);return!o&&typeof d=="function"&&(o=!0),d});if(o)return()=>{for(let c=0;c<i.length;c++){const d=i[c];typeof d=="function"?d():Ly(a[c],null)}}}}function a6(...a){return y.useCallback(t6(...a),a)}class s6 extends y.Component{getSnapshotBeforeUpdate(n){const o=this.props.childRef.current;if(o&&n.isPresent&&!this.props.isPresent){const i=o.offsetParent,c=J1(i)&&i.offsetWidth||0,d=this.props.sizeRef.current;d.height=o.offsetHeight||0,d.width=o.offsetWidth||0,d.top=o.offsetTop,d.left=o.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n6({children:a,isPresent:n,anchorX:o,root:i}){const c=y.useId(),d=y.useRef(null),u=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=y.useContext(gu),p=a6(d,a?.ref);return y.useInsertionEffect(()=>{const{width:h,height:b,top:g,left:v,right:A}=u.current;if(n||!d.current||!h||!b)return;const w=o==="left"?`left: ${v}`:`right: ${A}`;d.current.dataset.motionPopId=c;const S=document.createElement("style");f&&(S.nonce=f);const N=i??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${b}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[n]),e.jsx(s6,{isPresent:n,childRef:d,sizeRef:u,children:y.cloneElement(a,{ref:p})})}const r6=({children:a,initial:n,isPresent:o,onExitComplete:i,custom:c,presenceAffectsLayout:d,mode:u,anchorX:f,root:p})=>{const h=ci(i6),b=y.useId();let g=!0,v=y.useMemo(()=>(g=!1,{id:b,initial:n,isPresent:o,custom:c,onExitComplete:A=>{h.set(A,!0);for(const w of h.values())if(!w)return;i&&i()},register:A=>(h.set(A,!1),()=>h.delete(A))}),[o,h,i]);return d&&g&&(v={...v}),y.useMemo(()=>{h.forEach((A,w)=>h.set(w,!1))},[o]),y.useEffect(()=>{!o&&!h.size&&i&&i()},[o]),u==="popLayout"&&(a=e.jsx(n6,{isPresent:o,anchorX:f,root:p,children:a})),e.jsx(pu.Provider,{value:v,children:a})};function i6(){return new Map}function aN(a=!0){const n=y.useContext(pu);if(n===null)return[!0,null];const{isPresent:o,onExitComplete:i,register:c}=n,d=y.useId();y.useEffect(()=>{if(a)return c(d)},[a]);const u=y.useCallback(()=>a&&i&&i(d),[d,i,a]);return!o&&i?[!1,u]:[!0]}const yd=a=>a.key||"";function Iy(a){const n=[];return y.Children.forEach(a,o=>{y.isValidElement(o)&&n.push(o)}),n}const Jl=({children:a,custom:n,initial:o=!0,onExitComplete:i,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[h,b]=aN(u),g=y.useMemo(()=>Iy(a),[a]),v=u&&!h?[]:g.map(yd),A=y.useRef(!0),w=y.useRef(g),S=ci(()=>new Map),[N,M]=y.useState(g),[_,O]=y.useState(g);Sh(()=>{A.current=!1,w.current=g;for(let E=0;E<_.length;E++){const B=yd(_[E]);v.includes(B)?S.delete(B):S.get(B)!==!0&&S.set(B,!1)}},[_,v.length,v.join("-")]);const D=[];if(g!==N){let E=[...g];for(let B=0;B<_.length;B++){const q=_[B],Q=yd(q);v.includes(Q)||(E.splice(B,0,q),D.push(q))}return d==="wait"&&D.length&&(E=D),O(Iy(E)),M(g),null}const{forceRender:k}=y.useContext(Nh);return e.jsx(e.Fragment,{children:_.map(E=>{const B=yd(E),q=u&&!h?!1:g===_||v.includes(B),Q=()=>{if(S.has(B))S.set(B,!0);else return;let se=!0;S.forEach(J=>{J||(se=!1)}),se&&(k?.(),O(w.current),u&&b?.(),i&&i())};return e.jsx(r6,{isPresent:q,initial:!A.current||o?void 0:!1,custom:n,presenceAffectsLayout:c,mode:d,root:p,onExitComplete:q?void 0:Q,anchorX:f,children:E},B)})})},sN=y.createContext({strict:!1}),Vy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oo={};for(const a in Vy)oo[a]={isEnabled:n=>Vy[a].some(o=>!!n[o])};function o6(a){for(const n in a)oo[n]={...oo[n],...a[n]}}const l6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eu(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||l6.has(a)}let nN=a=>!eu(a);function c6(a){typeof a=="function"&&(nN=n=>n.startsWith("on")?!eu(n):a(n))}try{c6(require("@emotion/is-prop-valid").default)}catch{}function d6(a,n,o){const i={};for(const c in a)c==="values"&&typeof a.values=="object"||(nN(c)||o===!0&&eu(c)||!n&&!eu(c)||a.draggable&&c.startsWith("onDrag"))&&(i[c]=a[c]);return i}const bu=y.createContext({});function yu(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function zl(a){return typeof a=="string"||Array.isArray(a)}const Gh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xh=["initial",...Gh];function vu(a){return yu(a.animate)||Xh.some(n=>zl(a[n]))}function rN(a){return!!(vu(a)||a.variants)}function u6(a,n){if(vu(a)){const{initial:o,animate:i}=a;return{initial:o===!1||zl(o)?o:void 0,animate:zl(i)?i:void 0}}return a.inherit!==!1?n:{}}function m6(a){const{initial:n,animate:o}=u6(a,y.useContext(bu));return y.useMemo(()=>({initial:n,animate:o}),[Uy(n),Uy(o)])}function Uy(a){return Array.isArray(a)?a.join(" "):a}const Ol={};function x6(a){for(const n in a)Ol[n]=a[n],Dh(n)&&(Ol[n].isCSSVariable=!0)}function iN(a,{layout:n,layoutId:o}){return bo.has(a)||a.startsWith("origin")||(n||o!==void 0)&&(!!Ol[a]||a==="opacity")}const f6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h6=go.length;function p6(a,n,o){let i="",c=!0;for(let d=0;d<h6;d++){const u=go[d],f=a[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||o){const h=K1(f,$h[u]);if(!p){c=!1;const b=f6[u]||u;i+=`${b}(${h}) `}o&&(n[u]=h)}}return i=i.trim(),o?i=o(n,c?"":i):c&&(i="none"),i}function Yh(a,n,o){const{style:i,vars:c,transformOrigin:d}=a;let u=!1,f=!1;for(const p in n){const h=n[p];if(bo.has(p)){u=!0;continue}else if(Dh(p)){c[p]=h;continue}else{const b=K1(h,$h[p]);p.startsWith("origin")?(f=!0,d[p]=b):i[p]=b}}if(n.transform||(u||o?i.transform=p6(n,a.transform,o):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:h="50%",originZ:b=0}=d;i.transformOrigin=`${p} ${h} ${b}`}}const Qh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oN(a,n,o){for(const i in n)!Ha(n[i])&&!iN(i,o)&&(a[i]=n[i])}function g6({transformTemplate:a},n){return y.useMemo(()=>{const o=Qh();return Yh(o,n,a),Object.assign({},o.vars,o.style)},[n])}function b6(a,n){const o=a.style||{},i={};return oN(i,o,a),Object.assign(i,g6(a,n)),i}function y6(a,n){const o={},i=b6(a,n);return a.drag&&a.dragListener!==!1&&(o.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(o.tabIndex=0),o.style=i,o}const v6={offset:"stroke-dashoffset",array:"stroke-dasharray"},j6={offset:"strokeDashoffset",array:"strokeDasharray"};function N6(a,n,o=1,i=0,c=!0){a.pathLength=1;const d=c?v6:j6;a[d.offset]=xt.transform(-i);const u=xt.transform(n),f=xt.transform(o);a[d.array]=`${u} ${f}`}function lN(a,{attrX:n,attrY:o,attrScale:i,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...f},p,h,b){if(Yh(a,f,h),p){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:g,style:v}=a;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=b?.transformBox??"fill-box",delete g.transformBox),n!==void 0&&(g.x=n),o!==void 0&&(g.y=o),i!==void 0&&(g.scale=i),c!==void 0&&N6(g,c,d,u,!1)}const cN=()=>({...Qh(),attrs:{}}),dN=a=>typeof a=="string"&&a.toLowerCase()==="svg";function w6(a,n,o,i){const c=y.useMemo(()=>{const d=cN();return lN(d,n,dN(i),a.transformTemplate,a.style),{...d.attrs,style:{...d.style}}},[n]);if(a.style){const d={};oN(d,a.style,a),c.style={...d,...c.style}}return c}const S6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kh(a){return typeof a!="string"||a.includes("-")?!1:!!(S6.indexOf(a)>-1||/[A-Z]/u.test(a))}function C6(a,n,o,{latestValues:i},c,d=!1){const f=(Kh(a)?w6:y6)(n,i,c,a),p=d6(n,typeof a=="string",d),h=a!==y.Fragment?{...p,...f,ref:o}:{},{children:b}=n,g=y.useMemo(()=>Ha(b)?b.get():b,[b]);return y.createElement(a,{...h,children:g})}function qy(a){const n=[{},{}];return a?.values.forEach((o,i)=>{n[0][i]=o.get(),n[1][i]=o.getVelocity()}),n}function Jh(a,n,o,i){if(typeof n=="function"){const[c,d]=qy(i);n=n(o!==void 0?o:a.custom,c,d)}if(typeof n=="string"&&(n=a.variants&&a.variants[n]),typeof n=="function"){const[c,d]=qy(i);n=n(o!==void 0?o:a.custom,c,d)}return n}function Gd(a){return Ha(a)?a.get():a}function A6({scrapeMotionValuesFromProps:a,createRenderState:n},o,i,c){return{latestValues:T6(o,i,c,a),renderState:n()}}function T6(a,n,o,i){const c={},d=i(a,{});for(const v in d)c[v]=Gd(d[v]);let{initial:u,animate:f}=a;const p=vu(a),h=rN(a);n&&h&&!p&&a.inherit!==!1&&(u===void 0&&(u=n.initial),f===void 0&&(f=n.animate));let b=o?o.initial===!1:!1;b=b||u===!1;const g=b?f:u;if(g&&typeof g!="boolean"&&!yu(g)){const v=Array.isArray(g)?g:[g];for(let A=0;A<v.length;A++){const w=Jh(a,v[A]);if(w){const{transitionEnd:S,transition:N,...M}=w;for(const _ in M){let O=M[_];if(Array.isArray(O)){const D=b?O.length-1:0;O=O[D]}O!==null&&(c[_]=O)}for(const _ in S)c[_]=S[_]}}}return c}const uN=a=>(n,o)=>{const i=y.useContext(bu),c=y.useContext(pu),d=()=>A6(a,n,i,c);return o?d():ci(d)};function Zh(a,n,o){const{style:i}=a,c={};for(const d in i)(Ha(i[d])||n.style&&Ha(n.style[d])||iN(d,a)||o?.getValue(d)?.liveStyle!==void 0)&&(c[d]=i[d]);return c}const E6=uN({scrapeMotionValuesFromProps:Zh,createRenderState:Qh});function mN(a,n,o){const i=Zh(a,n,o);for(const c in a)if(Ha(a[c])||Ha(n[c])){const d=go.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;i[d]=a[c]}return i}const R6=uN({scrapeMotionValuesFromProps:mN,createRenderState:cN}),M6=Symbol.for("motionComponentSymbol");function to(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function P6(a,n,o){return y.useCallback(i=>{i&&a.onMount&&a.onMount(i),n&&(i?n.mount(i):n.unmount()),o&&(typeof o=="function"?o(i):to(o)&&(o.current=i))},[n])}const Wh=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D6="framerAppearId",xN="data-"+Wh(D6),fN=y.createContext({});function k6(a,n,o,i,c){const{visualElement:d}=y.useContext(bu),u=y.useContext(sN),f=y.useContext(pu),p=y.useContext(gu).reducedMotion,h=y.useRef(null);i=i||u.renderer,!h.current&&i&&(h.current=i(a,{visualState:n,parent:d,props:o,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const b=h.current,g=y.useContext(fN);b&&!b.projection&&c&&(b.type==="html"||b.type==="svg")&&_6(h.current,o,c,g);const v=y.useRef(!1);y.useInsertionEffect(()=>{b&&v.current&&b.update(o,f)});const A=o[xN],w=y.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return Sh(()=>{b&&(v.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),w.current&&b.animationState&&b.animationState.animateChanges())}),y.useEffect(()=>{b&&(!w.current&&b.animationState&&b.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),w.current=!1),b.enteringChildren=void 0)}),b}function _6(a,n,o,i){const{layoutId:c,layout:d,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:h,layoutCrossfade:b}=n;a.projection=new o(a.latestValues,n["data-framer-portal-id"]?void 0:hN(a.parent)),a.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||f&&to(f),visualElement:a,animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,crossfade:b,layoutScroll:p,layoutRoot:h})}function hN(a){if(a)return a.options.allowProjection!==!1?a.projection:hN(a.parent)}function Yx(a,{forwardMotionProps:n=!1}={},o,i){o&&o6(o);const c=Kh(a)?R6:E6;function d(f,p){let h;const b={...y.useContext(gu),...f,layoutId:z6(f)},{isStatic:g}=b,v=m6(f),A=c(f,g);if(!g&&wh){O6();const w=B6(b);h=w.MeasureLayout,v.visualElement=k6(a,A,b,i,w.ProjectionNode)}return e.jsxs(bu.Provider,{value:v,children:[h&&v.visualElement?e.jsx(h,{visualElement:v.visualElement,...b}):null,C6(a,f,P6(A,v.visualElement,p),A,g,n)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=y.forwardRef(d);return u[M6]=a,u}function z6({layoutId:a}){const n=y.useContext(Nh).id;return n&&a!==void 0?n+"-"+a:a}function O6(a,n){y.useContext(sN).strict}function B6(a){const{drag:n,layout:o}=oo;if(!n&&!o)return{};const i={...n,...o};return{MeasureLayout:n?.isEnabled(a)||o?.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function L6(a,n){if(typeof Proxy>"u")return Yx;const o=new Map,i=(d,u)=>Yx(d,u,a,n),c=(d,u)=>i(d,u);return new Proxy(c,{get:(d,u)=>u==="create"?i:(o.has(u)||o.set(u,Yx(u,void 0,a,n)),o.get(u))})}function pN({top:a,left:n,right:o,bottom:i}){return{x:{min:n,max:o},y:{min:a,max:i}}}function I6({x:a,y:n}){return{top:n.min,right:a.max,bottom:n.max,left:a.min}}function V6(a,n){if(!n)return a;const o=n({x:a.left,y:a.top}),i=n({x:a.right,y:a.bottom});return{top:o.y,left:o.x,bottom:i.y,right:i.x}}function Qx(a){return a===void 0||a===1}function Kf({scale:a,scaleX:n,scaleY:o}){return!Qx(a)||!Qx(n)||!Qx(o)}function Yr(a){return Kf(a)||gN(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function gN(a){return $y(a.x)||$y(a.y)}function $y(a){return a&&a!=="0%"}function tu(a,n,o){const i=a-o,c=n*i;return o+c}function Fy(a,n,o,i,c){return c!==void 0&&(a=tu(a,c,i)),tu(a,o,i)+n}function Jf(a,n=0,o=1,i,c){a.min=Fy(a.min,n,o,i,c),a.max=Fy(a.max,n,o,i,c)}function bN(a,{x:n,y:o}){Jf(a.x,n.translate,n.scale,n.originPoint),Jf(a.y,o.translate,o.scale,o.originPoint)}const Hy=.999999999999,Gy=1.0000000000001;function U6(a,n,o,i=!1){const c=o.length;if(!c)return;n.x=n.y=1;let d,u;for(let f=0;f<c;f++){d=o[f],u=d.projectionDelta;const{visualElement:p}=d.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&d.options.layoutScroll&&d.scroll&&d!==d.root&&so(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,bN(a,u)),i&&Yr(d.latestValues)&&so(a,d.latestValues))}n.x<Gy&&n.x>Hy&&(n.x=1),n.y<Gy&&n.y>Hy&&(n.y=1)}function ao(a,n){a.min=a.min+n,a.max=a.max+n}function Xy(a,n,o,i,c=.5){const d=oa(a.min,a.max,c);Jf(a,n,o,d,i)}function so(a,n){Xy(a.x,n.x,n.scaleX,n.scale,n.originX),Xy(a.y,n.y,n.scaleY,n.scale,n.originY)}function yN(a,n){return pN(V6(a.getBoundingClientRect(),n))}function q6(a,n,o){const i=yN(a,o),{scroll:c}=n;return c&&(ao(i.x,c.offset.x),ao(i.y,c.offset.y)),i}const Yy=()=>({translate:0,scale:1,origin:0,originPoint:0}),no=()=>({x:Yy(),y:Yy()}),Qy=()=>({min:0,max:0}),Pa=()=>({x:Qy(),y:Qy()}),Zf={current:null},vN={current:!1};function $6(){if(vN.current=!0,!!wh)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),n=()=>Zf.current=a.matches;a.addEventListener("change",n),n()}else Zf.current=!1}const F6=new WeakMap;function H6(a,n,o){for(const i in n){const c=n[i],d=o[i];if(Ha(c))a.addValue(i,c);else if(Ha(d))a.addValue(i,ii(c,{owner:a}));else if(d!==c)if(a.hasValue(i)){const u=a.getValue(i);u.liveStyle===!0?u.jump(c):u.hasAnimated||u.set(c)}else{const u=a.getStaticValue(i);a.addValue(i,ii(u!==void 0?u:c,{owner:a}))}}for(const i in o)n[i]===void 0&&a.removeValue(i);return n}const Ky=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G6{scrapeMotionValuesFromProps(n,o,i){return{}}constructor({parent:n,props:o,presenceContext:i,reducedMotionConfig:c,blockInitialAnimation:d,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ds.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,sa.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=o.initial?{...p}:{},this.renderState=h,this.parent=n,this.props=o,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=c,this.options=f,this.blockInitialAnimation=!!d,this.isControllingVariants=vu(o),this.isVariantNode=rN(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:b,...g}=this.scrapeMotionValuesFromProps(o,{},this);for(const v in g){const A=g[v];p[v]!==void 0&&Ha(A)&&A.set(p[v])}}mount(n){this.current=n,F6.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),vN.current||$6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qn(this.notifyUpdate),qn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const o=this.features[n];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,o){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=bo.has(n);i&&this.onBindTransform&&this.onBindTransform();const c=o.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&sa.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,o)),this.valueSubscriptions.set(n,()=>{c(),d&&d(),o.owner&&o.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in oo){const o=oo[n];if(!o)continue;const{isEnabled:i,Feature:c}=o;if(!this.features[n]&&c&&i(this.props)&&(this.features[n]=new c(this)),this.features[n]){const d=this.features[n];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pa()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,o){this.latestValues[n]=o}update(n,o){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let i=0;i<Ky.length;i++){const c=Ky[i];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,u=n[d];u&&(this.propEventSubscriptions[c]=this.on(c,u))}this.prevMotionValues=H6(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(n),()=>o.variantChildren.delete(n)}addValue(n,o){const i=this.values.get(n);o!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,o),this.values.set(n,o),this.latestValues[n]=o.get())}removeValue(n){this.values.delete(n);const o=this.valueSubscriptions.get(n);o&&(o(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,o){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&o!==void 0&&(i=ii(o===null?void 0:o,{owner:this}),this.addValue(n,i)),i}readValue(n,o){let i=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return i!=null&&(typeof i=="string"&&(u1(i)||x1(i))?i=parseFloat(i):!e6(i)&&Sr.test(o)&&(i=Q1(n,o)),this.setBaseTarget(n,Ha(i)?i.get():i)),Ha(i)?i.get():i}setBaseTarget(n,o){this.baseTarget[n]=o}getBaseTarget(n){const{initial:o}=this.props;let i;if(typeof o=="string"||typeof o=="object"){const d=Jh(this.props,o,this.presenceContext?.custom);d&&(i=d[n])}if(o&&i!==void 0)return i;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!Ha(c)?c:this.initialValues[n]!==void 0&&i===void 0?void 0:this.baseTarget[n]}on(n,o){return this.events[n]||(this.events[n]=new Rh),this.events[n].add(o)}notify(n,...o){this.events[n]&&this.events[n].notify(...o)}scheduleRenderMicrotask(){Fh.render(this.render)}}class jN extends G6{constructor(){super(...arguments),this.KeyframeResolver=UA}sortInstanceNodePosition(n,o){return n.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(n,o){return n.style?n.style[o]:void 0}removeValueFromRenderState(n,{vars:o,style:i}){delete o[n],delete i[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Ha(n)&&(this.childSubscription=n.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function NN(a,{style:n,vars:o},i,c){const d=a.style;let u;for(u in n)d[u]=n[u];c?.applyProjectionStyles(d,i);for(u in o)d.setProperty(u,o[u])}function X6(a){return window.getComputedStyle(a)}class Y6 extends jN{constructor(){super(...arguments),this.type="html",this.renderInstance=NN}readValueFromInstance(n,o){if(bo.has(o))return this.projection?.isProjecting?$f(o):iA(n,o);{const i=X6(n),c=(Dh(o)?i.getPropertyValue(o):i[o])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:o}){return yN(n,o)}build(n,o,i){Yh(n,o,i.transformTemplate)}scrapeMotionValuesFromProps(n,o,i){return Zh(n,o,i)}}const wN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q6(a,n,o,i){NN(a,n,void 0,i);for(const c in n.attrs)a.setAttribute(wN.has(c)?c:Wh(c),n.attrs[c])}class K6 extends jN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pa}getBaseTargetFromProps(n,o){return n[o]}readValueFromInstance(n,o){if(bo.has(o)){const i=Y1(o);return i&&i.default||0}return o=wN.has(o)?o:Wh(o),n.getAttribute(o)}scrapeMotionValuesFromProps(n,o,i){return mN(n,o,i)}build(n,o,i){lN(n,o,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(n,o,i,c){Q6(n,o,i,c)}mount(n){this.isSVGTag=dN(n.tagName),super.mount(n)}}const J6=(a,n)=>Kh(a)?new K6(n):new Y6(n,{allowProjection:a!==y.Fragment});function ro(a,n,o){const i=a.getProps();return Jh(i,n,o!==void 0?o:i.custom,a)}const Wf=a=>Array.isArray(a);function Z6(a,n,o){a.hasValue(n)?a.getValue(n).set(o):a.addValue(n,ii(o))}function W6(a){return Wf(a)?a[a.length-1]||0:a}function eT(a,n){const o=ro(a,n);let{transitionEnd:i={},transition:c={},...d}=o||{};d={...d,...i};for(const u in d){const f=W6(d[u]);Z6(a,u,f)}}function tT(a){return!!(Ha(a)&&a.add)}function eh(a,n){const o=a.getValue("willChange");if(tT(o))return o.add(n);if(!o&&Un.WillChange){const i=new Un.WillChange("auto");a.addValue("willChange",i),i.add(n)}}function SN(a){return a.props[xN]}const aT=a=>a!==null;function sT(a,{repeat:n,repeatType:o="loop"},i){const c=a.filter(aT),d=n&&o!=="loop"&&n%2===1?0:c.length-1;return c[d]}const nT={type:"spring",stiffness:500,damping:25,restSpeed:10},rT=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),iT={type:"keyframes",duration:.8},oT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lT=(a,{keyframes:n})=>n.length>2?iT:bo.has(a)?a.startsWith("scale")?rT(n[1]):nT:oT;function cT({when:a,delay:n,delayChildren:o,staggerChildren:i,staggerDirection:c,repeat:d,repeatType:u,repeatDelay:f,from:p,elapsed:h,...b}){return!!Object.keys(b).length}const ep=(a,n,o,i={},c,d)=>u=>{const f=qh(i,a)||{},p=f.delay||i.delay||0;let{elapsed:h=0}=i;h=h-xn(p);const b={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:n.getVelocity(),...f,delay:-h,onUpdate:v=>{n.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:a,motionValue:n,element:d?void 0:c};cT(f)||Object.assign(b,lT(a,b)),b.duration&&(b.duration=xn(b.duration)),b.repeatDelay&&(b.repeatDelay=xn(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let g=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(Yf(b),b.delay===0&&(g=!0)),(Un.instantAnimations||Un.skipAnimations)&&(g=!0,Yf(b),b.delay=0),b.allowFlatten=!f.type&&!f.ease,g&&!d&&n.get()!==void 0){const v=sT(b.keyframes,f);if(v!==void 0){sa.update(()=>{b.onUpdate(v),b.onComplete()});return}}return f.isSync?new Vh(b):new RA(b)};function dT({protectedKeys:a,needsAnimating:n},o){const i=a.hasOwnProperty(o)&&n[o]!==!0;return n[o]=!1,i}function CN(a,n,{delay:o=0,transitionOverride:i,type:c}={}){let{transition:d=a.getDefaultTransition(),transitionEnd:u,...f}=n;i&&(d=i);const p=[],h=c&&a.animationState&&a.animationState.getState()[c];for(const b in f){const g=a.getValue(b,a.latestValues[b]??null),v=f[b];if(v===void 0||h&&dT(h,b))continue;const A={delay:o,...qh(d||{},b)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===w&&!A.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const M=SN(a);if(M){const _=window.MotionHandoffAnimation(M,b,sa);_!==null&&(A.startTime=_,S=!0)}}eh(a,b),g.start(ep(b,g,v,a.shouldReduceMotion&&H1.has(b)?{type:!1}:A,a,S));const N=g.animation;N&&p.push(N)}return u&&Promise.all(p).then(()=>{sa.update(()=>{u&&eT(a,u)})}),p}function AN(a,n,o,i=0,c=1){const d=Array.from(a).sort((h,b)=>h.sortNodePosition(b)).indexOf(n),u=a.size,f=(u-1)*i;return typeof o=="function"?o(d,u):c===1?d*i:f-d*i}function th(a,n,o={}){const i=ro(a,n,o.type==="exit"?a.presenceContext?.custom:void 0);let{transition:c=a.getDefaultTransition()||{}}=i||{};o.transitionOverride&&(c=o.transitionOverride);const d=i?()=>Promise.all(CN(a,i,o)):()=>Promise.resolve(),u=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:h=0,staggerChildren:b,staggerDirection:g}=c;return uT(a,n,p,h,b,g,o)}:()=>Promise.resolve(),{when:f}=c;if(f){const[p,h]=f==="beforeChildren"?[d,u]:[u,d];return p().then(()=>h())}else return Promise.all([d(),u(o.delay)])}function uT(a,n,o=0,i=0,c=0,d=1,u){const f=[];for(const p of a.variantChildren)p.notify("AnimationStart",n),f.push(th(p,n,{...u,delay:o+(typeof i=="function"?0:i)+AN(a.variantChildren,p,i,c,d)}).then(()=>p.notify("AnimationComplete",n)));return Promise.all(f)}function mT(a,n,o={}){a.notify("AnimationStart",n);let i;if(Array.isArray(n)){const c=n.map(d=>th(a,d,o));i=Promise.all(c)}else if(typeof n=="string")i=th(a,n,o);else{const c=typeof n=="function"?ro(a,n,o.custom):n;i=Promise.all(CN(a,c,o))}return i.then(()=>{a.notify("AnimationComplete",n)})}function TN(a,n){if(!Array.isArray(n))return!1;const o=n.length;if(o!==a.length)return!1;for(let i=0;i<o;i++)if(n[i]!==a[i])return!1;return!0}const xT=Xh.length;function EN(a){if(!a)return;if(!a.isControllingVariants){const o=a.parent?EN(a.parent)||{}:{};return a.props.initial!==void 0&&(o.initial=a.props.initial),o}const n={};for(let o=0;o<xT;o++){const i=Xh[o],c=a.props[i];(zl(c)||c===!1)&&(n[i]=c)}return n}const fT=[...Gh].reverse(),hT=Gh.length;function pT(a){return n=>Promise.all(n.map(({animation:o,options:i})=>mT(a,o,i)))}function gT(a){let n=pT(a),o=Jy(),i=!0;const c=p=>(h,b)=>{const g=ro(a,b,p==="exit"?a.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:A,...w}=g;h={...h,...w,...A}}return h};function d(p){n=p(a)}function u(p){const{props:h}=a,b=EN(a.parent)||{},g=[],v=new Set;let A={},w=1/0;for(let N=0;N<hT;N++){const M=fT[N],_=o[M],O=h[M]!==void 0?h[M]:b[M],D=zl(O),k=M===p?_.isActive:null;k===!1&&(w=N);let E=O===b[M]&&O!==h[M]&&D;if(E&&i&&a.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...A},!_.isActive&&k===null||!O&&!_.prevProp||yu(O)||typeof O=="boolean")continue;const B=bT(_.prevProp,O);let q=B||M===p&&_.isActive&&!E&&D||N>w&&D,Q=!1;const se=Array.isArray(O)?O:[O];let J=se.reduce(c(M),{});k===!1&&(J={});const{prevResolvedValues:I={}}=_,te={...I,...J},ie=ee=>{q=!0,v.has(ee)&&(Q=!0,v.delete(ee)),_.needsAnimating[ee]=!0;const Z=a.getValue(ee);Z&&(Z.liveStyle=!1)};for(const ee in te){const Z=J[ee],oe=I[ee];if(A.hasOwnProperty(ee))continue;let ce=!1;Wf(Z)&&Wf(oe)?ce=!TN(Z,oe):ce=Z!==oe,ce?Z!=null?ie(ee):v.add(ee):Z!==void 0&&v.has(ee)?ie(ee):_.protectedKeys[ee]=!0}_.prevProp=O,_.prevResolvedValues=J,_.isActive&&(A={...A,...J}),i&&a.blockInitialAnimation&&(q=!1);const de=E&&B;q&&(!de||Q)&&g.push(...se.map(ee=>{const Z={type:M};if(typeof ee=="string"&&i&&!de&&a.manuallyAnimateOnMount&&a.parent){const{parent:oe}=a,ce=ro(oe,ee);if(oe.enteringChildren&&ce){const{delayChildren:P}=ce.transition||{};Z.delay=AN(oe.enteringChildren,a,P)}}return{animation:ee,options:Z}}))}if(v.size){const N={};if(typeof h.initial!="boolean"){const M=ro(a,Array.isArray(h.initial)?h.initial[0]:h.initial);M&&M.transition&&(N.transition=M.transition)}v.forEach(M=>{const _=a.getBaseTarget(M),O=a.getValue(M);O&&(O.liveStyle=!0),N[M]=_??null}),g.push({animation:N})}let S=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!a.manuallyAnimateOnMount&&(S=!1),i=!1,S?n(g):Promise.resolve()}function f(p,h){if(o[p].isActive===h)return Promise.resolve();a.variantChildren?.forEach(g=>g.animationState?.setActive(p,h)),o[p].isActive=h;const b=u(p);for(const g in o)o[g].protectedKeys={};return b}return{animateChanges:u,setActive:f,setAnimateFunction:d,getState:()=>o,reset:()=>{o=Jy()}}}function bT(a,n){return typeof n=="string"?n!==a:Array.isArray(n)?!TN(n,a):!1}function Fr(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jy(){return{animate:Fr(!0),whileInView:Fr(),whileHover:Fr(),whileTap:Fr(),whileDrag:Fr(),whileFocus:Fr(),exit:Fr()}}class Cr{constructor(n){this.isMounted=!1,this.node=n}update(){}}class yT extends Cr{constructor(n){super(n),n.animationState||(n.animationState=gT(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();yu(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:o}=this.node.prevProps||{};n!==o&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let vT=0;class jT extends Cr{constructor(){super(...arguments),this.id=vT++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:o}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const c=this.node.animationState.setActive("exit",!n);o&&!n&&c.then(()=>{o(this.id)})}mount(){const{register:n,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const NT={animation:{Feature:yT},exit:{Feature:jT}};function Bl(a,n,o,i={passive:!0}){return a.addEventListener(n,o,i),()=>a.removeEventListener(n,o)}function Zl(a){return{point:{x:a.pageX,y:a.pageY}}}const wT=a=>n=>Hh(n)&&a(n,Zl(n));function Tl(a,n,o,i){return Bl(a,n,wT(o),i)}const RN=1e-4,ST=1-RN,CT=1+RN,MN=.01,AT=0-MN,TT=0+MN;function Za(a){return a.max-a.min}function ET(a,n,o){return Math.abs(a-n)<=o}function Zy(a,n,o,i=.5){a.origin=i,a.originPoint=oa(n.min,n.max,a.origin),a.scale=Za(o)/Za(n),a.translate=oa(o.min,o.max,a.origin)-a.originPoint,(a.scale>=ST&&a.scale<=CT||isNaN(a.scale))&&(a.scale=1),(a.translate>=AT&&a.translate<=TT||isNaN(a.translate))&&(a.translate=0)}function El(a,n,o,i){Zy(a.x,n.x,o.x,i?i.originX:void 0),Zy(a.y,n.y,o.y,i?i.originY:void 0)}function Wy(a,n,o){a.min=o.min+n.min,a.max=a.min+Za(n)}function RT(a,n,o){Wy(a.x,n.x,o.x),Wy(a.y,n.y,o.y)}function ev(a,n,o){a.min=n.min-o.min,a.max=a.min+Za(n)}function au(a,n,o){ev(a.x,n.x,o.x),ev(a.y,n.y,o.y)}function zs(a){return[a("x"),a("y")]}const PN=({current:a})=>a?a.ownerDocument.defaultView:null,tv=(a,n)=>Math.abs(a-n);function MT(a,n){const o=tv(a.x,n.x),i=tv(a.y,n.y);return Math.sqrt(o**2+i**2)}class DN{constructor(n,o,{transformPagePoint:i,contextWindow:c=window,dragSnapToOrigin:d=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Jx(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,w=MT(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!w)return;const{point:S}=v,{timestamp:N}=$a;this.history.push({...S,timestamp:N});const{onStart:M,onMove:_}=this.handlers;A||(M&&M(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,v)},this.handlePointerMove=(v,A)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Kx(A,this.transformPagePoint),sa.update(this.updatePoint,!0)},this.handlePointerUp=(v,A)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Jx(v.type==="pointercancel"?this.lastMoveEventInfo:Kx(A,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,M),S&&S(v,M)},!Hh(n))return;this.dragSnapToOrigin=d,this.handlers=o,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=c||window;const f=Zl(n),p=Kx(f,this.transformPagePoint),{point:h}=p,{timestamp:b}=$a;this.history=[{...h,timestamp:b}];const{onSessionStart:g}=o;g&&g(n,Jx(p,this.history)),this.removeListeners=Yl(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),qn(this.updatePoint)}}function Kx(a,n){return n?{point:n(a.point)}:a}function av(a,n){return{x:a.x-n.x,y:a.y-n.y}}function Jx({point:a},n){return{point:a,delta:av(a,kN(n)),offset:av(a,PT(n)),velocity:DT(n,.1)}}function PT(a){return a[0]}function kN(a){return a[a.length-1]}function DT(a,n){if(a.length<2)return{x:0,y:0};let o=a.length-1,i=null;const c=kN(a);for(;o>=0&&(i=a[o],!(c.timestamp-i.timestamp>xn(n)));)o--;if(!i)return{x:0,y:0};const d=Ls(c.timestamp-i.timestamp);if(d===0)return{x:0,y:0};const u={x:(c.x-i.x)/d,y:(c.y-i.y)/d};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function kT(a,{min:n,max:o},i){return n!==void 0&&a<n?a=i?oa(n,a,i.min):Math.max(a,n):o!==void 0&&a>o&&(a=i?oa(o,a,i.max):Math.min(a,o)),a}function sv(a,n,o){return{min:n!==void 0?a.min+n:void 0,max:o!==void 0?a.max+o-(a.max-a.min):void 0}}function _T(a,{top:n,left:o,bottom:i,right:c}){return{x:sv(a.x,o,c),y:sv(a.y,n,i)}}function nv(a,n){let o=n.min-a.min,i=n.max-a.max;return n.max-n.min<a.max-a.min&&([o,i]=[i,o]),{min:o,max:i}}function zT(a,n){return{x:nv(a.x,n.x),y:nv(a.y,n.y)}}function OT(a,n){let o=.5;const i=Za(a),c=Za(n);return c>i?o=Dl(n.min,n.max-i,a.min):i>c&&(o=Dl(a.min,a.max-c,n.min)),Vn(0,1,o)}function BT(a,n){const o={};return n.min!==void 0&&(o.min=n.min-a.min),n.max!==void 0&&(o.max=n.max-a.min),o}const ah=.35;function LT(a=ah){return a===!1?a=0:a===!0&&(a=ah),{x:rv(a,"left","right"),y:rv(a,"top","bottom")}}function rv(a,n,o){return{min:iv(a,n),max:iv(a,o)}}function iv(a,n){return typeof a=="number"?a:a[n]||0}const IT=new WeakMap;class VT{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:o=!1,distanceThreshold:i}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const d=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(Zl(g).point)},u=(g,v)=>{const{drag:A,dragPropagation:w,onDragStart:S}=this.getProps();if(A&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HA(A),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zs(M=>{let _=this.getAxisMotionValue(M).get()||0;if(fn.test(_)){const{projection:O}=this.visualElement;if(O&&O.layout){const D=O.layout.layoutBox[M];D&&(_=Za(D)*(parseFloat(_)/100))}}this.originPoint[M]=_}),S&&sa.postRender(()=>S(g,v)),eh(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:A,dragDirectionLock:w,onDirectionLock:S,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:M}=v;if(w&&this.currentDirection===null){this.currentDirection=UT(M),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),N&&N(g,v)},p=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>zs(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new DN(n,{onSessionStart:d,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:i,contextWindow:PN(this.visualElement)})}stop(n,o){const i=n||this.latestPointerEvent,c=o||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!c||!i)return;const{velocity:u}=c;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&sa.postRender(()=>f(i,c))}cancel(){this.isDragging=!1;const{projection:n,animationState:o}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(n,o,i){const{drag:c}=this.getProps();if(!i||!vd(n,c,this.currentDirection))return;const d=this.getAxisMotionValue(n);let u=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(u=kT(u,this.constraints[n],this.elastic[n])),d.set(u)}resolveConstraints(){const{dragConstraints:n,dragElastic:o}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;n&&to(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_T(i.layoutBox,n):this.constraints=!1,this.elastic=LT(o),c!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zs(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=BT(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:o}=this.getProps();if(!n||!to(n))return!1;const i=n.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=q6(i,c.root,this.visualElement.getTransformPagePoint());let u=zT(c.layout.layoutBox,d);if(o){const f=o(I6(u));this.hasMutatedConstraints=!!f,f&&(u=pN(f))}return u}startAnimation(n){const{drag:o,dragMomentum:i,dragElastic:c,dragTransition:d,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},h=zs(b=>{if(!vd(b,o,this.currentDirection))return;let g=p&&p[b]||{};u&&(g={min:0,max:0});const v=c?200:1e6,A=c?40:1e7,w={type:"inertia",velocity:i?n[b]:0,bounceStiffness:v,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...d,...g};return this.startAxisValueAnimation(b,w)});return Promise.all(h).then(f)}startAxisValueAnimation(n,o){const i=this.getAxisMotionValue(n);return eh(this.visualElement,n),i.start(ep(n,i,0,o,this.visualElement,!1))}stopAnimation(){zs(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){zs(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const o=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),c=i[o];return c||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){zs(o=>{const{drag:i}=this.getProps();if(!vd(o,i,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(o);if(c&&c.layout){const{min:u,max:f}=c.layout.layoutBox[o];d.set(n[o]-oa(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:o}=this.getProps(),{projection:i}=this.visualElement;if(!to(o)||!i||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};zs(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();c[u]=OT({min:p,max:p},this.constraints[u])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),zs(u=>{if(!vd(u,n,null))return;const f=this.getAxisMotionValue(u),{min:p,max:h}=this.constraints[u];f.set(oa(p,h,c[u]))})}addListeners(){if(!this.visualElement.current)return;IT.set(this.visualElement,this);const n=this.visualElement.current,o=Tl(n,"pointerdown",p=>{const{drag:h,dragListener:b=!0}=this.getProps();h&&b&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();to(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",i);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),sa.read(i);const u=Bl(window,"resize",()=>this.scalePositionWithinConstraints()),f=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(zs(b=>{const g=this.getAxisMotionValue(b);g&&(this.originPoint[b]+=p[b].translate,g.set(g.get()+p[b].translate))}),this.visualElement.render())}));return()=>{u(),o(),d(),f&&f()}}getProps(){const n=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:i=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:u=ah,dragMomentum:f=!0}=n;return{...n,drag:o,dragDirectionLock:i,dragPropagation:c,dragConstraints:d,dragElastic:u,dragMomentum:f}}}function vd(a,n,o){return(n===!0||n===a)&&(o===null||o===a)}function UT(a,n=10){let o=null;return Math.abs(a.y)>n?o="y":Math.abs(a.x)>n&&(o="x"),o}class qT extends Cr{constructor(n){super(n),this.removeGroupControls=Is,this.removeListeners=Is,this.controls=new VT(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Is}unmount(){this.removeGroupControls(),this.removeListeners()}}const ov=a=>(n,o)=>{a&&sa.postRender(()=>a(n,o))};class $T extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Is}onPointerDown(n){this.session=new DN(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PN(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:o,onPan:i,onPanEnd:c}=this.node.getProps();return{onSessionStart:ov(n),onStart:ov(o),onMove:i,onEnd:(d,u)=>{delete this.session,c&&sa.postRender(()=>c(d,u))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lv(a,n){return n.max===n.min?0:a/(n.max-n.min)*100}const pl={correct:(a,n)=>{if(!n.target)return a;if(typeof a=="string")if(xt.test(a))a=parseFloat(a);else return a;const o=lv(a,n.target.x),i=lv(a,n.target.y);return`${o}% ${i}%`}},FT={correct:(a,{treeScale:n,projectionDelta:o})=>{const i=a,c=Sr.parse(a);if(c.length>5)return i;const d=Sr.createTransformer(a),u=typeof c[0]!="number"?1:0,f=o.x.scale*n.x,p=o.y.scale*n.y;c[0+u]/=f,c[1+u]/=p;const h=oa(f,p,.5);return typeof c[2+u]=="number"&&(c[2+u]/=h),typeof c[3+u]=="number"&&(c[3+u]/=h),d(c)}};let Zx=!1;class HT extends y.Component{componentDidMount(){const{visualElement:n,layoutGroup:o,switchLayoutGroup:i,layoutId:c}=this.props,{projection:d}=n;x6(GT),d&&(o.group&&o.group.add(d),i&&i.register&&c&&i.register(d),Zx&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:o,visualElement:i,drag:c,isPresent:d}=this.props,{projection:u}=i;return u&&(u.isPresent=d,Zx=!0,c||n.layoutDependency!==o||o===void 0||n.isPresent!==d?u.willUpdate():this.safeToRemove(),n.isPresent!==d&&(d?u.promote():u.relegate()||sa.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),Fh.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:o,switchLayoutGroup:i}=this.props,{projection:c}=n;Zx=!0,c&&(c.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(c),i&&i.deregister&&i.deregister(c))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function _N(a){const[n,o]=aN(),i=y.useContext(Nh);return e.jsx(HT,{...a,layoutGroup:i,switchLayoutGroup:y.useContext(fN),isPresent:n,safeToRemove:o})}const GT={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:FT};function XT(a,n,o){const i=Ha(a)?a:ii(a);return i.start(ep("",i,n,o)),i.animation}const YT=(a,n)=>a.depth-n.depth;class QT{constructor(){this.children=[],this.isDirty=!1}add(n){Ch(this.children,n),this.isDirty=!0}remove(n){Ah(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(YT),this.isDirty=!1,this.children.forEach(n)}}function KT(a,n){const o=ds.now(),i=({timestamp:c})=>{const d=c-o;d>=n&&(qn(i),a(d-n))};return sa.setup(i,!0),()=>qn(i)}const zN=["TopLeft","TopRight","BottomLeft","BottomRight"],JT=zN.length,cv=a=>typeof a=="string"?parseFloat(a):a,dv=a=>typeof a=="number"||xt.test(a);function ZT(a,n,o,i,c,d){c?(a.opacity=oa(0,o.opacity??1,WT(i)),a.opacityExit=oa(n.opacity??1,0,eE(i))):d&&(a.opacity=oa(n.opacity??1,o.opacity??1,i));for(let u=0;u<JT;u++){const f=`border${zN[u]}Radius`;let p=uv(n,f),h=uv(o,f);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||dv(p)===dv(h)?(a[f]=Math.max(oa(cv(p),cv(h),i),0),(fn.test(h)||fn.test(p))&&(a[f]+="%")):a[f]=h}(n.rotate||o.rotate)&&(a.rotate=oa(n.rotate||0,o.rotate||0,i))}function uv(a,n){return a[n]!==void 0?a[n]:a.borderRadius}const WT=ON(0,.5,j1),eE=ON(.5,.95,Is);function ON(a,n,o){return i=>i<a?0:i>n?1:o(Dl(a,n,i))}function mv(a,n){a.min=n.min,a.max=n.max}function Ks(a,n){mv(a.x,n.x),mv(a.y,n.y)}function xv(a,n){a.translate=n.translate,a.scale=n.scale,a.originPoint=n.originPoint,a.origin=n.origin}function fv(a,n,o,i,c){return a-=n,a=tu(a,1/o,i),c!==void 0&&(a=tu(a,1/c,i)),a}function tE(a,n=0,o=1,i=.5,c,d=a,u=a){if(fn.test(n)&&(n=parseFloat(n),n=oa(u.min,u.max,n/100)-u.min),typeof n!="number")return;let f=oa(d.min,d.max,i);a===d&&(f-=n),a.min=fv(a.min,n,o,f,c),a.max=fv(a.max,n,o,f,c)}function hv(a,n,[o,i,c],d,u){tE(a,n[o],n[i],n[c],n.scale,d,u)}const aE=["x","scaleX","originX"],sE=["y","scaleY","originY"];function pv(a,n,o,i){hv(a.x,n,aE,o?o.x:void 0,i?i.x:void 0),hv(a.y,n,sE,o?o.y:void 0,i?i.y:void 0)}function gv(a){return a.translate===0&&a.scale===1}function BN(a){return gv(a.x)&&gv(a.y)}function bv(a,n){return a.min===n.min&&a.max===n.max}function nE(a,n){return bv(a.x,n.x)&&bv(a.y,n.y)}function yv(a,n){return Math.round(a.min)===Math.round(n.min)&&Math.round(a.max)===Math.round(n.max)}function LN(a,n){return yv(a.x,n.x)&&yv(a.y,n.y)}function vv(a){return Za(a.x)/Za(a.y)}function jv(a,n){return a.translate===n.translate&&a.scale===n.scale&&a.originPoint===n.originPoint}class rE{constructor(){this.members=[]}add(n){Ch(this.members,n),n.scheduleRender()}remove(n){if(Ah(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(n){const o=this.members.findIndex(c=>n===c);if(o===0)return!1;let i;for(let c=o;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){i=d;break}}return i?(this.promote(i),!0):!1}promote(n,o){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,o&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:c}=n.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:o,resumingFrom:i}=n;o.onExitComplete&&o.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iE(a,n,o){let i="";const c=a.x.translate/n.x,d=a.y.translate/n.y,u=o?.z||0;if((c||d||u)&&(i=`translate3d(${c}px, ${d}px, ${u}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),o){const{transformPerspective:h,rotate:b,rotateX:g,rotateY:v,skewX:A,skewY:w}=o;h&&(i=`perspective(${h}px) ${i}`),b&&(i+=`rotate(${b}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),A&&(i+=`skewX(${A}deg) `),w&&(i+=`skewY(${w}deg) `)}const f=a.x.scale*n.x,p=a.y.scale*n.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const Wx=["","X","Y","Z"],oE=1e3;let lE=0;function ef(a,n,o,i){const{latestValues:c}=n;c[a]&&(o[a]=c[a],n.setStaticValue(a,0),i&&(i[a]=0))}function IN(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:n}=a.options;if(!n)return;const o=SN(n);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:c,layoutId:d}=a.options;window.MotionCancelOptimisedAnimation(o,"transform",sa,!(c||d))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&IN(i)}function VN({attachResizeListener:a,defaultParent:n,measureScroll:o,checkIsScrollRoot:i,resetTransform:c}){return class{constructor(u={},f=n?.()){this.id=lE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uE),this.nodes.forEach(hE),this.nodes.forEach(pE),this.nodes.forEach(mE)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new QT)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Rh),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tN(u)&&!JA(u),this.instance=u;const{layoutId:f,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),a){let b,g=0;const v=()=>this.root.updateBlockedByResize=!1;sa.read(()=>{g=window.innerWidth}),a(u,()=>{const A=window.innerWidth;A!==g&&(g=A,this.root.updateBlockedByResize=!0,b&&b(),b=KT(v,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(Sv)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&h&&(f||p)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||jE,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=h.getProps(),M=!this.targetLayout||!LN(this.targetLayout,A),_=!g&&v;if(this.options.layoutRoot||this.resumeFrom||_||g&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...qh(w,"layout"),onPlay:S,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(b,_)}else g||Sv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gE),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const g=this.path[b];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fE),this.nodes.forEach(cE),this.nodes.forEach(dE)):this.nodes.forEach(wv),this.clearAllSnapshots();const f=ds.now();$a.delta=Vn(0,1e3/60,f-$a.timestamp),$a.timestamp=f,$a.isProcessing=!0,qx.update.process($a),qx.preRender.process($a),qx.render.process($a),$a.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xE),this.sharedNodes.forEach(bE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Za(this.snapshot.measuredBox.x)&&!Za(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!c)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!BN(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,b=h!==this.prevTransformTemplateValue;u&&this.instance&&(f||Yr(this.latestValues)||b)&&(c(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),NE(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Pa();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wE))){const{scroll:h}=this.root;h&&(ao(f.x,h.offset.x),ao(f.y,h.offset.y))}return f}removeElementScroll(u){const f=Pa();if(Ks(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const h=this.path[p],{scroll:b,options:g}=h;h!==this.root&&b&&g.layoutScroll&&(b.wasRoot&&Ks(f,u),ao(f.x,b.offset.x),ao(f.y,b.offset.y))}return f}applyTransform(u,f=!1){const p=Pa();Ks(p,u);for(let h=0;h<this.path.length;h++){const b=this.path[h];!f&&b.options.layoutScroll&&b.scroll&&b!==b.root&&so(p,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Yr(b.latestValues)&&so(p,b.latestValues)}return Yr(this.latestValues)&&so(p,this.latestValues),p}removeTransform(u){const f=Pa();Ks(f,u);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!Yr(h.latestValues))continue;Kf(h.latestValues)&&h.updateSnapshot();const b=Pa(),g=h.measurePageBox();Ks(b,g),pv(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,b)}return Yr(this.latestValues)&&pv(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$a.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:g}=this.options;if(!this.layout||!(b||g))return;this.resolvedRelativeTargetAt=$a.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pa(),this.targetWithTransforms=Pa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ks(this.target,this.layout.layoutBox),bN(this.target,this.targetDelta)):Ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kf(this.parent.latestValues)||gN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pa(),this.relativeTargetOrigin=Pa(),au(this.relativeTargetOrigin,f,p),Ks(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$a.timestamp&&(p=!1),p)return;const{layout:h,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||b))return;Ks(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;U6(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Pa());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xv(this.prevProjectionDelta.x,this.projectionDelta.x),xv(this.prevProjectionDelta.y,this.projectionDelta.y)),El(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!jv(this.projectionDelta.x,this.prevProjectionDelta.x)||!jv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=no(),this.projectionDelta=no(),this.projectionDeltaWithTransform=no()}setAnimationOrigin(u,f=!1){const p=this.snapshot,h=p?p.latestValues:{},b={...this.latestValues},g=no();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=Pa(),A=p?p.source:void 0,w=this.layout?this.layout.source:void 0,S=A!==w,N=this.getStack(),M=!N||N.members.length<=1,_=!!(S&&!M&&this.options.crossfade===!0&&!this.path.some(vE));this.animationProgress=0;let O;this.mixTargetDelta=D=>{const k=D/1e3;Cv(g.x,u.x,k),Cv(g.y,u.y,k),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(au(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yE(this.relativeTarget,this.relativeTargetOrigin,v,k),O&&nE(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Pa()),Ks(O,this.relativeTarget)),S&&(this.animationValues=b,ZT(b,h,this.latestValues,k,_,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sa.update(()=>{Xd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ii(0)),this.currentAnimation=XT(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:h,latestValues:b}=u;if(!(!f||!p||!h)){if(this!==u&&this.layout&&h&&UN(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||Pa();const g=Za(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+g;const v=Za(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+v}Ks(f,p),so(f,b),El(this.projectionDeltaWithTransform,this.layoutCorrected,f,b)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new rE),this.sharedNodes.get(u).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const h={};p.z&&ef("z",u,h,this.animationValues);for(let b=0;b<Wx.length;b++)ef(`rotate${Wx[b]}`,u,h,this.animationValues),ef(`skew${Wx[b]}`,u,h,this.animationValues);u.render();for(const b in h)u.setStaticValue(b,h[b]),this.animationValues&&(this.animationValues[b]=h[b]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Gd(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Gd(f?.pointerEvents)||""),this.hasProjected&&!Yr(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const b=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=iE(this.projectionDeltaWithTransform,this.treeScale,b);p&&(g=p(b,g)),u.transform=g;const{x:v,y:A}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${A.origin*100}% 0`,h.animationValues?u.opacity=h===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:u.opacity=h===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const w in Ol){if(b[w]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:M}=Ol[w],_=g==="none"?b[w]:S(b[w],h);if(N){const O=N.length;for(let D=0;D<O;D++)u[N[D]]=_}else M?this.options.visualElement.renderState.vars[w]=_:u[w]=_}this.options.layoutId&&(u.pointerEvents=h===this?Gd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Nv),this.root.sharedNodes.clear()}}}function cE(a){a.updateLayout()}function dE(a){const n=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&n&&a.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=a.layout,{animationType:c}=a.options,d=n.source!==a.layout.source;c==="size"?zs(b=>{const g=d?n.measuredBox[b]:n.layoutBox[b],v=Za(g);g.min=o[b].min,g.max=g.min+v}):UN(c,n.layoutBox,o)&&zs(b=>{const g=d?n.measuredBox[b]:n.layoutBox[b],v=Za(o[b]);g.max=g.min+v,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[b].max=a.relativeTarget[b].min+v)});const u=no();El(u,o,n.layoutBox);const f=no();d?El(f,a.applyTransform(i,!0),n.measuredBox):El(f,o,n.layoutBox);const p=!BN(u);let h=!1;if(!a.resumeFrom){const b=a.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:g,layout:v}=b;if(g&&v){const A=Pa();au(A,n.layoutBox,g.layoutBox);const w=Pa();au(w,o,v.layoutBox),LN(A,w)||(h=!0),b.options.layoutRoot&&(a.relativeTarget=w,a.relativeTargetOrigin=A,a.relativeParent=b)}}}a.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:h})}else if(a.isLead()){const{onExitComplete:o}=a.options;o&&o()}a.options.transition=void 0}function uE(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function mE(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function xE(a){a.clearSnapshot()}function Nv(a){a.clearMeasurements()}function wv(a){a.isLayoutDirty=!1}function fE(a){const{visualElement:n}=a.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),a.resetTransform()}function Sv(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function hE(a){a.resolveTargetDelta()}function pE(a){a.calcProjection()}function gE(a){a.resetSkewAndRotation()}function bE(a){a.removeLeadSnapshot()}function Cv(a,n,o){a.translate=oa(n.translate,0,o),a.scale=oa(n.scale,1,o),a.origin=n.origin,a.originPoint=n.originPoint}function Av(a,n,o,i){a.min=oa(n.min,o.min,i),a.max=oa(n.max,o.max,i)}function yE(a,n,o,i){Av(a.x,n.x,o.x,i),Av(a.y,n.y,o.y,i)}function vE(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const jE={duration:.45,ease:[.4,0,.1,1]},Tv=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Ev=Tv("applewebkit/")&&!Tv("chrome/")?Math.round:Is;function Rv(a){a.min=Ev(a.min),a.max=Ev(a.max)}function NE(a){Rv(a.x),Rv(a.y)}function UN(a,n,o){return a==="position"||a==="preserve-aspect"&&!ET(vv(n),vv(o),.2)}function wE(a){return a!==a.root&&a.scroll?.wasRoot}const SE=VN({attachResizeListener:(a,n)=>Bl(a,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tf={current:void 0},qN=VN({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!tf.current){const a=new SE({});a.mount(window),a.setOptions({layoutScroll:!0}),tf.current=a}return tf.current},resetTransform:(a,n)=>{a.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),CE={pan:{Feature:$T},drag:{Feature:qT,ProjectionNode:qN,MeasureLayout:_N}};function Mv(a,n,o){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",o==="Start");const c="onHover"+o,d=i[c];d&&sa.postRender(()=>d(n,Zl(n)))}class AE extends Cr{mount(){const{current:n}=this.node;n&&(this.unmount=GA(n,(o,i)=>(Mv(this.node,i,"Start"),c=>Mv(this.node,c,"End"))))}unmount(){}}class TE extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yl(Bl(this.node.current,"focus",()=>this.onFocus()),Bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pv(a,n,o){const{props:i}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",o==="Start");const c="onTap"+(o==="End"?"":o),d=i[c];d&&sa.postRender(()=>d(n,Zl(n)))}class EE extends Cr{mount(){const{current:n}=this.node;n&&(this.unmount=KA(n,(o,i)=>(Pv(this.node,i,"Start"),(c,{success:d})=>Pv(this.node,c,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sh=new WeakMap,af=new WeakMap,RE=a=>{const n=sh.get(a.target);n&&n(a)},ME=a=>{a.forEach(RE)};function PE({root:a,...n}){const o=a||document;af.has(o)||af.set(o,{});const i=af.get(o),c=JSON.stringify(n);return i[c]||(i[c]=new IntersectionObserver(ME,{root:a,...n})),i[c]}function DE(a,n,o){const i=PE(n);return sh.set(a,o),i.observe(a),()=>{sh.delete(a),i.unobserve(a)}}const kE={some:0,all:1};class _E extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:o,margin:i,amount:c="some",once:d}=n,u={root:o?o.current:void 0,rootMargin:i,threshold:typeof c=="number"?c:kE[c]},f=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,d&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:b,onViewportLeave:g}=this.node.getProps(),v=h?b:g;v&&v(p)};return DE(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:o}=this.node;["amount","margin","root"].some(zE(n,o))&&this.startObserver()}unmount(){}}function zE({viewport:a={}},{viewport:n={}}={}){return o=>a[o]!==n[o]}const OE={inView:{Feature:_E},tap:{Feature:EE},focus:{Feature:TE},hover:{Feature:AE}},BE={layout:{ProjectionNode:qN,MeasureLayout:_N}},LE={...NT,...OE,...CE,...BE},De=L6(LE,J6);function $N(a){const n=ci(()=>ii(a)),{isStatic:o}=y.useContext(gu);if(o){const[,i]=y.useState(a);y.useEffect(()=>n.on("change",i),[])}return n}function FN(a,n){const o=$N(n()),i=()=>o.set(n());return i(),Sh(()=>{const c=()=>sa.preRender(i,!1,!0),d=a.map(u=>u.on("change",c));return()=>{d.forEach(u=>u()),qn(i)}}),o}function IE(a){Al.current=[],a();const n=FN(Al.current,a);return Al.current=void 0,n}function VE(a,n,o,i){if(typeof a=="function")return IE(a);const c=typeof n=="function"?n:ZA(n,o,i);return Array.isArray(a)?Dv(a,c):Dv([a],([d])=>c(d))}function Dv(a,n){const o=ci(()=>[]);return FN(a,()=>{o.length=0;const i=a.length;for(let c=0;c<i;c++)o[c]=a[c].get();return n(o)})}const HN=y.createContext(null);function UE(a,n,o,i){if(!i)return a;const c=a.findIndex(b=>b.value===n);if(c===-1)return a;const d=i>0?1:-1,u=a[c+d];if(!u)return a;const f=a[c],p=u.layout,h=oa(p.min,p.max,.5);return d===1&&f.layout.max+o>h||d===-1&&f.layout.min+o<h?n3(a,c,c+d):a}function qE({children:a,as:n="ul",axis:o="y",onReorder:i,values:c,...d},u){const f=ci(()=>De[n]),p=[],h=y.useRef(!1),b={axis:o,registerItem:(g,v)=>{const A=p.findIndex(w=>g===w.value);A!==-1?p[A].layout=v[o]:p.push({value:g,layout:v[o]}),p.sort(HE)},updateOrder:(g,v,A)=>{if(h.current)return;const w=UE(p,g,v,A);p!==w&&(h.current=!0,i(w.map(FE).filter(S=>c.indexOf(S)!==-1)))}};return y.useEffect(()=>{h.current=!1}),e.jsx(f,{...d,ref:u,ignoreStrict:!0,children:e.jsx(HN.Provider,{value:b,children:a})})}const $E=y.forwardRef(qE);function FE(a){return a.value}function HE(a,n){return a.layout.min-n.layout.min}function kv(a,n=0){return Ha(a)?a:$N(n)}function GE({children:a,style:n={},value:o,as:i="li",onDrag:c,layout:d=!0,...u},f){const p=ci(()=>De[i]),h=y.useContext(HN),b={x:kv(n.x),y:kv(n.y)},g=VE([b.x,b.y],([S,N])=>S||N?1:"unset"),{axis:v,registerItem:A,updateOrder:w}=h;return e.jsx(p,{drag:v,...u,dragSnapToOrigin:!0,style:{...n,x:b.x,y:b.y,zIndex:g},layout:d,onDrag:(S,N)=>{const{velocity:M}=N;M[v]&&w(o,b[v].get(),M[v]),c&&c(S,N)},onLayoutMeasure:S=>A(o,S),ref:f,ignoreStrict:!0,children:a})}const XE=y.forwardRef(GE);const YE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QE=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,i)=>i?i.toUpperCase():o.toLowerCase()),_v=a=>{const n=QE(a);return n.charAt(0).toUpperCase()+n.slice(1)},GN=(...a)=>a.filter((n,o,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===o).join(" ").trim(),KE=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var JE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZE=y.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...f},p)=>y.createElement("svg",{ref:p,...JE,width:n,height:n,stroke:a,strokeWidth:i?Number(o)*24/Number(n):o,className:GN("lucide",c),...!d&&!KE(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,b])=>y.createElement(h,b)),...Array.isArray(d)?d:[d]]));const Fe=(a,n)=>{const o=y.forwardRef(({className:i,...c},d)=>y.createElement(ZE,{ref:d,iconNode:n,className:GN(`lucide-${YE(_v(a))}`,`lucide-${a}`,i),...c}));return o.displayName=_v(a),o};const WE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nh=Fe("activity",WE);const eR=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],zv=Fe("arrow-down-right",eR);const tR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],di=Fe("arrow-left",tR);const aR=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],sf=Fe("arrow-right-left",aR);const sR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],su=Fe("arrow-right",sR);const nR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Rl=Fe("award",nR);const rR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tp=Fe("bell",rR);const iR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ov=Fe("book-open",iR);const oR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],lo=Fe("building-2",oR);const lR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ta=Fe("calendar",lR);const cR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nu=Fe("camera",cR);const dR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nf=Fe("chart-column",dR);const uR=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],mR=Fe("chart-pie",uR);const xR=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],fR=Fe("check-check",xR);const hR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Os=Fe("check",hR);const pR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ru=Fe("chevron-down",pR);const gR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ju=Fe("chevron-right",gR);const bR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Bv=Fe("chevron-up",bR);const yR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ia=Fe("circle-alert",yR);const vR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ba=Fe("circle-check-big",vR);const jR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mt=Fe("circle-check",jR);const NR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wR=Fe("circle-question-mark",NR);const SR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bs=Fe("circle-x",SR);const CR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],AR=Fe("clipboard-copy",CR);const TR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vs=Fe("clock",TR);const ER=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XN=Fe("copy",ER);const RR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xa=Fe("credit-card",RR);const MR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rf=Fe("crown",MR);const PR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hn=Fe("dollar-sign",PR);const DR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Lv=Fe("download",DR);const kR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Iv=Fe("ellipsis-vertical",kR);const _R=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zR=Fe("external-link",_R);const OR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ni=Fe("eye-off",OR);const BR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pn=Fe("eye",BR);const LR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Us=Fe("file-text",LR);const IR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],VR=Fe("funnel",IR);const UR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],iu=Fe("gift",UR);const qR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vv=Fe("globe",qR);const $R=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Uv=Fe("grip-vertical",$R);const FR=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ei=Fe("hash",FR);const HR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Nr=Fe("house",HR);const GR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nu=Fe("info",GR);const XR=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],YR=Fe("landmark",XR);const QR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qv=Fe("layout-dashboard",QR);const KR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wa=Fe("loader-circle",KR);const JR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qr=Fe("lock",JR);const ZR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YN=Fe("log-out",ZR);const WR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ja=Fe("mail",WR);const eM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],js=Fe("map-pin",eM);const tM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aM=Fe("menu",tM);const sM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rh=Fe("message-square",sM);const nM=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],rM=Fe("party-popper",nM);const iM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QN=Fe("pen",iM);const oM=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],lM=Fe("percent",oM);const cM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fa=Fe("phone",cM);const dM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kr=Fe("play",dM);const uM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ml=Fe("plus",uM);const mM=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],xM=Fe("qr-code",mM);const fM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oi=Fe("refresh-cw",fM);const hM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],li=Fe("search",hM);const pM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$v=Fe("send",pM);const gM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KN=Fe("settings",gM);const bM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yM=Fe("share-2",bM);const vM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],co=Fe("shield",vM);const jM=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Fv=Fe("shuffle",jM);const NM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ou=Fe("square-pen",NM);const wM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mn=Fe("trash-2",wM);const SM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ll=Fe("trending-up",SM);const CM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wr=Fe("triangle-alert",CM);const AM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],TM=Fe("upload",AM);const EM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ap=Fe("user-check",EM);const RM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Il=Fe("user-plus",RM);const MM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ya=Fe("user",MM);const PM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aa=Fe("users",PM);const DM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Wt=Fe("wallet",DM);const kM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ih=Fe("x",kM);function JN(a){var n,o,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var c=a.length;for(n=0;n<c;n++)a[n]&&(o=JN(a[n]))&&(i&&(i+=" "),i+=o)}else for(o in a)a[o]&&(i&&(i+=" "),i+=o);return i}function _M(){for(var a,n,o=0,i="",c=arguments.length;o<c;o++)(a=arguments[o])&&(n=JN(a))&&(i&&(i+=" "),i+=n);return i}const zM=(a,n)=>{const o=new Array(a.length+n.length);for(let i=0;i<a.length;i++)o[i]=a[i];for(let i=0;i<n.length;i++)o[a.length+i]=n[i];return o},OM=(a,n)=>({classGroupId:a,validator:n}),ZN=(a=new Map,n=null,o)=>({nextPart:a,validators:n,classGroupId:o}),lu="-",Hv=[],BM="arbitrary..",LM=a=>{const n=VM(a),{conflictingClassGroups:o,conflictingClassGroupModifiers:i}=a;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return IM(u);const f=u.split(lu),p=f[0]===""&&f.length>1?1:0;return WN(f,p,n)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=i[u],h=o[u];return p?h?zM(h,p):p:h||Hv}return o[u]||Hv}}},WN=(a,n,o)=>{if(a.length-n===0)return o.classGroupId;const c=a[n],d=o.nextPart.get(c);if(d){const h=WN(a,n+1,d);if(h)return h}const u=o.validators;if(u===null)return;const f=n===0?a.join(lu):a.slice(n).join(lu),p=u.length;for(let h=0;h<p;h++){const b=u[h];if(b.validator(f))return b.classGroupId}},IM=a=>a.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=a.slice(1,-1),o=n.indexOf(":"),i=n.slice(0,o);return i?BM+i:void 0})(),VM=a=>{const{theme:n,classGroups:o}=a;return UM(o,n)},UM=(a,n)=>{const o=ZN();for(const i in a){const c=a[i];sp(c,o,i,n)}return o},sp=(a,n,o,i)=>{const c=a.length;for(let d=0;d<c;d++){const u=a[d];qM(u,n,o,i)}},qM=(a,n,o,i)=>{if(typeof a=="string"){$M(a,n,o);return}if(typeof a=="function"){FM(a,n,o,i);return}HM(a,n,o,i)},$M=(a,n,o)=>{const i=a===""?n:e2(n,a);i.classGroupId=o},FM=(a,n,o,i)=>{if(GM(a)){sp(a(i),n,o,i);return}n.validators===null&&(n.validators=[]),n.validators.push(OM(o,a))},HM=(a,n,o,i)=>{const c=Object.entries(a),d=c.length;for(let u=0;u<d;u++){const[f,p]=c[u];sp(p,e2(n,f),o,i)}},e2=(a,n)=>{let o=a;const i=n.split(lu),c=i.length;for(let d=0;d<c;d++){const u=i[d];let f=o.nextPart.get(u);f||(f=ZN(),o.nextPart.set(u,f)),o=f}return o},GM=a=>"isThemeGetter"in a&&a.isThemeGetter===!0,XM=a=>{if(a<1)return{get:()=>{},set:()=>{}};let n=0,o=Object.create(null),i=Object.create(null);const c=(d,u)=>{o[d]=u,n++,n>a&&(n=0,i=o,o=Object.create(null))};return{get(d){let u=o[d];if(u!==void 0)return u;if((u=i[d])!==void 0)return c(d,u),u},set(d,u){d in o?o[d]=u:c(d,u)}}},oh="!",Gv=":",YM=[],Xv=(a,n,o,i,c)=>({modifiers:a,hasImportantModifier:n,baseClassName:o,maybePostfixModifierPosition:i,isExternal:c}),QM=a=>{const{prefix:n,experimentalParseClassName:o}=a;let i=c=>{const d=[];let u=0,f=0,p=0,h;const b=c.length;for(let S=0;S<b;S++){const N=c[S];if(u===0&&f===0){if(N===Gv){d.push(c.slice(p,S)),p=S+1;continue}if(N==="/"){h=S;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const g=d.length===0?c:c.slice(p);let v=g,A=!1;g.endsWith(oh)?(v=g.slice(0,-1),A=!0):g.startsWith(oh)&&(v=g.slice(1),A=!0);const w=h&&h>p?h-p:void 0;return Xv(d,A,v,w)};if(n){const c=n+Gv,d=i;i=u=>u.startsWith(c)?d(u.slice(c.length)):Xv(YM,!1,u,void 0,!0)}if(o){const c=i;i=d=>o({className:d,parseClassName:c})}return i},KM=a=>{const n=new Map;return a.orderSensitiveModifiers.forEach((o,i)=>{n.set(o,1e6+i)}),o=>{const i=[];let c=[];for(let d=0;d<o.length;d++){const u=o[d],f=u[0]==="[",p=n.has(u);f||p?(c.length>0&&(c.sort(),i.push(...c),c=[]),i.push(u)):c.push(u)}return c.length>0&&(c.sort(),i.push(...c)),i}},JM=a=>({cache:XM(a.cacheSize),parseClassName:QM(a),sortModifiers:KM(a),...LM(a)}),ZM=/\s+/,WM=(a,n)=>{const{parseClassName:o,getClassGroupId:i,getConflictingClassGroupIds:c,sortModifiers:d}=n,u=[],f=a.trim().split(ZM);let p="";for(let h=f.length-1;h>=0;h-=1){const b=f[h],{isExternal:g,modifiers:v,hasImportantModifier:A,baseClassName:w,maybePostfixModifierPosition:S}=o(b);if(g){p=b+(p.length>0?" "+p:p);continue}let N=!!S,M=i(N?w.substring(0,S):w);if(!M){if(!N){p=b+(p.length>0?" "+p:p);continue}if(M=i(w),!M){p=b+(p.length>0?" "+p:p);continue}N=!1}const _=v.length===0?"":v.length===1?v[0]:d(v).join(":"),O=A?_+oh:_,D=O+M;if(u.indexOf(D)>-1)continue;u.push(D);const k=c(M,N);for(let E=0;E<k.length;++E){const B=k[E];u.push(O+B)}p=b+(p.length>0?" "+p:p)}return p},eP=(...a)=>{let n=0,o,i,c="";for(;n<a.length;)(o=a[n++])&&(i=t2(o))&&(c&&(c+=" "),c+=i);return c},t2=a=>{if(typeof a=="string")return a;let n,o="";for(let i=0;i<a.length;i++)a[i]&&(n=t2(a[i]))&&(o&&(o+=" "),o+=n);return o},tP=(a,...n)=>{let o,i,c,d;const u=p=>{const h=n.reduce((b,g)=>g(b),a());return o=JM(h),i=o.cache.get,c=o.cache.set,d=f,f(p)},f=p=>{const h=i(p);if(h)return h;const b=WM(p,o);return c(p,b),b};return d=u,(...p)=>d(eP(...p))},aP=[],Ma=a=>{const n=o=>o[a]||aP;return n.isThemeGetter=!0,n},a2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,s2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sP=/^\d+\/\d+$/,nP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=a=>sP.test(a),vt=a=>!!a&&!Number.isNaN(Number(a)),vr=a=>!!a&&Number.isInteger(Number(a)),of=a=>a.endsWith("%")&&vt(a.slice(0,-1)),On=a=>nP.test(a),cP=()=>!0,dP=a=>rP.test(a)&&!iP.test(a),n2=()=>!1,uP=a=>oP.test(a),mP=a=>lP.test(a),xP=a=>!et(a)&&!tt(a),fP=a=>yo(a,o2,n2),et=a=>a2.test(a),Hr=a=>yo(a,l2,dP),lf=a=>yo(a,yP,vt),Yv=a=>yo(a,r2,n2),hP=a=>yo(a,i2,mP),jd=a=>yo(a,c2,uP),tt=a=>s2.test(a),gl=a=>vo(a,l2),pP=a=>vo(a,vP),Qv=a=>vo(a,r2),gP=a=>vo(a,o2),bP=a=>vo(a,i2),Nd=a=>vo(a,c2,!0),yo=(a,n,o)=>{const i=a2.exec(a);return i?i[1]?n(i[1]):o(i[2]):!1},vo=(a,n,o=!1)=>{const i=s2.exec(a);return i?i[1]?n(i[1]):o:!1},r2=a=>a==="position"||a==="percentage",i2=a=>a==="image"||a==="url",o2=a=>a==="length"||a==="size"||a==="bg-size",l2=a=>a==="length",yP=a=>a==="number",vP=a=>a==="family-name",c2=a=>a==="shadow",jP=()=>{const a=Ma("color"),n=Ma("font"),o=Ma("text"),i=Ma("font-weight"),c=Ma("tracking"),d=Ma("leading"),u=Ma("breakpoint"),f=Ma("container"),p=Ma("spacing"),h=Ma("radius"),b=Ma("shadow"),g=Ma("inset-shadow"),v=Ma("text-shadow"),A=Ma("drop-shadow"),w=Ma("blur"),S=Ma("perspective"),N=Ma("aspect"),M=Ma("ease"),_=Ma("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...D(),tt,et],E=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],q=()=>[tt,et,p],Q=()=>[Hi,"full","auto",...q()],se=()=>[vr,"none","subgrid",tt,et],J=()=>["auto",{span:["full",vr,tt,et]},vr,tt,et],I=()=>[vr,"auto",tt,et],te=()=>["auto","min","max","fr",tt,et],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...q()],ee=()=>[Hi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],Z=()=>[a,tt,et],oe=()=>[...D(),Qv,Yv,{position:[tt,et]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",gP,fP,{size:[tt,et]}],Y=()=>[of,gl,Hr],he=()=>["","none","full",h,tt,et],Se=()=>["",vt,gl,Hr],Ve=()=>["solid","dashed","dotted","double"],Ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[vt,of,Qv,Yv],R=()=>["","none",w,tt,et],fe=()=>["none",vt,tt,et],me=()=>["none",vt,tt,et],Ee=()=>[vt,tt,et],at=()=>[Hi,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[On],breakpoint:[On],color:[cP],container:[On],"drop-shadow":[On],ease:["in","out","in-out"],font:[xP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[On],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[On],shadow:[On],spacing:["px",vt],text:[On],"text-shadow":[On],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hi,et,tt,N]}],container:["container"],columns:[{columns:[vt,et,tt,f]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[vr,"auto",tt,et]}],basis:[{basis:[Hi,"full","auto",f,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,Hi,"auto","initial","none",et]}],grow:[{grow:["",vt,tt,et]}],shrink:[{shrink:["",vt,tt,et]}],order:[{order:[vr,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",o,gl,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,tt,lf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",of,et]}],"font-family":[{font:[pP,et,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,tt,et]}],"line-clamp":[{"line-clamp":[vt,"none",tt,lf]}],leading:[{leading:[d,...q()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",tt,Hr]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[vt,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vr,tt,et],radial:["",tt,et],conic:[vr,tt,et]},bP,hP]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:he()}],"rounded-s":[{"rounded-s":he()}],"rounded-e":[{"rounded-e":he()}],"rounded-t":[{"rounded-t":he()}],"rounded-r":[{"rounded-r":he()}],"rounded-b":[{"rounded-b":he()}],"rounded-l":[{"rounded-l":he()}],"rounded-ss":[{"rounded-ss":he()}],"rounded-se":[{"rounded-se":he()}],"rounded-ee":[{"rounded-ee":he()}],"rounded-es":[{"rounded-es":he()}],"rounded-tl":[{"rounded-tl":he()}],"rounded-tr":[{"rounded-tr":he()}],"rounded-br":[{"rounded-br":he()}],"rounded-bl":[{"rounded-bl":he()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,tt,et]}],"outline-w":[{outline:["",vt,gl,Hr]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",b,Nd,jd]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",g,Nd,jd]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[vt,Hr]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",v,Nd,jd]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[vt,tt,et]}],"mix-blend":[{"mix-blend":[...Ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:R()}],brightness:[{brightness:[vt,tt,et]}],contrast:[{contrast:[vt,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",A,Nd,jd]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",vt,tt,et]}],"hue-rotate":[{"hue-rotate":[vt,tt,et]}],invert:[{invert:["",vt,tt,et]}],saturate:[{saturate:[vt,tt,et]}],sepia:[{sepia:["",vt,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[vt,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[vt,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",vt,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[vt,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[vt,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",tt,et]}],ease:[{ease:["linear","initial",M,tt,et]}],delay:[{delay:[vt,tt,et]}],animate:[{animate:["none",_,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,tt,et]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:at()}],"translate-x":[{"translate-x":at()}],"translate-y":[{"translate-y":at()}],"translate-z":[{"translate-z":at()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[vt,gl,Hr,lf]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NP=tP(jP);function ve(...a){return NP(_M(a))}function we(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}function Xt(a){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(a))}function wP(a){const n=new Date,i=new Date(a).getTime()-n.getTime(),c=Math.ceil(i/(1e3*60*60*24));return c===0?"Hoje":c===1?"Amanh":c===-1?"Ontem":c>0&&c<=7?`${c} dias`:c<0&&c>=-7?`${Math.abs(c)} dias atrs`:Xt(a)}function SP(a,n,o,i){const c=Math.max(1,i),d=Math.max(1,o||1);if(!n)return Math.min(c,d);const u=new Date(n);if(Number.isNaN(u.getTime()))return Math.min(c,d);const f=new Date;if(f<=u)return Math.min(c,d);let p=0;if(a==="diario"){const g=f.getTime()-u.getTime();p=Math.floor(g/(1e3*60*60*24))}else if(a==="semanal"){const g=f.getTime()-u.getTime();p=Math.floor(g/(1e3*60*60*24*7))}else{const g=f.getFullYear()-u.getFullYear(),v=f.getMonth()-u.getMonth();p=g*12+v,f.getDate()<u.getDate()&&(p-=1)}const h=1+Math.max(0,p),b=Math.max(c,h);return Math.min(d,b)}function CP(a){return a.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2)}function AP(){const a=es(),{usuario:n}=Da(),{isBottomNavVisible:o}=d1();if(!o)return null;const i=n?.tipo==="usuario"?[{path:"/dashboard",label:"Incio",icon:Nr},{path:"/caixas",label:"Caixas",icon:Wt},{path:"/contrato",label:"Contrato",icon:Us},{path:"/carteira",label:"Carteira",icon:Wt},{path:"/perfil",label:"Perfil",icon:ya}]:[{path:"/dashboard",label:"Incio",icon:Nr},{path:"/caixas",label:"Caixas",icon:Wt},{path:"/contrato",label:"Contrato",icon:Us},{path:"/carteira",label:"Carteira",icon:Wt},{path:"/perfil",label:"Perfil",icon:ya}];return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-white border-t border-gray-100 safe-area-bottom z-50",children:e.jsx("div",{className:"flex items-center justify-around h-16",children:i.map(c=>{const d=a.pathname.startsWith(c.path);return e.jsxs(Ka,{to:c.path,className:ve("flex flex-col items-center justify-center flex-1 h-full relative transition-colors",d?"text-green-500":"text-gray-400"),children:[d&&e.jsx(De.div,{layoutId:"bottomNavIndicator",className:"absolute -top-0.5 w-12 h-1 bg-green-500 rounded-full"}),e.jsx(c.icon,{className:ve("w-5 h-5 mb-1",d&&"animate-scale-in")}),e.jsx("span",{className:"text-[10px] font-medium",children:c.label})]},c.path)})})})}function Ns({name:a,src:n,size:o="md",className:i}){const c={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"};return n?e.jsx("img",{src:n,alt:a,className:ve("rounded-full object-cover ring-2 ring-white shadow-sm",c[o],i)}):e.jsx("div",{className:ve("rounded-full bg-gradient-to-br from-green-400 to-green-600 text-white font-semibold flex items-center justify-center ring-2 ring-white shadow-sm",c[o],i),children:CP(a)})}function ot({children:a,variant:n="gray",className:o,size:i="md"}){const c={success:"badge-success",warning:"badge-warning",danger:"badge-danger",info:"badge-info",gray:"badge-gray"},d={sm:"px-2 py-0.5 text-[10px]",md:"px-2.5 py-1 text-xs"};return e.jsx("span",{className:ve("badge",c[n],d[i],o),children:a})}function TP(){const{usuario:a,logout:n}=Da(),o=es(),[i,c]=y.useState(0),[d,u]=y.useState(!1),[f,p]=y.useState(!1),b=(()=>{const A=[{path:"/dashboard",label:"Home",icon:qv},{path:"/caixas",label:"Caixas",icon:Wt},{path:"/participantes",label:"Participantes",icon:aa},{path:"/pagamentos",label:"Financeiro",icon:Xa},{path:"/contrato",label:"Contrato",icon:Us},{path:"/carteira",label:"Carteira",icon:Wt}];return a?.tipo==="usuario"?[{path:"/dashboard",label:"Home",icon:qv},{path:"/caixas",label:"Caixas",icon:Wt},{path:"/contrato",label:"Contrato",icon:Us},{path:"/carteira",label:"Carteira",icon:Wt}]:a?.tipo==="master"?[{path:"/painel-master",label:"Painel Master",icon:rf},...A]:A})();y.useEffect(()=>{a?._id&&Ud.contarNaoLidas(a._id).then(c).catch(()=>{})},[a]);const g=A=>({usuario:"Participante",administrador:"Administrador",master:"Super Admin"})[A]||A,v=A=>({usuario:"info",administrador:"success",master:"warning"})[A]||"info";return e.jsxs("header",{className:"sticky top-0 z-40",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 via-green-600 to-green-700 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(Ka,{to:"/dashboard",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:e.jsx(aa,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Juntix"})]}),e.jsx("nav",{className:"hidden md:flex items-center gap-1",children:b.map(A=>{const w=o.pathname.startsWith(A.path);return e.jsxs(Ka,{to:A.path,className:ve("flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all",w?"bg-white/20 text-white":"text-white/80 hover:bg-white/10 hover:text-white"),children:[e.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.path)})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center gap-2 mr-2",children:[e.jsx("span",{className:"text-white/80 text-sm",children:"Ol,"}),e.jsx("span",{className:"font-semibold",children:a?.nome?.split(" ")[0]})]}),e.jsxs(Ka,{to:"/notificacoes",className:"relative p-2 hover:bg-white/10 rounded-xl transition-colors",children:[e.jsx(tp,{className:"w-5 h-5"}),i>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-green-600",children:i>9?"9+":i})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-2 p-1.5 hover:bg-white/10 rounded-xl transition-colors",children:[e.jsx(Ns,{name:a?.nome||"U",src:a?.fotoUrl||a?.picture||a?.avatar,size:"sm"}),e.jsx(ru,{className:ve("w-4 h-4 transition-transform hidden sm:block",f&&"rotate-180")})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),e.jsxs(De.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:a?.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:a?.email}),e.jsxs(ot,{variant:v(a?.tipo||""),className:"mt-2",children:[a?.tipo==="master"&&e.jsx(rf,{className:"w-3 h-3 mr-1"}),g(a?.tipo||"")]})]}),e.jsxs("div",{className:"p-2",children:[a?.tipo==="master"&&e.jsxs(Ka,{to:"/painel-master",className:"flex items-center gap-3 px-3 py-2.5 text-sm text-amber-600 hover:bg-amber-50 rounded-xl transition-colors",onClick:()=>p(!1),children:[e.jsx(rf,{className:"w-4 h-4"}),"Painel Master"]}),e.jsxs(Ka,{to:"/configuracoes",className:"flex items-center gap-3 px-3 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",onClick:()=>p(!1),children:[e.jsx(KN,{className:"w-4 h-4 text-gray-400"}),"Configuraes"]}),e.jsxs("button",{onClick:()=>{n(),p(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:[e.jsx(YN,{className:"w-4 h-4"}),"Sair"]})]})]})]})]}),e.jsx("button",{onClick:()=>u(!d),className:"md:hidden p-2 hover:bg-white/10 rounded-xl transition-colors",children:d?e.jsx(ih,{className:"w-5 h-5"}):e.jsx(aM,{className:"w-5 h-5"})})]})]})})}),d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>u(!1)}),e.jsxs(De.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"fixed right-0 top-0 bottom-0 w-72 bg-white z-50 shadow-2xl md:hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-lg",children:"Menu"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-xl",children:e.jsx(ih,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"p-4 space-y-1",children:b.map(A=>{const w=o.pathname.startsWith(A.path);return e.jsxs(Ka,{to:A.path,onClick:()=>u(!1),className:ve("flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all",w?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"),children:[e.jsx(A.icon,{className:"w-5 h-5"}),A.label]},A.path)})})]})]})]})}function EP(){const a=es();return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[e.jsx(TP,{}),e.jsx("main",{className:"pt-0",children:e.jsx(Jl,{mode:"wait",children:e.jsx(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsx(AS,{})},a.pathname)})}),e.jsx(AP,{})]})}function ae({children:a,variant:n="primary",size:o="md",isLoading:i,leftIcon:c,rightIcon:d,className:u,disabled:f,type:p="button",onClick:h}){const b={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",ghost:"btn-ghost"},g={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"};return e.jsxs(De.button,{whileTap:{scale:.98},className:ve("btn",b[n],g[o],u),disabled:f||i,type:p,onClick:h,children:[i?e.jsx(Wa,{className:"w-4 h-4 animate-spin mr-2"}):c?e.jsx("span",{className:"mr-2",children:c}):null,a,d&&!i&&e.jsx("span",{className:"ml-2",children:d})]})}const Ke=y.forwardRef(({label:a,error:n,leftIcon:o,rightIcon:i,className:c,...d},u)=>e.jsxs("div",{className:"w-full",children:[a&&e.jsx("label",{className:"label",children:a}),e.jsxs("div",{className:"relative",children:[o&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:o}),e.jsx("input",{ref:u,className:ve("input",o&&"pl-10",i&&"pr-10",n&&"border-danger-500 focus:ring-danger-500/20 focus:border-danger-500",c),...d}),i&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:i})]}),n&&e.jsx("p",{className:"mt-1.5 text-sm text-danger-500",children:n})]}));Ke.displayName="Input";function Pe({children:a,className:n,hover:o=!1,onClick:i,padding:c="md"}){const d={none:"",sm:"p-3",md:"p-4 md:p-5",lg:"p-5 md:p-6"},u=o?De.div:"div";return e.jsx(u,{className:ve(o?"card-hover cursor-pointer":"card",d[c],n),onClick:i,...o&&{whileHover:{y:-4},whileTap:{scale:.98}},children:a})}function RP(){const a=Ba(),n=es(),{login:o}=Da(),[i,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState(""),[h,b]=y.useState(""),[g,v]=y.useState({email:"",senha:""});y.useEffect(()=>{n.state?.email&&v(w=>({...w,email:n.state.email})),n.state?.message&&(b(n.state.message),window.history.replaceState({},document.title))},[n]);const A=async w=>{w.preventDefault(),p("");try{c(!0),await o(g.email,g.senha),a("/dashboard")}catch(S){p(S.response?.data?.message||"Email ou senha invlidos")}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-white/5 rounded-full blur-3xl"})]}),e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-white/20 backdrop-blur-lg rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl",children:e.jsx(aa,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Juntix"}),e.jsx("p",{className:"text-white/80",children:"Junte seus amigos e realize seus sonhos"})]}),e.jsxs(Pe,{className:"p-6 md:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Entrar"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Acesse sua conta para continuar"}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsx(Ke,{label:"Email",type:"email",placeholder:"seu@email.com",value:g.email,onChange:w=>v({...g,email:w.target.value}),leftIcon:e.jsx(Ja,{className:"w-4 h-4"}),autoComplete:"email",disabled:i,error:f&&!g.email?"Email  obrigatrio":void 0}),e.jsx(Ke,{label:"Senha",type:d?"text":"password",placeholder:"",value:g.senha,onChange:w=>v({...g,senha:w.target.value}),leftIcon:e.jsx(Qr,{className:"w-4 h-4"}),autoComplete:"current-password",disabled:i,rightIcon:e.jsx("button",{type:"button",onClick:()=>u(!d),className:"p-2 -m-2 hover:bg-gray-100 active:bg-gray-200 rounded-lg transition-colors touch-manipulation","aria-label":d?"Ocultar senha":"Mostrar senha",tabIndex:-1,children:d?e.jsx(ni,{className:"w-5 h-5"}):e.jsx(pn,{className:"w-5 h-5"})}),error:f&&!g.senha?"Senha  obrigatria":void 0}),h&&e.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-green-50 text-green-700 text-sm rounded-xl border border-green-200",children:h}),f&&e.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 text-sm rounded-xl ${f.includes("Aguardando aprovao")?"bg-amber-50 text-amber-700 border border-amber-200":f.includes("recusou")?"bg-red-50 text-red-700 border border-red-200":"bg-danger-50 text-danger-600"}`,children:[f.includes("Aguardando aprovao")&&e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),e.jsx("span",{children:f})]}),f.includes("recusou")&&e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),e.jsx("span",{children:f})]}),!f.includes("Aguardando aprovao")&&!f.includes("recusou")&&f]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-primary-500 focus:ring-primary-500"}),e.jsx("span",{className:"text-gray-600",children:"Lembrar de mim"})]}),e.jsx(Ka,{to:"/esqueci-senha",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Esqueci minha senha"})]}),e.jsx(ae,{type:"submit",variant:"primary",className:"w-full",isLoading:i,rightIcon:e.jsx(su,{className:"w-4 h-4"}),children:"Entrar"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-500",children:["No tem uma conta?"," ",e.jsx(Ka,{to:"/registro",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Cadastre-se"})]})})]})]})]})}function d2(a){const o=a.replace(/\D/g,"").substring(0,11);return o.length<=2?o:o.length<=6?`(${o.substring(0,2)}) ${o.substring(2)}`:o.length<=10?`(${o.substring(0,2)}) ${o.substring(2,6)}-${o.substring(6)}`:`(${o.substring(0,2)}) ${o.substring(2,7)}-${o.substring(7,11)}`}function u2(a){return a.replace(/\D/g,"")}function MP(){const a=Ba(),[n]=s5(),{register:o}=Da(),{executeRecaptcha:i}=x5(),[c,d]=y.useState(!1),[u,f]=y.useState(!1),[p,h]=y.useState(""),b=n.get("codigo"),g=n.get("caixa"),[v,A]=y.useState({nome:"",email:"",telefone:"",senha:"",tipo:"usuario",codigoConvite:b||"",caixaId:g||""}),w=async S=>{S.preventDefault(),h("");const N=/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;if(v.senha.length<8){h("A senha deve ter pelo menos 8 caracteres");return}if(!N.test(v.senha)){h("A senha deve conter letra maiscula, minscula e nmero/smbolo");return}try{d(!0);let M="";i&&(M=await i("register"),console.log("reCAPTCHA Token:",M));const _={...v,telefone:u2(v.telefone),recaptchaToken:M};await o(_),v.tipo==="administrador"?a("/login",{state:{email:v.email,message:"Conta criada com sucesso! Aguarde a aprovao do administrador master para fazer login."}}):a("/login",{state:{email:v.email,message:"Conta criada com sucesso! Faa login para continuar."}})}catch(M){h(M.response?.data?.message||"Erro ao criar conta")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-white/5 rounded-full blur-3xl"})]}),e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-white/20 backdrop-blur-lg rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl",children:e.jsx(aa,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Juntix"}),e.jsx("p",{className:"text-white/80",children:"Crie sua conta gratuita"})]}),v.codigoConvite&&e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-md rounded-xl p-4 mb-6 border border-white/20 text-white text-center",children:[e.jsx("p",{className:"font-medium",children:" Voc foi convidado!"}),e.jsx("p",{className:"text-sm text-white/80 mt-1",children:"Complete seu cadastro para entrar automaticamente no caixa."})]}),e.jsxs(Pe,{className:"p-6 md:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Criar Conta"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Preencha seus dados para comear"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Tipo de Conta"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>A({...v,tipo:"usuario"}),className:ve("p-4 rounded-xl border-2 text-left transition-all",v.tipo==="usuario"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-200"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ya,{className:ve("w-5 h-5",v.tipo==="usuario"?"text-primary-600":"text-gray-400")}),e.jsx("span",{className:ve("font-semibold",v.tipo==="usuario"?"text-primary-700":"text-gray-700"),children:"Participante"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Participe de caixas"})]}),e.jsxs("button",{type:"button",onClick:()=>A({...v,tipo:"administrador"}),className:ve("p-4 rounded-xl border-2 text-left transition-all",v.tipo==="administrador"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-200"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(aa,{className:ve("w-5 h-5",v.tipo==="administrador"?"text-primary-600":"text-gray-400")}),e.jsx("span",{className:ve("font-semibold",v.tipo==="administrador"?"text-primary-700":"text-gray-700"),children:"Administrador"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Crie e gerencie caixas"})]})]})]}),e.jsx(Ke,{label:"Nome Completo",placeholder:"Seu nome",value:v.nome,onChange:S=>A({...v,nome:S.target.value}),leftIcon:e.jsx(ya,{className:"w-4 h-4"}),autoComplete:"name",disabled:c}),e.jsx(Ke,{label:"Email",type:"email",placeholder:"seu@email.com",value:v.email,onChange:S=>A({...v,email:S.target.value}),leftIcon:e.jsx(Ja,{className:"w-4 h-4"}),autoComplete:"email",disabled:c}),e.jsx(Ke,{label:"Telefone (WhatsApp)",placeholder:"(11) 99999-9999",value:v.telefone,onChange:S=>A({...v,telefone:d2(S.target.value)}),leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),autoComplete:"tel",disabled:c,maxLength:15}),e.jsx(Ke,{label:"Senha",type:u?"text":"password",placeholder:"Mnimo 8 caracteres (Maiscula + Nmero)",value:v.senha,onChange:S=>A({...v,senha:S.target.value}),leftIcon:e.jsx(Qr,{className:"w-4 h-4"}),autoComplete:"new-password",disabled:c,rightIcon:e.jsx("button",{type:"button",onClick:()=>f(!u),className:"p-2 -m-2 hover:bg-gray-100 active:bg-gray-200 rounded-lg transition-colors touch-manipulation","aria-label":u?"Ocultar senha":"Mostrar senha",tabIndex:-1,children:u?e.jsx(ni,{className:"w-5 h-5"}):e.jsx(pn,{className:"w-5 h-5"})})}),p&&e.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-danger-50 text-danger-600 text-sm rounded-xl",children:p}),v.tipo==="administrador"&&e.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-blue-50 text-blue-700 text-sm rounded-xl flex items-start gap-2",children:[e.jsx(ia,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Seu cadastro ser analisado pelo administrador master antes de voc poder acessar a plataforma."})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"termos",className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-primary-500 focus:ring-primary-500",required:!0}),e.jsxs("label",{htmlFor:"termos",className:"text-sm text-gray-600",children:["Concordo com os"," ",e.jsx("a",{href:"https://drive.google.com/file/d/1k-uURKA1B1ZUBpDTw1Hd483w8yIwGMQK/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Termos de Uso"})," ","e"," ",e.jsx("a",{href:"https://drive.google.com/file/d/1WUZXJ4b6QgOiDSyBIy6LChHJAOiTYGX5/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Contrato"})]})]}),e.jsx(ae,{type:"submit",variant:"primary",className:"w-full",isLoading:c,rightIcon:e.jsx(su,{className:"w-4 h-4"}),children:"Criar Conta"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-500",children:["J tem uma conta?"," ",e.jsx(Ka,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Fazer login"})]})})]}),e.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/80 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ba,{className:"w-4 h-4"}),"Gratuito"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ba,{className:"w-4 h-4"}),"Sem juros"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ba,{className:"w-4 h-4"}),"Seguro"]})]})})]})]})}const PP="https://api.juntix.com.br";function DP(){const[a,n]=y.useState(""),[o,i]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState(!1),p=async h=>{if(h.preventDefault(),d(""),!a){d("Por favor, informe seu telefone");return}try{i(!0),await Yt.post(`${PP}/auth/esqueci-senha`,{telefone:u2(a)}),f(!0)}catch(b){d(b.response?.data?.message||"Erro ao processar solicitao")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-white/5 rounded-full blur-3xl"})]}),e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-white/20 backdrop-blur-lg rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl",children:e.jsx(aa,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Juntix"}),e.jsx("p",{className:"text-white/80",children:"Junte seus amigos e realize seus sonhos"})]}),e.jsx(Pe,{className:"p-6 md:p-8",children:u?e.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ba,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"WhatsApp Enviado!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Uma nova senha foi enviada para o WhatsApp ",e.jsx("strong",{children:a}),". Verifique suas mensagens."]}),e.jsx(Ka,{to:"/login",children:e.jsx(ae,{variant:"primary",className:"w-full",children:"Voltar para Login"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ka,{to:"/login",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(di,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Esqueci minha senha"})]}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Informe seu telefone cadastrado e enviaremos uma nova senha via WhatsApp."}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx(Ke,{label:"Telefone (WhatsApp)",type:"tel",placeholder:"(11) 99999-9999",value:a,onChange:h=>n(d2(h.target.value)),leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),maxLength:15,error:c&&!a?"Telefone  obrigatrio":void 0}),c&&e.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 text-red-700 text-sm rounded-xl flex items-center gap-2",children:[e.jsx(ia,{className:"w-4 h-4 flex-shrink-0"}),c]}),e.jsx(ae,{type:"submit",variant:"primary",className:"w-full",isLoading:o,children:"Enviar nova senha"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-500",children:["Lembrou a senha?"," ",e.jsx(Ka,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Fazer login"})]})})]})}),e.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center",children:e.jsxs("p",{className:"text-white/60 text-sm",children:["Precisa de ajuda? ",e.jsx("a",{href:"mailto:suporte@juntix.com.br",className:"text-white/80 hover:text-white underline",children:"suporte@juntix.com.br"})]})})]})]})}function bl({className:a}){return e.jsx("div",{className:ve("animate-pulse bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 bg-[length:200%_100%] rounded-lg",a)})}function ws(){return e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx(bl,{className:"h-5 w-32 mb-2"}),e.jsx(bl,{className:"h-4 w-24"})]}),e.jsx(bl,{className:"h-6 w-16 rounded-full"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(bl,{className:"h-4 w-full"}),e.jsx(bl,{className:"h-4 w-3/4"})]})]})}const kP={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},dn={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},Kv=a=>a*.1,Jv=a=>{const n=a*.5,o=a*.44,i=a*.3,c=a*.02,d=a+c;return[{nome:"Agiota",valor:a+n,juros:"50%+",color:"text-red-500",economia:((n-c)/(a+n)*100).toFixed(0)},{nome:"Carto de crdito",valor:a+o,juros:"44%",color:"text-red-500",economia:((o-c)/(a+o)*100).toFixed(0)},{nome:"Emprstimo banco",valor:a+i,juros:"30%",color:"text-amber-500",economia:((i-c)/(a+i)*100).toFixed(0)},{nome:"Juntix",valor:d,juros:"2%",color:"text-green-500",highlight:!0,economia:"0"}]},_P=[{valor:2e3,label:"R$ 2.000"},{valor:5e3,label:"R$ 5.000"},{valor:1e4,label:"R$ 10.000"}];function zP(){const{usuario:a,recarregarUsuario:n}=Da(),o=Ba(),[i,c]=y.useState(null),[d,u]=y.useState(!0),[f,p]=y.useState(5e3),[h,b]=y.useState([]),[g,v]=y.useState(!0),[A,w]=y.useState(5e3),S=a?.tipo==="usuario";y.useEffect(()=>{n()},[]),y.useEffect(()=>{S||M()},[a,S]),y.useEffect(()=>{S&&a?._id&&N()},[S,a]);const N=async()=>{try{v(!0);const E=await ga.getByUsuario(a._id),B=Array.isArray(E)?E:E?.participacoes||[];b(B)}catch{b([])}finally{v(!1)}};if(y.useEffect(()=>{if(a?.tipo==="usuario")return;let E;return E=setInterval(async()=>{try{const q=await kt.getByAdmin(a._id),se=(Array.isArray(q)?q:q.caixas||[]).map(I=>({id:I._id,qtdParticipantes:I.qtdParticipantes})),J=await Promise.all(se.map(async I=>{try{const te=await en.getEstatisticasCaixa(I.id);return{id:I.id,pagos:te.pagos||0,pendentes:te.pendentes??I.qtdParticipantes}}catch{return{id:I.id,pagos:0,pendentes:I.qtdParticipantes}}}));c(I=>{if(!I)return I;const te=I.caixas.map(ie=>{const de=J.find(L=>L.id===ie.id);return de?{...ie,stats:{pagos:de.pagos,pendentes:de.pendentes}}:ie});return{...I,caixas:te}})}catch{}},5e3),()=>{E&&clearInterval(E)}},[a]),S){const E=Jv(A);return e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ol,"}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:a?.nome?.split(" ")[0]}),e.jsx(ot,{variant:"info",size:"sm",children:"Participante"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[" Score: ",a?.score??0]})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-blue-50 to-blue-100/60 overflow-hidden",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comparativo de Crdito"}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:[2e3,5e3,1e4].map(B=>e.jsx("button",{onClick:()=>w(B),className:ve("px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all whitespace-nowrap",A===B?"bg-green-500 text-white shadow-lg shadow-green-500/25":"bg-white text-gray-600 hover:bg-gray-50"),children:we(B)},B))})]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-700 mb-3",children:["Compare o custo total das modalidades para o valor escolhido. No Juntix a taxa  de ",e.jsx("span",{className:"font-semibold text-green-700",children:"2%"}),", geralmente a melhor opo."]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-3",children:E.map(B=>e.jsxs(Pe,{className:"text-center p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1 truncate",children:B.nome}),e.jsx("p",{className:"text-sm md:text-lg font-bold text-gray-900 break-words",children:we(B.valor)}),e.jsxs(ot,{variant:B.nome==="Juntix"?"success":"gray",size:"sm",children:[B.juros,"%"]}),B.nome==="Juntix"&&e.jsx("p",{className:"mt-1 text-[10px] text-green-700 font-medium",children:"Melhor opo"})]},B.nome))})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Juntix"}),e.jsx("p",{className:"text-lg text-green-700 font-semibold mb-4",children:"Contribuio Coletiva Simplificada"}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:['O Juntix  uma plataforma digital que moderniza o tradicional "caixa" ou "consrcio informal" que voc j conhece. Transformamos uma prtica antiga e confivel em uma experincia',e.jsx("span",{className:"font-semibold text-green-700",children:" 100% digital, segura e transparente"}),"."]})]}),e.jsxs(Pe,{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""})," Como funciona?"]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:" simples: um grupo de pessoas de confiana se rene e todos contribuem com parcelas mensais iguais. A cada ms, um participante recebe o valor total acumulado, at que todos tenham recebido sua vez.  como uma vaquinha rotativa entre amigos!"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Exemplo prtico:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"10 amigos formam um grupo"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Cada um paga R$ 1.000 por ms"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Todo ms, um participante recebe R$ 10.000"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Em 10 meses, todos tero recebido"})]})]})]})]}),e.jsxs(Pe,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Principais Vantagens"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Custo Ultra Baixo"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Apenas ",e.jsx("span",{className:"font-bold text-green-600",children:"R$ 10 de taxa por boleto"})," - muito mais acessvel que emprstimos bancrios, financiamentos ou consrcios tradicionais."]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Acesso Rpido a Valores Altos"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Receba at ",e.jsx("span",{className:"font-bold text-green-600",children:"R$ 10.000"})," (ou mais, dependendo do grupo) sem burocracia, anlise de crdito ou juros abusivos."]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Baseado em Confiana"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Forme grupos com pessoas que voc conhece: amigos, familiares, colegas de trabalho. A base  a confiana mtua."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"100% Digital"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" Gesto completa pelo app ou site"}),e.jsx("li",{children:" Pagamentos via boleto ou PIX "}),e.jsx("li",{children:" Notificaes automticas"}),e.jsx("li",{children:" Histrico transparente de todas as transaes"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Segurana e Transparncia"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" Todos veem quem pagou e quem recebeu"}),e.jsx("li",{children:" Contratos digitais claros"}),e.jsx("li",{children:" Sistema de lembretes automticos"}),e.jsx("li",{children:" Rastreabilidade completa"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Organizao Garantida"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Esquea planilhas, grupos de WhatsApp confusos e cobranas manuais. O Juntix cuida de toda a gesto para voc."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Sem Burocracia"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" No precisa de anlise de crdito"}),e.jsx("li",{children:" Sem consulta ao SPC/Serasa"}),e.jsx("li",{children:" Sem garantias ou avalistas"}),e.jsx("li",{children:" Cadastro rpido e simples"})]})]})]})]})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Para quem  ideal?"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Quem precisa de dinheiro para realizar sonhos (viagem, reforma, casamento)"})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Empreendedores que precisam de capital de giro"})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Quem quer comprar algo parcelado sem juros bancrios"})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:'Grupos que j fazem "caixinha" e querem profissionalizar'})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Quem busca alternativa aos juros altos dos bancos"})]})]})]}),e.jsxs(Pe,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Como funciona o Fundo de Reserva?"}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:["No primeiro ms,  formado um ",e.jsx("span",{className:"font-semibold text-blue-600",children:"Fundo de Reserva"})," para garantir a segurana de todos os participantes."]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Exemplo prtico:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-700",children:[e.jsx("li",{children:" Valor da parcela: R$ 1.000"}),e.jsx("li",{children:" Grupo de 10 pessoas"}),e.jsxs("li",{children:[" ",e.jsx("span",{className:"font-bold text-green-600",children:"Cada um contribui com apenas R$ 100 extras no 1 ms"})]}),e.jsx("li",{children:" Total do Fundo de Reserva: R$ 1.000"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""})," O melhor: o Fundo  devolvido!"]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Ao final de ",e.jsx("span",{className:"font-bold text-blue-600",children:"10 meses"})," (durao do grupo de 10 participantes), o Fundo de Reserva  ",e.jsx("span",{className:"font-bold text-green-600",children:"devolvido para todos"}),"!"]}),e.jsxs("p",{className:"text-sm text-gray-700 bg-white rounded p-3 border border-green-300",children:[" ",e.jsx("span",{className:"font-semibold",children:"Importante:"})," O fundo  dividido por ",e.jsx("span",{className:"font-bold text-blue-600",children:"11 partes"}),"(10 participantes + Juntix como participante). Essa  a ",e.jsx("span",{className:"font-bold text-green-600",children:"nica forma de lucro da plataforma"}),", o que  totalmente justo! Uma ferramenta fantstica que protege o grupo e ainda permite que a plataforma se sustente."]})]})]}),e.jsxs(Pe,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" O Papel do Administrador/Gestor"}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:["Cada grupo tem um ",e.jsx("span",{className:"font-semibold text-blue-600",children:"Administrador"})," responsvel por:"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700 mb-4",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Recrutar"})," pessoas de confiana para o grupo"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Organizar"})," os pagamentos e o calendrio"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Cobrar a adimplncia"})," e garantir que todos paguem em dia"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Engajar"})," o grupo e manter a comunicao ativa"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Policiar"})," e mediar conflitos se necessrio"]})]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[e.jsxs("h4",{className:"font-semibold text-amber-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""})," Recompensa justa pelo trabalho"]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["O administrador recebe ",e.jsx("span",{className:"font-bold text-green-600",children:"10% do valor total do caixa"}),", mas com uma condio importante:"]}),e.jsxs("p",{className:"text-sm text-gray-700 bg-white rounded p-3 border border-amber-300",children:[" ",e.jsx("span",{className:"font-bold",children:"S recebe ao final se tudo der certo ms a ms!"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-3",children:["Isso significa que o administrador tem um ",e.jsx("span",{className:"font-semibold",children:"baita trabalho"})," e uma",e.jsx("span",{className:"font-semibold",children:" grande responsabilidade"}),": garantir que todos paguem, que o grupo permanea unido e que tudo funcione perfeitamente at o fim."]}),e.jsx("p",{className:"text-sm text-green-700 font-semibold mt-2",children:" um incentivo perfeito: quanto melhor o trabalho do administrador, maior a recompensa!"})]})]}),e.jsxs(Pe,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Diferenciais do Juntix"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Critrio"}),e.jsx("th",{className:"text-center py-3 px-2 font-semibold text-green-700 bg-green-50",children:"Juntix"}),e.jsx("th",{className:"text-center py-3 px-2 font-semibold text-gray-700",children:"Emprstimo Bancrio"}),e.jsx("th",{className:"text-center py-3 px-2 font-semibold text-gray-700",children:"Consrcio"})]})}),e.jsxs("tbody",{className:"text-xs md:text-sm",children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Taxa/Juros"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"R$ 10"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"5-15% ao ms"}),e.jsx("td",{className:"py-3 px-2 text-center text-amber-600",children:"Taxas altas"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Anlise de crdito"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"No precisa"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Score alto exigido"}),e.jsx("td",{className:"py-3 px-2 text-center text-amber-600",children:"Documentao extensa"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Tempo para receber"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"At 10 meses"}),e.jsx("td",{className:"py-3 px-2 text-center text-amber-600",children:"Parcelas com juros"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Sorteio/lance"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Processo"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"Digital e rpido"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Burocrtico"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Demorado"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Proteo"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"Fundo devolvido"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Sem proteo"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Sem fundo"})]})]})]})})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-3",children:" O Juntix  a evoluo do caixa tradicional"}),e.jsx("p",{className:"text-sm leading-relaxed mb-4 text-green-50",children:"Mantemos o que sempre funcionou (a fora da unio e da confiana) e eliminamos o que era complicado (desorganizao, falta de controle, cobranas manuais)."}),e.jsx("p",{className:"text-lg font-semibold",children:"Junte-se ao Juntix e realize seus objetivos com a ajuda de quem voc confia! "})]})]})}const M=async()=>{if(a?._id)try{u(!0);const E=await kt.getByAdmin(a._id),B=Array.isArray(E)?E:E.caixas||[],q=B.reduce((I,te)=>I+Kv(te.valorTotal||0),0),Q=B.map(I=>({id:I._id,nome:I.nome,status:I.status,tipo:I.tipo||"mensal",valorTotal:I.valorTotal,valorParcela:I.valorParcela,participantes:I.participantesAtivos??I.qtdParticipantes??0,qtdParticipantes:I.qtdParticipantes,mesAtual:I.mesAtual||1,duracaoMeses:I.duracaoMeses,ganhoEstimado:Kv(I.valorTotal)})),se=await Promise.all(Q.map(async I=>{try{const te=await en.getEstatisticasCaixa(I.id);return{id:I.id,pagos:te.pagos||0,pendentes:te.pendentes||I.qtdParticipantes}}catch{return{id:I.id,pagos:0,pendentes:I.qtdParticipantes}}})),J=Q.map(I=>{const te=se.find(ie=>ie.id===I.id);return{...I,stats:{pagos:te?.pagos||0,pendentes:te?.pendentes||I.qtdParticipantes}}});c({resumo:{totalCaixas:B.length,caixasAtivos:B.filter(I=>I.status==="ativo").length,caixasFinalizados:B.filter(I=>I.status==="finalizado").length,totalParticipantes:B.reduce((I,te)=>I+(te.participantesAtivos||te.qtdParticipantes||0),0),ganhosAcumulados:0,ganhosPrevistos:q},caixas:J})}catch(E){console.error("Erro ao carregar dashboard:",E),c({resumo:{totalCaixas:0,caixasAtivos:0,caixasFinalizados:0,totalParticipantes:0,ganhosAcumulados:0,ganhosPrevistos:0},caixas:[]})}finally{u(!1)}},O=!i?.caixas||i.caixas.length===0?0:i.caixas.reduce((E,B)=>E+B.valorTotal*.1,0),D=Jv(f),k=f*.48;return d?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[1,2,3,4].map(E=>e.jsx(ws,{},E))}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(E=>e.jsx(ws,{},E))})]}):e.jsxs(De.div,{variants:kP,initial:"hidden",animate:"show",className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ol,"}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:a?.nome?.split(" ")[0]}),e.jsx(ot,{variant:"info",size:"sm",children:"Administrador"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[" Score: ",a?.score??70]})]}),a?.tipo!=="usuario"&&e.jsxs(e.Fragment,{children:[a?.tipo==="administrador"&&a?.taxaAdesao?.status!=="pago"&&a?.taxaAdesao?.status!=="isento"&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6 flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-amber-800",children:" Taxa de Adeso Pendente"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Para criar caixas e gerenciar participantes,  necessrio realizar o pagamento da taxa de adeso."})]}),e.jsx(ae,{variant:"primary",size:"sm",className:"bg-amber-600 hover:bg-amber-700 whitespace-nowrap",onClick:()=>o("/taxa-adesao"),children:"Pagar Agora"})]}),(a?.taxaAdesao?.status==="pago"||a?.taxaAdesao?.status==="isento"||a?.tipo==="master")&&e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{variant:"primary",onClick:()=>o("/caixas/novo"),leftIcon:e.jsx(Ml,{className:"w-4 h-4"}),children:"Criar Caixa"}),e.jsx(ae,{variant:"secondary",onClick:()=>o("/participantes"),leftIcon:e.jsx(aa,{className:"w-4 h-4"}),children:"Participantes"})]})})]}),e.jsx(De.div,{variants:dn,className:"mb-6 mt-2",children:e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs(Pe,{className:"bg-gradient-to-br from-amber-50 to-amber-100/50 border-amber-200/50",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-amber-700 font-medium mb-1",children:"Score de Confiana"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl md:text-4xl font-bold text-amber-600",children:a?.score||70}),e.jsx(Rl,{className:"w-5 h-5 text-amber-500"})]})]})}),e.jsxs("p",{className:"text-[10px] md:text-xs text-amber-600 flex items-center gap-1",children:[e.jsx(iu,{className:"w-3 h-3"}),"Complete mais 1 caixa para virar ",e.jsx("span",{className:"font-bold",children:"Parceiro Prata!"})]})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-green-50 to-green-100/50 border-green-200/50",children:[e.jsx("p",{className:"text-xs text-green-700 font-medium mb-1",children:"Caixas Ativos"}),e.jsx("p",{className:"text-3xl md:text-4xl font-bold text-green-600",children:i?.resumo.caixasAtivos||0}),e.jsxs("p",{className:"text-xs text-green-500 mt-1",children:[i?.resumo.caixasFinalizados||0," concludos"]})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 border-emerald-200/50",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Ll,{className:"w-3.5 h-3.5 text-emerald-600"}),e.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:"Ganhos Acumulados"})]}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-emerald-600",children:we(i?.resumo.ganhosAcumulados||0)})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 border-blue-200/50",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Ll,{className:"w-3.5 h-3.5 text-blue-600"}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Ganhos Previstos"})]}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-blue-600",children:we(O||0)}),e.jsxs("p",{className:"text-[10px] text-blue-500 mt-1",children:[i?.caixas.length||0," caixa",(i?.caixas.length||0)!==1?"s":"","  10% do valor"]})]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500",children:"Comparativo de Crdito"}),e.jsx("div",{className:"flex gap-2",children:_P.map(E=>e.jsx("button",{onClick:()=>p(E.valor),className:ve("px-3 py-1.5 rounded-lg text-xs font-medium transition-all",f===E.valor?"bg-green-500 text-white shadow-lg shadow-green-500/25":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:E.label},E.valor))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-xs text-gray-500 border-b border-gray-100",children:[e.jsx("th",{className:"text-left py-2 font-medium",children:"Modalidade"}),e.jsx("th",{className:"text-right py-2 font-medium",children:"Valor Final"}),e.jsx("th",{className:"text-right py-2 font-medium",children:"Juros"}),e.jsx("th",{className:"text-right py-2 font-medium",children:"Economia"})]})}),e.jsx("tbody",{children:D.map(E=>e.jsxs("tr",{className:ve("border-b border-gray-50 last:border-0",E.highlight&&"bg-green-50"),children:[e.jsx("td",{className:ve("py-3 font-medium",E.highlight?"text-green-700":"text-gray-700"),children:E.nome}),e.jsx("td",{className:ve("py-3 text-right font-bold",E.color),children:we(E.valor)}),e.jsx("td",{className:"py-3 text-right text-gray-500 text-sm",children:E.juros}),e.jsx("td",{className:"py-3 text-right",children:E.highlight?e.jsx("span",{className:"text-green-600 font-bold",children:"Melhor opo"}):e.jsxs("span",{className:"text-green-600 font-semibold",children:["-",E.economia,"%"]})})]},E.nome))})]})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-3 text-center bg-green-50 p-2 rounded-lg",children:[" Com Juntix voc economiza at ",e.jsx("strong",{className:"text-green-600",children:we(k)})," (",e.jsx("strong",{className:"text-green-600",children:"32%"}),") comparado ao agiota!"]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6 bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Juntix"}),e.jsx("p",{className:"text-lg text-green-700 font-semibold mb-4",children:"Contribuio Coletiva Simplificada"}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:['O Juntix  uma plataforma digital que moderniza o tradicional "caixa" ou "consrcio informal" que voc j conhece. Transformamos uma prtica antiga e confivel em uma experincia',e.jsx("span",{className:"font-semibold text-green-700",children:" 100% digital, segura e transparente"}),"."]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""})," Como funciona?"]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:" simples: um grupo de pessoas de confiana se rene e todos contribuem com parcelas mensais iguais. A cada ms, um participante recebe o valor total acumulado, at que todos tenham recebido sua vez.  como uma vaquinha rotativa entre amigos!"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Exemplo prtico:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"10 amigos formam um grupo"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Cada um paga R$ 1.000 por ms"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Todo ms, um participante recebe R$ 10.000"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Em 10 meses, todos tero recebido"})]})]})]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Principais Vantagens"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Custo Ultra Baixo"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Apenas ",e.jsx("span",{className:"font-bold text-green-600",children:"R$ 10 de taxa por boleto"})," - muito mais acessvel que emprstimos bancrios, financiamentos ou consrcios tradicionais."]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Acesso Rpido a Valores Altos"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Receba at ",e.jsx("span",{className:"font-bold text-green-600",children:"R$ 10.000"})," (ou mais, dependendo do grupo) sem burocracia, anlise de crdito ou juros abusivos."]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Baseado em Confiana"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Forme grupos com pessoas que voc conhece: amigos, familiares, colegas de trabalho. A base  a confiana mtua."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"100% Digital"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" Gesto completa pelo app ou site"}),e.jsx("li",{children:" Pagamentos via boleto ou PIX "}),e.jsx("li",{children:" Notificaes automticas"}),e.jsx("li",{children:" Histrico transparente de todas as transaes"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Segurana e Transparncia"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" Todos veem quem pagou e quem recebeu"}),e.jsx("li",{children:" Contratos digitais claros"}),e.jsx("li",{children:" Sistema de lembretes automticos"}),e.jsx("li",{children:" Rastreabilidade completa"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Organizao Garantida"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Esquea planilhas, grupos de WhatsApp confusos e cobranas manuais. O Juntix cuida de toda a gesto para voc."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Sem Burocracia"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" No precisa de anlise de crdito"}),e.jsx("li",{children:" Sem consulta ao SPC/Serasa"}),e.jsx("li",{children:" Sem garantias ou avalistas"}),e.jsx("li",{children:" Cadastro rpido e simples"})]})]})]})]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Para quem  ideal?"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Quem precisa de dinheiro para realizar sonhos (viagem, reforma, casamento)"})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Empreendedores que precisam de capital de giro"})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Quem quer comprar algo parcelado sem juros bancrios"})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:'Grupos que j fazem "caixinha" e querem profissionalizar'})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Quem busca alternativa aos juros altos dos bancos"})]})]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Como funciona o Fundo de Reserva?"}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:["No primeiro ms,  formado um ",e.jsx("span",{className:"font-semibold text-blue-600",children:"Fundo de Reserva"})," para garantir a segurana de todos os participantes."]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Exemplo prtico:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-700",children:[e.jsx("li",{children:" Valor da parcela: R$ 1.000"}),e.jsx("li",{children:" Grupo de 10 pessoas"}),e.jsxs("li",{children:[" ",e.jsx("span",{className:"font-bold text-green-600",children:"Cada um contribui com apenas R$ 100 extras no 1 ms"})]}),e.jsx("li",{children:" Total do Fundo de Reserva: R$ 1.000"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""})," O melhor: o Fundo  devolvido!"]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Ao final de ",e.jsx("span",{className:"font-bold text-blue-600",children:"10 meses"})," (durao do grupo de 10 participantes), o Fundo de Reserva  ",e.jsx("span",{className:"font-bold text-green-600",children:"devolvido para todos"}),"!"]}),e.jsxs("p",{className:"text-sm text-gray-700 bg-white rounded p-3 border border-green-300",children:[" ",e.jsx("span",{className:"font-semibold",children:"Importante:"})," O fundo  dividido por ",e.jsx("span",{className:"font-bold text-blue-600",children:"11 partes"}),"(10 participantes + Juntix como participante). Essa  a ",e.jsx("span",{className:"font-bold text-green-600",children:"nica forma de lucro da plataforma"}),", o que  totalmente justo! Uma ferramenta fantstica que protege o grupo e ainda permite que a plataforma se sustente."]})]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" O Papel do Administrador/Gestor"}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:["Cada grupo tem um ",e.jsx("span",{className:"font-semibold text-blue-600",children:"Administrador"})," responsvel por:"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700 mb-4",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Recrutar"})," pessoas de confiana para o grupo"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Organizar"})," os pagamentos e o calendrio"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Cobrar a adimplncia"})," e garantir que todos paguem em dia"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Engajar"})," o grupo e manter a comunicao ativa"]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Policiar"})," e mediar conflitos se necessrio"]})]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[e.jsxs("h4",{className:"font-semibold text-amber-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""})," Recompensa justa pelo trabalho"]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["O administrador recebe ",e.jsx("span",{className:"font-bold text-green-600",children:"10% do valor total do caixa"}),", mas com uma condio importante:"]}),e.jsxs("p",{className:"text-sm text-gray-700 bg-white rounded p-3 border border-amber-300",children:[" ",e.jsx("span",{className:"font-bold",children:"S recebe ao final se tudo der certo ms a ms!"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-3",children:["Isso significa que o administrador tem um ",e.jsx("span",{className:"font-semibold",children:"baita trabalho"})," e uma",e.jsx("span",{className:"font-semibold",children:" grande responsabilidade"}),": garantir que todos paguem, que o grupo permanea unido e que tudo funcione perfeitamente at o fim."]}),e.jsx("p",{className:"text-sm text-green-700 font-semibold mt-2",children:" um incentivo perfeito: quanto melhor o trabalho do administrador, maior a recompensa!"})]})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Diferenciais do Juntix"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Critrio"}),e.jsx("th",{className:"text-center py-3 px-2 font-semibold text-green-700 bg-green-50",children:"Juntix"}),e.jsx("th",{className:"text-center py-3 px-2 font-semibold text-gray-700",children:"Emprstimo Bancrio"}),e.jsx("th",{className:"text-center py-3 px-2 font-semibold text-gray-700",children:"Consrcio"})]})}),e.jsxs("tbody",{className:"text-xs md:text-sm",children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Taxa/Juros"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"R$ 10"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"5-15% ao ms"}),e.jsx("td",{className:"py-3 px-2 text-center text-amber-600",children:"Taxas altas"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Anlise de crdito"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"No precisa"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Score alto exigido"}),e.jsx("td",{className:"py-3 px-2 text-center text-amber-600",children:"Documentao extensa"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Tempo para receber"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"At 10 meses"}),e.jsx("td",{className:"py-3 px-2 text-center text-amber-600",children:"Parcelas com juros"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Sorteio/lance"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Processo"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"Digital e rpido"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Burocrtico"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Demorado"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-2 text-gray-700",children:"Proteo"}),e.jsx("td",{className:"py-3 px-2 text-center bg-green-50 font-semibold text-green-700",children:"Fundo devolvido"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Sem proteo"}),e.jsx("td",{className:"py-3 px-2 text-center text-red-600",children:"Sem fundo"})]})]})]})})]})}),e.jsx(De.div,{variants:dn,children:e.jsxs(Pe,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-3",children:" O Juntix  a evoluo do caixa tradicional"}),e.jsx("p",{className:"text-sm leading-relaxed mb-4 text-green-50",children:"Mantemos o que sempre funcionou (a fora da unio e da confiana) e eliminamos o que era complicado (desorganizao, falta de controle, cobranas manuais)."}),e.jsx("p",{className:"text-lg font-semibold",children:"Junte-se ao Juntix e realize seus objetivos com a ajuda de quem voc confia! "})]})})]})}function wu({icon:a,title:n,description:o,actionLabel:i,onAction:c,secondaryActionLabel:d,onSecondaryAction:u}){return e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(a,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:n}),e.jsx("p",{className:"text-sm text-gray-500 max-w-xs mb-4",children:o}),i&&c||d&&u?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs",children:[i&&c&&e.jsx(ae,{onClick:c,variant:"primary",className:"flex-1",children:i}),d&&u&&e.jsx(ae,{onClick:u,variant:"secondary",className:"flex-1",children:d})]}):null]})}function OP({value:a,max:n=100,className:o,color:i="primary",showLabel:c=!1,size:d="md"}){const u=Math.min(a/n*100,100),f={primary:"bg-primary-500",success:"bg-green-500",warning:"bg-amber-500",danger:"bg-danger-500"},p={sm:"h-1.5",md:"h-2",lg:"h-3"};return e.jsxs("div",{className:ve("w-full",o),children:[c&&e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Progresso"}),e.jsxs("span",{className:"font-medium text-gray-700",children:[Math.round(u),"%"]})]}),e.jsx("div",{className:ve("w-full bg-gray-200 rounded-full overflow-hidden",p[d]),children:e.jsx(De.div,{initial:{width:0},animate:{width:`${u}%`},transition:{duration:.5,ease:"easeOut"},className:ve("h-full rounded-full",f[i])})})]})}const BP=[{value:"",label:"Todos"},{value:"ativo",label:"Em Andamento"},{value:"aguardando",label:"Aguardando Participantes"},{value:"nao_iniciados",label:"No iniciados"},{value:"finalizado",label:"Finalizados"}];function LP(){const{usuario:a}=Da(),n=Ba(),[o,i]=y.useState([]),[c,d]=y.useState(!0),[u,f]=y.useState(""),[p,h]=y.useState("");y.useEffect(()=>{g()},[a,p]);const b=N=>{try{const M=localStorage.getItem(`caixa_${N}_participantes`);if(M){const _=JSON.parse(M);return Array.isArray(_)?_.length:0}return 0}catch{return 0}},g=async()=>{if(a?._id)try{if(d(!0),a.tipo==="usuario"){const N=await ga.getByUsuario(a._id),_=(Array.isArray(N)?N:N?.participacoes||[]).map(D=>{const k=D.caixaId||{};return{_id:k._id||D.caixaId||`caixa-${D._id}`,nome:k.nome||D.nomeCaixa||"Caixa",descricao:k.descricao,valorTotal:k.valorTotal||0,valorParcela:k.valorParcela||0,qtdParticipantes:k.qtdParticipantes,duracaoMeses:k.duracaoMeses,status:k.status||"aguardando",mesAtual:k.mesAtual||1,tipo:k.tipo||"mensal",dataInicio:k.dataInicio,codigoConvite:k.codigoConvite||"",participantesAtivos:k.participantesAtivos||0,adminNome:k.adminId?.nome||""}}),O=await Promise.all(_.map(async D=>{try{const k=await kt.getById(D._id);let E=k.participantesAtivos||0;if(E===0)try{const B=await ga.getByCaixa(D._id);E=(Array.isArray(B)?B:B?.participantes||[]).length}catch(B){console.error(`Error counting participants for caixa ${D._id}:`,B)}return{...D,qtdParticipantes:k.qtdParticipantes,duracaoMeses:k.duracaoMeses,tipo:k.tipo,participantesAtivos:E}}catch(k){return console.error(`Error fetching caixa ${D._id}:`,k),D}}));i(O)}else{let N;a.tipo==="master"?N=await kt.getAll():N=await kt.getByAdmin(a._id);const _=(Array.isArray(N)?N:N.caixas||[]).map(k=>({_id:k._id,nome:k.nome,descricao:k.descricao,valorTotal:k.valorTotal,valorParcela:k.valorParcela,qtdParticipantes:k.qtdParticipantes,duracaoMeses:k.duracaoMeses,status:k.status,mesAtual:k.mesAtual||1,tipo:k.tipo||"mensal",dataInicio:k.dataInicio,codigoConvite:k.codigoConvite,participantesAtivos:b(k._id)||k.participantesAtivos||k.qtdParticipantes||0,adminNome:typeof k.adminId=="string"?"":k.adminId?.nome||""})),O=await Promise.all(_.map(async k=>{try{const E=await en.getEstatisticasCaixa(k._id);return{id:k._id,pagos:E.pagos||0,pendentes:E.pendentes||k.qtdParticipantes}}catch{return{id:k._id,pagos:0,pendentes:k.qtdParticipantes}}})),D=_.map(k=>{const E=O.find(B=>B.id===k._id);return{...k,stats:{pagos:E?.pagos||0,pendentes:E?.pendentes||k.qtdParticipantes}}});if(a.tipo==="administrador"||a.tipo==="master"){const k=await Promise.all(D.map(async B=>{try{const q=await o1.getComissaoCaixa(a._id,B.valorTotal);return{id:B._id,comissaoInfo:{taxaPercentual:q.taxaPercentual,valorComissao:q.valorComissao}}}catch(q){return console.error(`Erro ao buscar comisso para caixa ${B._id}:`,q),{id:B._id,comissaoInfo:null}}})),E=D.map(B=>{const q=k.find(Q=>Q.id===B._id);return q?.comissaoInfo?{...B,comissaoInfo:q.comissaoInfo}:B});i(E)}else i(D)}}catch(N){console.error("Erro ao carregar caixas:",N);const _=[{_id:"1",nome:"Caixa da Famlia",descricao:"Caixa mensal da famlia Silva",valorTotal:5e3,valorParcela:500,qtdParticipantes:10,duracaoMeses:10,status:"ativo",mesAtual:4,codigoConvite:"FAM2024",participantesAtivos:10},{_id:"2",nome:"Caixa do Trabalho",valorTotal:4e3,valorParcela:500,qtdParticipantes:8,duracaoMeses:8,status:"aguardando",mesAtual:0,codigoConvite:"WORK24",participantesAtivos:6},{_id:"3",nome:"Caixa Vizinhos",valorTotal:6e3,valorParcela:500,qtdParticipantes:12,duracaoMeses:12,status:"aguardando",mesAtual:0,codigoConvite:"VIZ2024",participantesAtivos:0},{_id:"4",nome:"Caixa Igreja",valorTotal:3e3,valorParcela:300,qtdParticipantes:10,duracaoMeses:10,status:"ativo",mesAtual:9,codigoConvite:"IGR2024",participantesAtivos:10},{_id:"5",nome:"Novo Caixa",valorTotal:5e3,valorParcela:500,qtdParticipantes:10,duracaoMeses:10,status:"rascunho",mesAtual:0,codigoConvite:"NOVO24",participantesAtivos:3}].map(O=>({...O,participantesAtivos:b(O._id)||O.participantesAtivos||0}));i(_)}finally{d(!1)}};y.useEffect(()=>{if(!o||o.length===0)return;let N;return N=setInterval(async()=>{try{const _=await Promise.all(o.map(async O=>{try{const D=await en.getEstatisticasCaixa(O._id);return{id:O._id,pagos:D.pagos||0,pendentes:D.pendentes??O.qtdParticipantes}}catch{return{id:O._id,pagos:O.stats?.pagos||0,pendentes:O.stats?.pendentes??O.qtdParticipantes}}}));i(O=>O.map(D=>{const k=_.find(E=>E.id===D._id);return k?{...D,stats:{pagos:k.pagos,pendentes:k.pendentes}}:D}))}catch{}},5e3),()=>{N&&clearInterval(N)}},[o]);const v=o.filter(N=>{const M=N.nome.toLowerCase().includes(u.toLowerCase());if(!p)return M;if(p==="ativo")return M&&N.status==="ativo";if(p==="aguardando")return M&&N.status==="aguardando";if(p==="finalizado")return M&&N.status==="finalizado";if(p==="nao_iniciados"){const O=(N.participantesAtivos||0)>=(N.qtdParticipantes||0);return M&&O&&N.status!=="ativo"}return M}),A=N=>({ativo:"success",aguardando:"warning",pausado:"warning",rascunho:"gray",finalizado:"info",cancelado:"danger"})[N]||"gray",w=N=>({ativo:"Em andamento",aguardando:"Aguardando participantes",pausado:"Pausado",rascunho:"No iniciado",finalizado:"Finalizado",cancelado:"Cancelado"})[N]||N,S=[...v].sort((N,M)=>{const _=N.status==="ativo"?1:0,O=M.status==="ativo"?1:0;if(_!==O)return O-_;if(_===1&&O===1){const q=N.stats?.pagos||0,Q=M.stats?.pagos||0;if(q!==Q)return Q-q}const D=N.participantesAtivos||0,k=M.participantesAtivos||0,E=D<N.qtdParticipantes,B=k<M.qtdParticipantes;return E&&!B?1:B&&!E?-1:0});return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6","data-testid":"page-caixas",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"caixas-title",children:"Meus Caixas"}),e.jsxs("p",{className:"text-sm text-gray-500","data-testid":"caixas-count",children:[o.length," caixas no total"]})]}),a?.tipo!=="usuario"&&e.jsx(ae,{onClick:()=>n("/caixas/novo"),leftIcon:e.jsx(Ml,{className:"w-4 h-4"}),"data-testid":"btn-novo-caixa",children:"Novo Caixa"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ke,{placeholder:"Buscar caixa...",value:u,onChange:N=>f(N.target.value),leftIcon:e.jsx(li,{className:"w-4 h-4"}),"data-testid":"input-search"})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0","data-testid":"filter-container",children:BP.map(N=>e.jsx("button",{onClick:()=>h(N.value),className:ve("px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all",p===N.value?"bg-green-500 text-white shadow-lg":"bg-white text-gray-600 border border-gray-200 hover:border-green-300"),style:p===N.value?{boxShadow:"0 4px 14px rgba(34, 197, 94, 0.3)"}:{},"data-testid":`filter-${N.value||"todos"}`,children:N.label},N.value))})]}),c?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(N=>e.jsx(ws,{},N))}):S.length>0?e.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map((N,M)=>{const _=N.participantesAtivos||0,O=N.qtdParticipantes-_,D=_===0,k=O>0&&!D,E=O===0,B=SP(N.tipo,N.dataInicio,N.duracaoMeses,N.mesAtual||1),q=(N.qtdParticipantes||0)*(N.duracaoMeses||0),Q=N.stats?.pagos||0,se=Math.max(0,q-Q),J=N.tipo==="diario"?"dias":N.tipo==="semanal"?"semanas":"meses",I=N.tipo==="diario"?"Dia":N.tipo==="semanal"?"Semana":"Ms";return e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},children:e.jsxs(Pe,{hover:!0,onClick:()=>n(`/caixas/${N._id}`),className:ve("min-h-[240px] h-full",D&&"ring-2 ring-red-300 bg-gradient-to-br from-red-50 to-white",k&&"ring-2 ring-amber-300 bg-gradient-to-br from-amber-50 to-white",!D&&!k&&N.status==="ativo"&&"ring-2 ring-green-300 bg-gradient-to-br from-green-50 to-white",N.status==="finalizado"&&"ring-2 ring-violet-300 bg-gradient-to-br from-violet-50 to-white"),"data-testid":`caixa-card-${N._id}`,children:[D&&a?.tipo!=="usuario"&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-100 rounded-lg mb-3 -mt-1",children:[e.jsx(wr,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-xs font-semibold text-red-700",children:"Sem participantes! Adicione agora"})]}),k&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-amber-100 rounded-lg mb-3 -mt-1",children:[e.jsx(aa,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-xs font-semibold text-amber-700",children:["Faltam ",O," participante",O>1?"s":""]})]}),E&&N.status==="aguardando"&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-100 rounded-lg mb-3 -mt-1",children:[e.jsx(Mt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-xs font-semibold text-green-700",children:"Completo! Pronto para iniciar"})]}),N.status==="ativo"&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-500 rounded-lg mb-3 -mt-1",children:[e.jsx(Kr,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Em andamento"})]}),N.status==="finalizado"&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-violet-500 rounded-lg mb-3 -mt-1",children:[e.jsx(Mt,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Caixa Finalizado com Sucesso!"})]}),e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1","data-testid":`caixa-nome-${N._id}`,children:N.nome}),e.jsxs("div",{className:"flex items-baseline gap-1 mt-1",children:[e.jsx("p",{className:"text-lg font-bold text-green-600","data-testid":`caixa-valor-${N._id}`,children:we(N.valorTotal)}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium","data-testid":`caixa-parcela-info-${N._id}`,children:["- ",N.duracaoMeses,"x de ",we(N.valorParcela)]})]}),N.adminNome&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1","data-testid":`caixa-organizador-${N._id}`,children:["Organizado por: ",N.adminNome]})]}),e.jsx("div",{className:"flex flex-col gap-1 items-end","data-testid":`caixa-status-${N._id}`,children:N.status==="ativo"?e.jsxs(ot,{variant:"success",size:"sm",children:[I," ",B,"/",N.duracaoMeses]}):e.jsx(ot,{variant:A(N.status),size:"sm",children:E&&N.status==="aguardando"?"Pronto para iniciar":w(N.status)})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:ve("rounded-lg p-2 text-center",D?"bg-red-50":k?"bg-amber-50":"bg-gray-50"),"data-testid":`caixa-participantes-${N._id}`,children:[e.jsx(aa,{className:ve("w-4 h-4 mx-auto mb-1",D?"text-red-400":k?"text-amber-400":"text-gray-400")}),e.jsx("p",{className:"text-xs text-gray-500",children:"Participantes"}),e.jsxs("p",{className:ve("font-semibold",D?"text-red-600":k?"text-amber-600":"text-gray-900"),children:[_,"/",N.qtdParticipantes]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center","data-testid":`caixa-parcela-${N._id}`,children:[e.jsx(Wt,{className:"w-4 h-4 mx-auto text-gray-400 mb-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Parcela"}),e.jsx("p",{className:"font-semibold text-gray-900",children:we(N.valorParcela)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center","data-testid":`caixa-duracao-${N._id}`,children:[e.jsx(Ta,{className:"w-4 h-4 mx-auto text-gray-400 mb-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Durao"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[N.duracaoMeses," ",J]})]})]}),N.status==="ativo"&&e.jsx(OP,{value:B,max:N.duracaoMeses,color:"primary",size:"sm"}),(D||k)&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Participantes"}),e.jsxs("span",{className:D?"text-red-600":"text-amber-600",children:[_,"/",N.qtdParticipantes]})]}),e.jsx("div",{className:ve("h-2 rounded-full overflow-hidden",D?"bg-red-100":"bg-amber-100"),children:e.jsx("div",{className:ve("h-full rounded-full transition-all",D?"bg-red-400":"bg-amber-400"),style:{width:`${_/N.qtdParticipantes*100}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[N.status==="ativo"?e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-green-600","data-testid":`caixa-pagos-${N._id}`,children:[e.jsx(Mt,{className:"w-4 h-4"}),Q," pagos"]}),e.jsxs("span",{className:"flex items-center gap-1 text-amber-600","data-testid":`caixa-pendentes-${N._id}`,children:[e.jsx(Vs,{className:"w-4 h-4"}),se," pendentes"]})]}):(D||k)&&a?.tipo!=="usuario"?e.jsxs("span",{className:ve("inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-lg",D?"text-red-600 bg-red-50":"text-amber-600 bg-amber-50"),children:[e.jsx(Il,{className:"w-3 h-3"}),"Clique para adicionar"]}):N.status==="finalizado"?e.jsx("span",{className:"text-sm text-gray-500",children:"Clique para visualizar detalhes"}):e.jsx("span",{className:"text-sm text-gray-500",children:"Pronto para iniciar"}),e.jsx(ju,{className:"w-5 h-5 text-gray-400"})]}),(a?.tipo==="administrador"||a?.tipo==="master")&&N.comissaoInfo&&e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-50 text-xs bg-gray-50/50 -mx-4 -mb-4 px-4 py-2 rounded-b-xl",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:["Sua comisso (",N.comissaoInfo.taxaPercentual,")"]}),e.jsxs("span",{className:"font-bold text-green-600",children:["+",we(N.comissaoInfo.valorComissao)]})]})]})},N._id)})}):e.jsx(wu,{icon:Wt,title:"Nenhum caixa encontrado",description:a?.tipo==="usuario"?"Voc ainda no participa de nenhum caixa. Aguarde um administrador adicionar voc a um grupo.":u?"Tente buscar com outros termos":"Crie seu primeiro caixa e comece a organizar!",actionLabel:a?.tipo!=="usuario"?"Criar Caixa":void 0,onAction:a?.tipo!=="usuario"?()=>n("/caixas/novo"):void 0})]})}var Gi={},cf={exports:{}},df,Zv;function IP(){if(Zv)return df;Zv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return df=a,df}var uf,Wv;function VP(){if(Wv)return uf;Wv=1;var a=IP();function n(){}function o(){}return o.resetWarningCache=n,uf=function(){function i(u,f,p,h,b,g){if(g!==a){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function c(){return i}var d={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:c,element:i,elementType:i,instanceOf:c,node:i,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:n};return d.PropTypes=d,d},uf}var ej;function m2(){return ej||(ej=1,cf.exports=VP()()),cf.exports}var mf,tj;function x2(){return tj||(tj=1,mf={L:1,M:0,Q:3,H:2}),mf}var xf,aj;function f2(){return aj||(aj=1,xf={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),xf}var ff,sj;function UP(){if(sj)return ff;sj=1;var a=f2();function n(o){this.mode=a.MODE_8BIT_BYTE,this.data=o}return n.prototype={getLength:function(o){return this.data.length},write:function(o){for(var i=0;i<this.data.length;i++)o.put(this.data.charCodeAt(i),8)}},ff=n,ff}var hf,nj;function qP(){if(nj)return hf;nj=1;var a=x2();function n(o,i){this.totalCount=o,this.dataCount=i}return n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(o,i){var c=n.getRsBlockTable(o,i);if(c==null)throw new Error("bad rs block @ typeNumber:"+o+"/errorCorrectLevel:"+i);for(var d=c.length/3,u=new Array,f=0;f<d;f++)for(var p=c[f*3+0],h=c[f*3+1],b=c[f*3+2],g=0;g<p;g++)u.push(new n(h,b));return u},n.getRsBlockTable=function(o,i){switch(i){case a.L:return n.RS_BLOCK_TABLE[(o-1)*4+0];case a.M:return n.RS_BLOCK_TABLE[(o-1)*4+1];case a.Q:return n.RS_BLOCK_TABLE[(o-1)*4+2];case a.H:return n.RS_BLOCK_TABLE[(o-1)*4+3];default:return}},hf=n,hf}var pf,rj;function $P(){if(rj)return pf;rj=1;function a(){this.buffer=new Array,this.length=0}return a.prototype={get:function(n){var o=Math.floor(n/8);return(this.buffer[o]>>>7-n%8&1)==1},put:function(n,o){for(var i=0;i<o;i++)this.putBit((n>>>o-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),n&&(this.buffer[o]|=128>>>this.length%8),this.length++}},pf=a,pf}var gf,ij;function h2(){if(ij)return gf;ij=1;for(var a={glog:function(o){if(o<1)throw new Error("glog("+o+")");return a.LOG_TABLE[o]},gexp:function(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return a.EXP_TABLE[o]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)a.EXP_TABLE[n]=1<<n;for(var n=8;n<256;n++)a.EXP_TABLE[n]=a.EXP_TABLE[n-4]^a.EXP_TABLE[n-5]^a.EXP_TABLE[n-6]^a.EXP_TABLE[n-8];for(var n=0;n<255;n++)a.LOG_TABLE[a.EXP_TABLE[n]]=n;return gf=a,gf}var bf,oj;function p2(){if(oj)return bf;oj=1;var a=h2();function n(o,i){if(o.length==null)throw new Error(o.length+"/"+i);for(var c=0;c<o.length&&o[c]==0;)c++;this.num=new Array(o.length-c+i);for(var d=0;d<o.length-c;d++)this.num[d]=o[d+c]}return n.prototype={get:function(o){return this.num[o]},getLength:function(){return this.num.length},multiply:function(o){for(var i=new Array(this.getLength()+o.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<o.getLength();d++)i[c+d]^=a.gexp(a.glog(this.get(c))+a.glog(o.get(d)));return new n(i,0)},mod:function(o){if(this.getLength()-o.getLength()<0)return this;for(var i=a.glog(this.get(0))-a.glog(o.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<o.getLength();d++)c[d]^=a.gexp(a.glog(o.get(d))+i);return new n(c,0).mod(o)}},bf=n,bf}var yf,lj;function FP(){if(lj)return yf;lj=1;var a=f2(),n=p2(),o=h2(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(d){for(var u=d<<10;c.getBCHDigit(u)-c.getBCHDigit(c.G15)>=0;)u^=c.G15<<c.getBCHDigit(u)-c.getBCHDigit(c.G15);return(d<<10|u)^c.G15_MASK},getBCHTypeNumber:function(d){for(var u=d<<12;c.getBCHDigit(u)-c.getBCHDigit(c.G18)>=0;)u^=c.G18<<c.getBCHDigit(u)-c.getBCHDigit(c.G18);return d<<12|u},getBCHDigit:function(d){for(var u=0;d!=0;)u++,d>>>=1;return u},getPatternPosition:function(d){return c.PATTERN_POSITION_TABLE[d-1]},getMask:function(d,u,f){switch(d){case i.PATTERN000:return(u+f)%2==0;case i.PATTERN001:return u%2==0;case i.PATTERN010:return f%3==0;case i.PATTERN011:return(u+f)%3==0;case i.PATTERN100:return(Math.floor(u/2)+Math.floor(f/3))%2==0;case i.PATTERN101:return u*f%2+u*f%3==0;case i.PATTERN110:return(u*f%2+u*f%3)%2==0;case i.PATTERN111:return(u*f%3+(u+f)%2)%2==0;default:throw new Error("bad maskPattern:"+d)}},getErrorCorrectPolynomial:function(d){for(var u=new n([1],0),f=0;f<d;f++)u=u.multiply(new n([1,o.gexp(f)],0));return u},getLengthInBits:function(d,u){if(1<=u&&u<10)switch(d){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:return 8;case a.MODE_KANJI:return 8;default:throw new Error("mode:"+d)}else if(u<27)switch(d){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+d)}else if(u<41)switch(d){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+d)}else throw new Error("type:"+u)},getLostPoint:function(d){for(var u=d.getModuleCount(),f=0,p=0;p<u;p++)for(var h=0;h<u;h++){for(var b=0,g=d.isDark(p,h),v=-1;v<=1;v++)if(!(p+v<0||u<=p+v))for(var A=-1;A<=1;A++)h+A<0||u<=h+A||v==0&&A==0||g==d.isDark(p+v,h+A)&&b++;b>5&&(f+=3+b-5)}for(var p=0;p<u-1;p++)for(var h=0;h<u-1;h++){var w=0;d.isDark(p,h)&&w++,d.isDark(p+1,h)&&w++,d.isDark(p,h+1)&&w++,d.isDark(p+1,h+1)&&w++,(w==0||w==4)&&(f+=3)}for(var p=0;p<u;p++)for(var h=0;h<u-6;h++)d.isDark(p,h)&&!d.isDark(p,h+1)&&d.isDark(p,h+2)&&d.isDark(p,h+3)&&d.isDark(p,h+4)&&!d.isDark(p,h+5)&&d.isDark(p,h+6)&&(f+=40);for(var h=0;h<u;h++)for(var p=0;p<u-6;p++)d.isDark(p,h)&&!d.isDark(p+1,h)&&d.isDark(p+2,h)&&d.isDark(p+3,h)&&d.isDark(p+4,h)&&!d.isDark(p+5,h)&&d.isDark(p+6,h)&&(f+=40);for(var S=0,h=0;h<u;h++)for(var p=0;p<u;p++)d.isDark(p,h)&&S++;var N=Math.abs(100*S/u/u-50)/5;return f+=N*10,f}};return yf=c,yf}var vf,cj;function HP(){if(cj)return vf;cj=1;var a=UP(),n=qP(),o=$P(),i=FP(),c=p2();function d(f,p){this.typeNumber=f,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=d.prototype;return u.addData=function(f){var p=new a(f);this.dataList.push(p),this.dataCache=null},u.isDark=function(f,p){if(f<0||this.moduleCount<=f||p<0||this.moduleCount<=p)throw new Error(f+","+p);return this.modules[f][p]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var p=n.getRSBlocks(f,this.errorCorrectLevel),h=new o,b=0,g=0;g<p.length;g++)b+=p[g].dataCount;for(var g=0;g<this.dataList.length;g++){var v=this.dataList[g];h.put(v.mode,4),h.put(v.getLength(),i.getLengthInBits(v.mode,f)),v.write(h)}if(h.getLengthInBits()<=b*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(f,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++){this.modules[h]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[h][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,p),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=d.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},u.setupPositionProbePattern=function(f,p){for(var h=-1;h<=7;h++)if(!(f+h<=-1||this.moduleCount<=f+h))for(var b=-1;b<=7;b++)p+b<=-1||this.moduleCount<=p+b||(0<=h&&h<=6&&(b==0||b==6)||0<=b&&b<=6&&(h==0||h==6)||2<=h&&h<=4&&2<=b&&b<=4?this.modules[f+h][p+b]=!0:this.modules[f+h][p+b]=!1)},u.getBestMaskPattern=function(){for(var f=0,p=0,h=0;h<8;h++){this.makeImpl(!0,h);var b=i.getLostPoint(this);(h==0||f>b)&&(f=b,p=h)}return p},u.createMovieClip=function(f,p,h){var b=f.createEmptyMovieClip(p,h),g=1;this.make();for(var v=0;v<this.modules.length;v++)for(var A=v*g,w=0;w<this.modules[v].length;w++){var S=w*g,N=this.modules[v][w];N&&(b.beginFill(0,100),b.moveTo(S,A),b.lineTo(S+g,A),b.lineTo(S+g,A+g),b.lineTo(S,A+g),b.endFill())}return b},u.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},u.setupPositionAdjustPattern=function(){for(var f=i.getPatternPosition(this.typeNumber),p=0;p<f.length;p++)for(var h=0;h<f.length;h++){var b=f[p],g=f[h];if(this.modules[b][g]==null)for(var v=-2;v<=2;v++)for(var A=-2;A<=2;A++)v==-2||v==2||A==-2||A==2||v==0&&A==0?this.modules[b+v][g+A]=!0:this.modules[b+v][g+A]=!1}},u.setupTypeNumber=function(f){for(var p=i.getBCHTypeNumber(this.typeNumber),h=0;h<18;h++){var b=!f&&(p>>h&1)==1;this.modules[Math.floor(h/3)][h%3+this.moduleCount-8-3]=b}for(var h=0;h<18;h++){var b=!f&&(p>>h&1)==1;this.modules[h%3+this.moduleCount-8-3][Math.floor(h/3)]=b}},u.setupTypeInfo=function(f,p){for(var h=this.errorCorrectLevel<<3|p,b=i.getBCHTypeInfo(h),g=0;g<15;g++){var v=!f&&(b>>g&1)==1;g<6?this.modules[g][8]=v:g<8?this.modules[g+1][8]=v:this.modules[this.moduleCount-15+g][8]=v}for(var g=0;g<15;g++){var v=!f&&(b>>g&1)==1;g<8?this.modules[8][this.moduleCount-g-1]=v:g<9?this.modules[8][15-g-1+1]=v:this.modules[8][15-g-1]=v}this.modules[this.moduleCount-8][8]=!f},u.mapData=function(f,p){for(var h=-1,b=this.moduleCount-1,g=7,v=0,A=this.moduleCount-1;A>0;A-=2)for(A==6&&A--;;){for(var w=0;w<2;w++)if(this.modules[b][A-w]==null){var S=!1;v<f.length&&(S=(f[v]>>>g&1)==1);var N=i.getMask(p,b,A-w);N&&(S=!S),this.modules[b][A-w]=S,g--,g==-1&&(v++,g=7)}if(b+=h,b<0||this.moduleCount<=b){b-=h,h=-h;break}}},d.PAD0=236,d.PAD1=17,d.createData=function(f,p,h){for(var b=n.getRSBlocks(f,p),g=new o,v=0;v<h.length;v++){var A=h[v];g.put(A.mode,4),g.put(A.getLength(),i.getLengthInBits(A.mode,f)),A.write(g)}for(var w=0,v=0;v<b.length;v++)w+=b[v].dataCount;if(g.getLengthInBits()>w*8)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+w*8+")");for(g.getLengthInBits()+4<=w*8&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=w*8||(g.put(d.PAD0,8),g.getLengthInBits()>=w*8));)g.put(d.PAD1,8);return d.createBytes(g,b)},d.createBytes=function(f,p){for(var h=0,b=0,g=0,v=new Array(p.length),A=new Array(p.length),w=0;w<p.length;w++){var S=p[w].dataCount,N=p[w].totalCount-S;b=Math.max(b,S),g=Math.max(g,N),v[w]=new Array(S);for(var M=0;M<v[w].length;M++)v[w][M]=255&f.buffer[M+h];h+=S;var _=i.getErrorCorrectPolynomial(N),O=new c(v[w],_.getLength()-1),D=O.mod(_);A[w]=new Array(_.getLength()-1);for(var M=0;M<A[w].length;M++){var k=M+D.getLength()-A[w].length;A[w][M]=k>=0?D.get(k):0}}for(var E=0,M=0;M<p.length;M++)E+=p[M].totalCount;for(var B=new Array(E),q=0,M=0;M<b;M++)for(var w=0;w<p.length;w++)M<v[w].length&&(B[q++]=v[w][M]);for(var M=0;M<g;M++)for(var w=0;w<p.length;w++)M<A[w].length&&(B[q++]=A[w][M]);return B},vf=d,vf}var wd={},dj;function GP(){if(dj)return wd;dj=1,Object.defineProperty(wd,"__esModule",{value:!0});var a=Object.assign||function(h){for(var b=1;b<arguments.length;b++){var g=arguments[b];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(h[v]=g[v])}return h},n=m2(),o=d(n),i=Vl(),c=d(i);function d(h){return h&&h.__esModule?h:{default:h}}function u(h,b){var g={};for(var v in h)b.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(h,v)&&(g[v]=h[v]);return g}var f={bgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,bgD:o.default.string.isRequired,fgColor:o.default.oneOfType([o.default.object,o.default.string]).isRequired,fgD:o.default.string.isRequired,size:o.default.number.isRequired,title:o.default.string,viewBoxSize:o.default.number.isRequired,xmlns:o.default.string},p=(0,i.forwardRef)(function(h,b){var g=h.bgColor,v=h.bgD,A=h.fgD,w=h.fgColor,S=h.size,N=h.title,M=h.viewBoxSize,_=h.xmlns,O=_===void 0?"http://www.w3.org/2000/svg":_,D=u(h,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return c.default.createElement("svg",a({},D,{height:S,ref:b,viewBox:"0 0 "+M+" "+M,width:S,xmlns:O}),N?c.default.createElement("title",null,N):null,c.default.createElement("path",{d:v,fill:g}),c.default.createElement("path",{d:A,fill:w}))});return p.displayName="QRCodeSvg",p.propTypes=f,wd.default=p,wd}var uj;function XP(){if(uj)return Gi;uj=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.QRCode=void 0;var a=Object.assign||function(S){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var _ in M)Object.prototype.hasOwnProperty.call(M,_)&&(S[_]=M[_])}return S},n=m2(),o=g(n),i=x2(),c=g(i),d=HP(),u=g(d),f=Vl(),p=g(f),h=GP(),b=g(h);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,N){var M={};for(var _ in S)N.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(S,_)&&(M[_]=S[_]);return M}var A={bgColor:o.default.oneOfType([o.default.object,o.default.string]),fgColor:o.default.oneOfType([o.default.object,o.default.string]),level:o.default.string,size:o.default.number,value:o.default.string.isRequired},w=(0,f.forwardRef)(function(S,N){var M=S.bgColor,_=M===void 0?"#FFFFFF":M,O=S.fgColor,D=O===void 0?"#000000":O,k=S.level,E=k===void 0?"L":k,B=S.size,q=B===void 0?256:B,Q=S.value,se=v(S,["bgColor","fgColor","level","size","value"]),J=new u.default(-1,c.default[E]);J.addData(Q),J.make();var I=J.modules;return p.default.createElement(b.default,a({},se,{bgColor:_,bgD:I.map(function(te,ie){return te.map(function(de,L){return de?"":"M "+L+" "+ie+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:D,fgD:I.map(function(te,ie){return te.map(function(de,L){return de?"M "+L+" "+ie+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:N,size:q,viewBoxSize:I.length}))});return Gi.QRCode=w,w.displayName="QRCode",w.propTypes=A,Gi.default=w,Gi}var YP=XP();const QP=ch(YP);function da({isOpen:a,onClose:n,title:o,children:i,size:c="md"}){const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"max-w-4xl mx-4"};return e.jsx(Jl,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:n}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsx(De.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:ve("w-full pointer-events-auto",d[c]),children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[o&&e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-100 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ih,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto",children:i})]})})})]})})}const KP=.0041,mj=10,JP=30,ZP=3e4,WP=6e4;function eD({isOpen:a,onClose:n,caixa:o,participante:i,onRefreshPagamentos:c,onPaidUpdate:d}){const[u,f]=y.useState(null),[p,h]=y.useState("pix"),[b,g]=y.useState(!1),[v,A]=y.useState(!1),[w,S]=y.useState(!1),[N,M]=y.useState(null),[_,O]=y.useState(!1),[D,k]=y.useState(new Map),E=y.useRef(!1),B=y.useRef(0),q=y.useRef(null),Q=y.useRef(null),se=y.useRef(!0),J=o?._id,I=i?._id,te=y.useMemo(()=>({log:(R,fe)=>{},error:(R,fe)=>{console.error(` ${R}`,fe)},warn:(R,fe)=>{console.warn(` ${R}`,fe)}}),[]),ie=y.useCallback(R=>R?.geradoEm?(Date.now()-new Date(R.geradoEm).getTime())/6e4>=JP:!1,[]),de=y.useCallback((R,fe,me)=>{try{const Ee=Array.isArray(R?.transactions)?R.transactions[0]:null,at=Ee?.value??R?.totalValue??0,Ue=R?.dueDate||R?.vencimento,Je=Ee?.createdAt||Ee?.created_at||R?.createdAt||R?.created_at,Be=[R?.status,R?.lytexStatus,R?.detailStatus,R?.local?.status].map(U=>String(U||"").toLowerCase()).filter(Boolean),rt=["paid","liquidated","settled","pago","inqueue","aprovado"],ge=R?.payedAt||R?.paidAt||R?.paid_at||R?.local?.data_pagamento,yt=!!ge||Be.some(U=>rt.includes(U)),At=Ee?.pix?.qrcode||R?.paymentMethods?.pix?.qrcode||R?.pix?.qrcode||"",ft=Ee?.pix?.emv||Ee?.pix?.qrcode||R?.paymentMethods?.pix?.emv||R?.pix?.copyPaste||"",F=Ee?.boleto?.barcode||R?.paymentMethods?.boleto?.barcode||R?.boleto?.barcode||"",Oe=Ee?.boleto?.digitableLine||R?.paymentMethods?.boleto?.digitableLine||R?.boleto?.digitableLine||"",ze={id:R?._id||R?.id||"",mes:fe,valor:Math.round(at)/100,descricao:me,status:yt?"pago":"pendente",dueDate:typeof Ue=="string"?Ue:void 0,paymentUrl:R?.linkCheckout||R?.paymentUrl,pix:At||ft?{qrCode:At,copiaCola:ft,geradoEm:Je}:void 0,boleto:F||Oe||R?.linkBoleto?{codigoBarras:F,linhaDigitavel:Oe,url:R?.linkBoleto}:void 0,ultimaAtualizacao:Date.now()};return yt&&(ze.detalhePagamento={pagoEm:ge,metodo:R?.paymentMethod||R?.method||R?.local?.metodo_pagamento,creditoEm:R?.creditAt||R?.credit_at,valorPago:R?.payedValue||R?.paidValue||R?.local?.valor,taxas:R?.rates||0}),ze}catch(Ee){return te.error("Erro ao normalizar cobrana",Ee),null}},[te]),L=y.useCallback(async(R=!1)=>{if(!J||!I||!se.current||E.current)return;const fe=Date.now()-B.current;if(!(!R&&fe<WP)){O(!0),E.current=!0,q.current&&q.current.abort(),q.current=new AbortController;try{const me=await Bn.syncStatus(J);if(!se.current||!me.success||!me.cobrancas)return;const Ee=me.cobrancas.filter(Ue=>String(Ue.participanteId)===String(I)),at=new Map;for(const Ue of Ee){const Je=Number(Ue.mesReferencia);if(!Je||Je<=0)continue;const Be=at.get(Je);if(Be?.status==="pago")continue;const rt=Ue.status==="PAGO";if(Be&&!rt)continue;const ge={id:Ue.lytexId||"",mes:Je,valor:Number(Ue.valor||0),descricao:`Pagamento Ms ${Je}`,status:rt?"pago":"pendente",dueDate:Ue.dataVencimento||void 0,paymentUrl:Ue.paymentUrl||void 0,pix:Ue.pix?{qrCode:Ue.pix.qrCode||"",copiaCola:Ue.pix.copiaCola||"",geradoEm:Ue.createdAt||void 0}:void 0,boleto:Ue.boleto?{codigoBarras:Ue.boleto.codigoBarras||"",linhaDigitavel:Ue.boleto.linhaDigitavel||"",url:Ue.boleto.url||void 0}:void 0,ultimaAtualizacao:Date.now()};rt&&Ue.dataPagamento&&(ge.detalhePagamento={pagoEm:Ue.dataPagamento,metodo:Ue.metodoPagamento||void 0,creditoEm:void 0,valorPago:Ue.valor?Math.round(Ue.valor*100):void 0,taxas:0},se.current&&d?.(Je,I)),at.set(Je,ge)}if(!se.current)return;k(at),B.current=Date.now()}catch(me){me instanceof Error&&me.name!=="AbortError"&&te.error("Erro ao carregar status local",me)}finally{se.current&&O(!1),E.current=!1}}},[J,I,d,te]);y.useEffect(()=>{if(!(!a||!I))return se.current=!0,L(!0),()=>{se.current=!1,q.current&&q.current.abort(),Q.current&&clearInterval(Q.current)}},[a,I]),y.useEffect(()=>{if(!a||u===null){Q.current&&(clearInterval(Q.current),Q.current=null);return}if(D.get(u)?.status==="pago"){Q.current&&(clearInterval(Q.current),Q.current=null);return}return Q.current=setInterval(()=>{L(!0)},ZP),()=>{Q.current&&(clearInterval(Q.current),Q.current=null)}},[a,u,D,L]),y.useEffect(()=>{k(new Map),f(null),B.current=0},[I]);const ee=y.useMemo(()=>{if(!o||!i)return[];const R=[],me=String(o.dataInicio||"").split("T")[0];let Ee;if(me&&me.includes("-")){const[Be,rt,ge]=me.split("-").map(Number);Ee=new Date(Be,rt-1,ge,12,0,0,0)}else Ee=new Date,Ee.setHours(12,0,0,0);const at=o.tipo==="semanal",Ue=o.valorTotal/o.qtdParticipantes,Je=o.qtdParticipantes;for(let Be=1;Be<=Je;Be++){const rt=new Date(Ee);o.tipo==="diario"?rt.setDate(rt.getDate()+(Be-1)):at?rt.setDate(rt.getDate()+(Be-1)*7):(rt.setMonth(rt.getMonth()+Be-1),o.diaVencimento>0&&rt.setDate(o.diaVencimento));const ge=Be>1?Ue*KP:0,yt=Be===1?Ue/o.qtdParticipantes:0,At=Be===Je?o.valorTotal*.1/o.qtdParticipantes:0,ft=Ue+mj+ge+yt+At,Oe=D.get(Be)?.status==="pago",ze=new Date;ze.setHours(0,0,0,0);const U=new Date(rt);U.setHours(12,0,0,0),U.setHours(0,0,0,0);const Me=o.status==="ativo"&&!Oe&&U<ze;let be="pendente";o.status==="finalizado"?be="pago":o.status!=="ativo"?be="pendente":Oe?be="pago":Me?be="atrasado":be="pendente",R.push({mes:Be,valorParcela:Ue,taxaServico:mj,fundoReserva:yt,taxaAdmin:0,comissaoAdmin:At,correcaoIPCA:ge,valorTotal:ft,dataVencimento:rt.toISOString(),status:be})}return R},[o,i,D]),Z=y.useCallback(async R=>{const fe=D.get(R);if(fe?.boleto?.linhaDigitavel)try{await navigator.clipboard.writeText(fe.boleto.linhaDigitavel),A(!0),setTimeout(()=>A(!1),2e3)}catch{alert("Erro ao copiar linha digitvel")}},[D]);y.useCallback(R=>{const me=D.get(R)?.pix?.copiaCola;if(!me)return;const Ee=window.open("","PRINT","height=650,width=600,top=100,left=100");Ee&&(Ee.document.write(`<html><head><title>PIX</title></head><body style="font-family:system-ui;"><div style="padding:24px;"><h1>Cdigo PIX</h1><p style="font-family:monospace;word-break:break-all;">${me}</p></div></body></html>`),Ee.document.close(),Ee.focus(),Ee.print(),Ee.close())},[D]),y.useCallback(R=>{const fe=D.get(R);if(fe?.boleto?.url){window.open(fe.boleto.url,"_blank");return}const me=fe?.boleto?.linhaDigitavel;if(!me)return;const Ee=window.open("","PRINT","height=650,width=600,top=100,left=100");Ee&&(Ee.document.write(`<html><head><title>Boleto</title></head><body style="font-family:system-ui;"><div style="padding:24px;"><h1>Boleto</h1><p style="font-family:monospace;word-break:break-all;">${me}</p></div></body></html>`),Ee.document.close(),Ee.focus(),Ee.print(),Ee.close())},[D]);const oe=y.useCallback(async(R,fe=!1)=>{if(!(!i||!o)){S(!0),M(R.mes);try{let me=D.get(R.mes);if(!me&&J&&I)try{const F=(await Bn.getByAssociacao({caixaId:J,participanteId:I,mes:R.mes}))?.cobranca;if(F&&F.lytexId){const Oe=await Bn.buscar(F.lytexId,{caixaId:J,participanteId:I,mes:R.mes}),ze=Oe?.cobranca||Oe;if(ze){const U=de(ze,R.mes,F.descricao||`Pagamento ${R.mes}`);U&&(k(Me=>new Map(Me).set(R.mes,U)),me=U)}}}catch{}if(!fe&&me&&me.pix&&!ie(me.pix)){f(R.mes),h("pix");return}let Ee="",at="",Ue="",Je="",Be;console.debug(" [DEBUG] Estrutura do participante recebido:",{participanteId:i._id,usuarioId:i.usuarioId,usuarioIdType:typeof i.usuarioId,hasUsuarioId:!!i.usuarioId,usuarioIdKeys:typeof i.usuarioId=="object"?Object.keys(i.usuarioId||{}):"N/A",cpfDireto:i.cpf});let rt;if(typeof i.usuarioId=="object"&&i.usuarioId!==null?rt=i.usuarioId._id:typeof i.usuarioId=="string"&&(rt=i.usuarioId),console.debug(" [DEBUG] usuarioIdValue extrado:",rt),rt)try{te.log(` [DEBUG] Buscando dados do usurio via /usuarios/${rt}...`);const F=(await Te.get(`/usuarios/${rt}`)).data;Ee=F.cpf||"",at=F.nome||"",Ue=F.email||"",Je=F.telefone||"",Be=F.address||void 0,console.debug(" [DEBUG] Dados do usurio obtidos via API:",{nome:at,cpf:Ee,cpfLength:Ee.length,temEndereco:!!Be,endereco:Be}),Ee&&te.log(` CPF encontrado via /usuarios: ${Ee.substring(0,3)}***${Ee.substring(8)}`)}catch(ft){te.error("Erro ao buscar dados do usurio via API",ft)}if(!Ee&&typeof i.usuarioId=="object"&&i.usuarioId?.cpf&&(Ee=i.usuarioId.cpf,at=i.usuarioId.nome||at,Ue=i.usuarioId.email||Ue,Je=i.usuarioId.telefone||Je,Be=i.usuarioId.address||Be,console.debug(" [DEBUG] Usando CPF das props (usuarioId populado):",{cpf:Ee,cpfLength:Ee.length}),te.log(" Usando CPF das props (usuarioId populado)")),!Ee&&i.cpf&&(Ee=i.cpf,console.debug(" [DEBUG] Usando CPF do campo direto no participante:",Ee),te.log(" Usando CPF das props (campo direto)")),at||(at=typeof i.usuarioId=="object"?i.usuarioId.nome:"Participante"),Ue||(Ue=typeof i.usuarioId=="object"?i.usuarioId.email:""),Je||(Je=typeof i.usuarioId=="object"?i.usuarioId.telefone:""),!Ee){const ft=`No foi possvel obter o CPF do participante ${at}.`;te.error(ft),console.error(" [DEBUG] CPF no encontrado. Dados disponveis:",{participanteId:i._id,usuarioId:rt,usuarioIdType:typeof i.usuarioId}),alert(` Erro: ${ft}

Por favor, verifique se o cadastro est completo e tente novamente.`);return}console.debug(" [DEBUG] Dados FINAIS para gerao de cobrana:",{cpf:Ee,cpfLength:Ee.length,nome:at,email:Ue,telefone:Je,endereco:Be||"NO DISPONVEL (usar padro)"});const ge={participante:{nome:at,cpf:Ee,email:Ue,telefone:Je,endereco:Be?{cep:Be.zip||"",cidade:Be.city||"",rua:Be.street||"",estado:Be.state||"",bairro:Be.zone||"",numero:Be.number||""}:void 0},caixa:{nome:o.nome,tipo:o.tipo||"mensal",valorParcela:R.valorParcela,taxaServico:R.taxaServico,taxaAdministrativa:R.fundoReserva,correcaoIPCA:R.correcaoIPCA,comissaoAdmin:R.comissaoAdmin,mesOuSemana:R.mes,totalParcelas:o.qtdParticipantes},caixaId:o._id,participanteId:i._id,mesReferencia:R.mes,dataVencimento:R.dataVencimento,habilitarPix:!0,habilitarBoleto:!0,forceRenew:fe};te.log("Gerando cobrana com payload:",ge);const yt=await Bn.gerar(ge);if(!yt.success)throw new Error(yt.message||"Erro ao gerar cobrana");const At=yt.cobranca?._id||yt.cobranca?.id;if(At){const ft=await Bn.buscar(At,{caixaId:o._id,participanteId:i._id,mes:R.mes}),F=de(ft?.cobranca||ft,R.mes,`Pagamento ${R.mes}`);F&&(k(Oe=>new Map(Oe).set(R.mes,F)),f(R.mes),h("pix"),c?.())}}catch(me){te.error("Erro ao gerar cobrana",me);const Ee=me?.response?.status===401?"Credenciais invlidas para a API de pagamentos":me.message||"Erro ao gerar cobrana.";alert(Ee)}finally{S(!1),M(null)}}},[i,o,J,I,D,ie,de,c,te]),ce=y.useCallback(async R=>{if(R)try{await navigator.clipboard.writeText(R),g(!0),setTimeout(()=>g(!1),3e3)}catch(fe){console.error("Erro ao copiar PIX:",fe)}},[]),P=y.useCallback(R=>{if(!o?.dataInicio)return"-";const me=String(o.dataInicio).split("T")[0];if(!me)return"-";const[Ee,at,Ue]=me.split("-").map(Number),Je=new Date(Ee,at-1,Ue,12,0,0,0);return o.tipo==="diario"?Je.setDate(Je.getDate()+(R-1)):o.tipo==="semanal"?Je.setDate(Je.getDate()+(R-1)*7):(Je.setMonth(Je.getMonth()+R-1),Je.setDate(o.diaVencimento)),Je.toLocaleDateString("pt-BR")},[o]),Y=y.useCallback(R=>{const me=(R||"").replace(/\D/g,"").match(/.{1,5}/g);return me?me.join(" "):R||""},[]);y.useCallback(R=>{if(!R)return null;const fe=Date.now()-new Date(R).getTime(),me=Math.floor(fe/6e4);return me<0?0:me},[]);const he=y.useCallback(async R=>{if(R.status==="pago"||o?.status!=="ativo")return;const fe=u===R.mes?null:R.mes;if(f(fe),!fe||!J||!I)return;let me=D.get(fe);if(!me)try{const Je=(await Bn.getByAssociacao({caixaId:J,participanteId:I,mes:fe}))?.cobranca;Je&&Je.lytexId&&Je.status}catch{}const Ee=me?.pix&&!ie(me.pix);if(me&&Ee){h("pix");return}const at=me&&me.status==="atrasado"&&R.status!=="atrasado";!me||me.pix&&ie(me.pix)||at?(at&&te.warn(` Cobrana ${R.mes} com status incorreto (DB=atrasado, Calc=pendente). Regenerando...`),oe(R,at)):h("pix")},[u,o,J,I,D,ie,oe]);if(!i)return null;const Se=typeof i.usuarioId=="object"?i.usuarioId.nome:"Participante",Ve=typeof i.usuarioId=="object"?i.usuarioId.email:"",Ze=typeof i.usuarioId=="object"?i.usuarioId.telefone:"";typeof i.usuarioId=="object"&&i.usuarioId.fotoUrl;const H=typeof i.usuarioId=="object"?i.usuarioId.score:0;return e.jsx(da,{isOpen:a,onClose:n,title:"Detalhes de Pagamentos",size:"full",children:e.jsxs("div",{children:[!u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col items-center gap-2 p-4 bg-gray-50 rounded-xl mb-4",children:e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"font-bold text-gray-900 text-lg mb-2 text-center",children:Se}),e.jsxs("div",{className:"flex flex-col gap-1.5 text-sm text-gray-600 pl-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"ID:"})," ",i._id]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Caixa:"})," ",o?.nome]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Email:"})," ",Ve]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Telefone:"})," ",Ze]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Score atual:"}),e.jsx("span",{className:ve("font-bold ml-1",H>=80?"text-green-600":H>=60?"text-amber-600":"text-red-600"),children:H})]})]})]})}),e.jsx("div",{className:"p-3 bg-amber-50 rounded-xl mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"Data de Recebimento"}),e.jsx("p",{className:"font-bold text-amber-800",children:P(i.posicao||0)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"Posio"}),e.jsxs("p",{className:"font-bold text-amber-800",children:[i.posicao,""]})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Us,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Histrico de Pagamentos"})]}),e.jsxs(ae,{variant:"secondary",size:"sm",onClick:()=>L(!0),disabled:_,className:"h-8 px-2 sm:px-3",children:[e.jsx(oi,{className:ve("w-4 h-4 sm:mr-2",_&&"animate-spin")}),e.jsx("span",{className:"hidden sm:inline",children:_?"Atualizando...":"Atualizar"})]})]}),e.jsx("div",{className:"space-y-2 max-h-[75vh] overflow-y-auto pb-20",children:ee.map(R=>{const fe=D.get(R.mes),me=R.status==="pago",Ee=R.status==="atrasado",at=u===R.mes,Ue=Math.round((R.valorTotal||0)*100),Je=typeof fe?.valor=="number"&&Number.isFinite(fe.valor)?Math.round(fe.valor*100):null,Be=Je!==null?Je:Ue;return fe?.dueDate||R.dataVencimento,e.jsxs("div",{className:ve("p-3 rounded-xl border transition-all",me?"bg-green-50 border-green-200":Ee?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 cursor-pointer",onClick:()=>he(R),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold",children:[o?.tipo==="diario"?"Dia":o?.tipo==="semanal"?"Semana":"Ms"," ",R.mes]}),e.jsx(ot,{variant:me?"success":Ee?"danger":"warning",className:me?"bg-green-100 text-green-800":"",size:"sm",children:me?"PAGO":Ee?"Atrasado":"Pendente"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-gray-900",children:we(Be/100)}),!me&&o?.status==="ativo"&&e.jsx("button",{onClick:rt=>{rt.stopPropagation(),f(at?null:R.mes)},className:"p-1 rounded-lg hover:bg-gray-100",children:e.jsx(ju,{className:ve("w-4 h-4 text-gray-500 transition-transform",at&&"rotate-90")})})]})]}),fe?.id&&e.jsxs("div",{className:"text-xs text-gray-500 font-mono mb-1",children:["ID: ",fe.id]}),me&&fe?.detalhePagamento&&fe.detalhePagamento.pagoEm&&e.jsx("div",{className:"mb-2 text-sm text-gray-600",children:e.jsxs("p",{children:["Pago em: ",Xt(fe.detalhePagamento.pagoEm)]})}),!me&&o?.status==="ativo"&&at&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"text-sm text-gray-700 space-y-1 mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Valor da parcela"}),e.jsx("span",{className:"font-medium",children:we(R.valorParcela)})]}),e.jsxs("div",{className:"flex justify-between pt-1 border-t mt-2",children:[e.jsx("span",{className:"font-semibold",children:"TOTAL"}),e.jsx("span",{className:"font-bold text-green-700",children:we(Be/100)})]})]}),e.jsxs("div",{className:"flex gap-1 p-1 bg-gray-100 rounded-xl mb-3",children:[e.jsx("button",{onClick:()=>h("pix"),className:ve("flex-1 px-3 py-2 rounded-lg text-sm font-medium",p==="pix"?"bg-white text-green-600 shadow-sm":"text-gray-600"),children:"PIX"}),e.jsx("button",{onClick:()=>h("boleto"),className:ve("flex-1 px-3 py-2 rounded-lg text-sm font-medium",p==="boleto"?"bg-white text-blue-600 shadow-sm":"text-gray-600"),children:"Boleto"})]}),fe?p==="pix"?e.jsx("div",{className:"space-y-3",children:ie(fe.pix)?e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-red-700 font-bold mb-1",children:"PIX Expirado"}),e.jsx("p",{className:"text-xs text-red-600 mb-3",children:"O cdigo QR expirou. Gere uma nova cobrana."}),e.jsx(ae,{size:"sm",variant:"primary",className:ve("w-full h-10 shadow-sm transition-all",w?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"),onClick:()=>oe(R,!0),disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx(Wa,{className:"w-4 h-4 animate-spin mr-2"}),"Gerando nova cobrana..."]}):"Gerar Novo PIX"}),w&&e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center animate-pulse",children:"Aguarde, estamos gerando sua nova cobrana PIX..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:fe.pix?.qrCode?e.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-dashed border-gray-200 shadow-sm",children:e.jsx(QP,{value:fe.pix.copiaCola,size:200})}):null}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ae,{size:"md",variant:"ghost",className:ve("w-full h-12 gap-2 text-base font-medium transition-all duration-300 border-2",b?"bg-green-50 border-green-500 text-green-700 hover:bg-green-100 hover:text-green-800":"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 dark:hover:bg-gray-800 shadow-sm"),onClick:()=>ce(fe.pix?.copiaCola),children:[b?e.jsx(Mt,{className:"w-5 h-5"}):e.jsx(AR,{className:"w-5 h-5"}),b?"Cdigo copiado!":"Copiar Cdigo PIX"]}),b&&e.jsx("div",{className:"flex justify-center animate-in fade-in slide-in-from-top-2 duration-300",children:e.jsxs("p",{className:"text-sm text-green-600 font-medium flex items-center gap-1.5 bg-green-50 px-3 py-1.5 rounded-full border border-green-100",children:[e.jsx(Mt,{className:"w-3.5 h-3.5"}),"Copiado para a rea de transferncia"]})})]})]})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-gray-50 border rounded-lg",children:e.jsx("p",{className:"text-xs font-mono break-all",children:Y(fe.boleto?.linhaDigitavel||"")})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{size:"sm",onClick:()=>Z(R.mes),children:"Copiar Linha"}),fe.boleto?.url&&e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>window.open(fe.boleto.url),children:"Abrir PDF"})]})]}):e.jsx(ae,{variant:"primary",size:"sm",className:"w-full",onClick:()=>oe(R),disabled:w,leftIcon:w&&N===R.mes?e.jsx(Wa,{className:"w-4 h-4 animate-spin"}):e.jsx(xM,{className:"w-4 h-4"}),children:w&&N===R.mes?"Gerando...":"Gerar cobrana"})]})]},R.mes)})})]})})}function tD({showSplitConfigModal:a,setShowSplitConfigModal:n,splitConfigStatus:o,participantesSubcontasStatus:i,verificarConfiguracaoSplitDetalhada:c,usuarioTipo:d,showIniciarCaixa:u,setShowIniciarCaixa:f,caixa:p,participantes:h,aceiteContrato:b,setAceiteContrato:g,handleIniciarCaixa:v}){const A=Ba(),[w,S]=y.useState(!1),[N,M]=y.useState(!1);y.useEffect(()=>{console.log(" ConfiguracoesObrigatoriasCaixa - Props atualizadas:",{splitConfigStatus:o,participantesSubcontasStatus:i,totalParticipantes:i.length})},[o,i]);const _=(te,ie,de)=>{const L=new Date(te);switch(de?.toLowerCase()){case"diario":case"dirio":L.setDate(L.getDate()+ie);break;case"semanal":L.setDate(L.getDate()+ie*7);break;case"mensal":default:L.setMonth(L.getMonth()+ie);break}return L},O=(te,ie)=>{switch(ie?.toLowerCase()){case"diario":case"dirio":return te===1?"dia":"dias";case"semanal":return te===1?"semana":"semanas";case"mensal":default:return te===1?"ms":"meses"}},D=p.dataInicio?new Date(p.dataInicio):new Date,k=_(D,p.duracaoMeses,p.tipo||"mensal"),E=o.adminTemSubconta&&o.regrasSplit&&o.participantesVinculados,B=i.filter(te=>te.temSubconta).length,q=i.length,Q=q>0?B/q*100:0,se=(o.participantesVinculados?1:0)+(o.adminTemSubconta?1:0)+(o.regrasSplit?1:0),J=se/3*100,I=async()=>{S(!0),console.log(" Recarregando configurao..."),await c(),setTimeout(()=>S(!1),500)};return e.jsxs(e.Fragment,{children:[e.jsx(da,{isOpen:u,onClose:()=>{f(!1),g(!1)},title:"Iniciar Caixa",size:"xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-xl text-center border border-green-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Nome"}),e.jsx("p",{className:"font-bold text-green-700 truncate mt-1",children:p.nome})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl text-center border border-blue-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Tipo"}),e.jsx("p",{className:"font-bold text-blue-700 capitalize mt-1",children:p.tipo||"Mensal"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-xl text-center border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Valor Total"}),e.jsx("p",{className:"font-bold text-purple-700 mt-1",children:we(p.valorTotal)})]}),e.jsxs("div",{className:"p-3 bg-amber-50 rounded-xl text-center border border-amber-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Parcela"}),e.jsx("p",{className:"font-bold text-amber-700 mt-1",children:we(p.valorTotal/p.qtdParticipantes)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-xl text-center border border-indigo-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Participantes"}),e.jsx("p",{className:"font-bold text-indigo-700 mt-1",children:p.qtdParticipantes})]}),e.jsxs("div",{className:"p-3 bg-teal-50 rounded-xl text-center border border-teal-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Durao"}),e.jsxs("p",{className:"font-bold text-teal-700 mt-1",children:[p.duracaoMeses," ",O(p.duracaoMeses,p.tipo||"mensal")]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(Us,{className:"w-5 h-5 text-gray-700"})}),e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Termos e Condies"})]}),e.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Datas:"}),e.jsxs("p",{className:"text-gray-700",children:["Incio em ",e.jsx("span",{className:"font-medium",children:Xt(D)}),"  Trmino previsto em ",e.jsx("span",{className:"font-medium",children:Xt(k)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:" Participantes:"}),e.jsx("ol",{className:"list-decimal list-inside ml-2 space-y-1",children:h.map(te=>e.jsx("li",{className:"text-gray-700",children:te.usuarioId.nome},te._id))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:" Obrigaes:"}),e.jsxs("ul",{className:"space-y-1.5",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Os,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Pagar parcela at a data de vencimento"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ia,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"No pagamento resulta em penalidade no score"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(co,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Administrador deve gerenciar e cobrar pela adimplncia dos participantes."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:" Composio da Parcela:"}),e.jsx("ul",{className:"space-y-3",children:(()=>{const te=p.valorTotal/p.qtdParticipantes,ie=10,de=te/p.qtdParticipantes,L=p.valorTotal*.1/p.qtdParticipantes,ee=.004,Z=te+ie+de;return e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"pl-3 border-l-4 border-green-500 bg-green-50 p-3 rounded-r-lg",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"font-bold text-green-700",children:"1 Parcela:"}),e.jsx("span",{className:"text-lg font-bold text-green-800",children:we(Z)})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-0.5 ml-2",children:[e.jsxs("div",{children:[" ",we(te)," - valor da parcela"]}),e.jsxs("div",{children:[" ",we(ie)," - taxa operacional de servio"]}),e.jsxs("div",{children:[" ",we(de)," - fundo de reserva (somente 1 parcela)"]})]})]})}),p.duracaoMeses>2&&e.jsx("li",{className:"pl-3 border-l-4 border-blue-500 bg-blue-50 p-3 rounded-r-lg",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"font-bold text-blue-700",children:["Parcelas 2-",p.duracaoMeses-1,":"]}),e.jsx("span",{className:"text-sm text-blue-700",children:"(intermedirias)"})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-0.5 ml-2",children:[e.jsxs("div",{children:[" ",we(te)," - valor da parcela base"]}),e.jsxs("div",{children:[" ",we(ie)," - taxa operacional de servio"]}),e.jsxs("div",{children:[" IPCA sobre o valor da parcela (",(ee*100).toFixed(1),"% ao ms)"]})]})]})}),e.jsx("li",{className:"pl-3 border-l-4 border-purple-500 bg-purple-50 p-3 rounded-r-lg",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"font-bold text-purple-700",children:["ltima Parcela (",p.duracaoMeses,"):"]})}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-0.5 ml-2",children:[e.jsxs("div",{children:[" ",we(te)," - valor da parcela base"]}),e.jsxs("div",{children:[" ",we(ie)," - taxa operacional de servio"]}),e.jsxs("div",{children:[" IPCA sobre o valor da parcela (",(ee*100).toFixed(1),"% ao ms)"]}),e.jsxs("div",{children:[" ",we(L)," - comisso organizador (10% do caixa  ",p.qtdParticipantes,")"]})]})]})})]})})()})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-300 rounded-xl p-4 shadow-sm",children:e.jsxs("label",{className:"flex items-start gap-3 group",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:te=>g(te.target.checked),className:"mt-1 w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-2 focus:ring-green-500 cursor-pointer"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["Li e aceito os"," ",e.jsx("button",{type:"button",onClick:te=>{te.preventDefault(),M(!0)},className:"text-blue-600 hover:text-blue-700 underline cursor-pointer",children:"termos do contrato"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Ao marcar, voc confirma que entendeu todas as condies e concorda em cumpri-las."})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{f(!1),g(!1)},children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:v,disabled:!b,leftIcon:e.jsx(Kr,{className:"w-4 h-4"}),children:"Iniciar Caixa"})]})]})}),e.jsx(da,{isOpen:N,onClose:()=>M(!1),title:"Termos de Uso e Condies Gerais",size:"xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 -mx-5 -mt-5 px-5 py-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:e.jsx(Us,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Termos de Uso - Juntix"}),e.jsx("p",{className:"text-sm text-green-100",children:"Plataforma Tecnolgica de Gesto de Caixas Coletivos"})]})]}),e.jsxs("button",{onClick:()=>{const te=document.getElementById("terms-content");if(te){const ie=window.open("","_blank");if(!ie)return;const de=`
                                            <!DOCTYPE html>
                                            <html>
                                                <head>
                                                    <title>Termos de Uso - Juntix</title>
                                                    <style>
                                                        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; color: #333; }
                                                        h2 { color: #059669; font-size: 18px; margin-top: 25px; }
                                                        p, li { font-size: 13px; }
                                                        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #10b981; padding-bottom: 15px; }
                                                        .highlight { background-color: #d1fae5; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #10b981; }
                                                        ul { margin: 10px 0; padding-left: 25px; }
                                                        .footer { margin-top: 40px; padding-top: 20px; border-top: 2px solid #e5e7eb; font-size: 11px; color: #6b7280; text-align: center; }
                                                        
                                                        /* Fix SVG sizes for print */
                                                        svg { max-width: 16px !important; max-height: 16px !important; width: 16px !important; height: 16px !important; display: inline-block !important; vertical-align: middle !important; }
                                                        
                                                        /* Hide decorative number badges */
                                                        h2 span { display: none !important; }
                                                        
                                                        /* Better spacing for lists */
                                                        .flex { display: block !important; }
                                                        .flex svg { margin-right: 8px; }
                                                        
                                                        /* Simplify backgrounds for print */
                                                        .bg-white, .bg-green-50, .bg-blue-50, .bg-purple-50, .bg-amber-50, .bg-indigo-50, .bg-red-50, .bg-orange-50, .bg-teal-50 {
                                                            background: transparent !important;
                                                            border: 1px solid #e5e7eb !important;
                                                            page-break-inside: avoid;
                                                        }
                                                        
                                                        .rounded-xl, .rounded-lg { border-radius: 4px !important; }
                                                        
                                                        /* Ensure readability */
                                                        .shadow-sm { box-shadow: none !important; }
                                                    </style>
                                                </head>
                                                <body>
                                                    <div class="header">
                                                        <h1 style="color: #10b981; margin: 0;">JUNTIX</h1>
                                                        <p style="margin: 5px 0; color: #6b7280;">Plataforma Tecnolgica de Gesto de Caixas Coletivos</p>
                                                        <p style="font-weight: bold; margin: 10px 0; font-size: 16px;">Termos de Uso e Condies Gerais</p>
                                                    </div>
                                                    ${te.innerHTML}
                                                    <div class="footer">
                                                        <p>Este documento foi impresso em ${new Date().toLocaleDateString("pt-BR")}</p>
                                                        <p>JUNTIX - Plataforma Tecnolgica | www.juntix.com.br</p>
                                                    </div>
                                                    <script>
                                                        window.onload = function() {
                                                            window.print();
                                                            window.onafterprint = function() {
                                                                window.close();
                                                            }
                                                        }
                                                    <\/script>
                                                </body>
                                            </html>
                                        `;ie.document.write(de),ie.document.close()}},className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors backdrop-blur-sm text-white font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]})]})}),e.jsx("div",{id:"terms-content",className:"max-h-[60vh] overflow-y-auto pr-2 text-sm text-gray-700 leading-relaxed",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 font-semibold mb-2",children:"ltima atualizao: Fevereiro de 2026"}),e.jsxs("p",{className:"text-sm text-green-900",children:["Bem-vindo ao ",e.jsx("strong",{children:"JUNTIX"}),", uma plataforma tecnolgica moderna que facilita a organizao e gesto de grupos de poupana coletiva informal entre amigos, familiares e conhecidos."]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg inline-flex items-center justify-center text-green-700 font-bold",children:"1"}),"DEFINIES E NATUREZA DO SERVIO"]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"1.1."})," A plataforma ",e.jsx("strong",{children:"JUNTIX"}),'  uma plataforma tecnolgica que facilita a organizao e gesto de grupos de poupana coletiva informal ("Caixinhas") entre pessoas fsicas previamente conhecidas.']}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"1.2."})," O servio consiste exclusivamente em:"]}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1 mb-2",children:[e.jsx("li",{children:"Ferramenta tecnolgica de organizao e controle"}),e.jsx("li",{children:"Processamento de pagamentos via gateway terceirizado (Lytex)"}),e.jsx("li",{children:"Gesto de ordem de contemplao"}),e.jsx("li",{children:"Comunicao e lembretes automticos aos participantes"}),e.jsx("li",{children:"Dashboard de acompanhamento em tempo real"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3",children:e.jsxs("p",{className:"text-sm text-red-900",children:[e.jsx("strong",{children:"1.3. DECLARAO IMPORTANTE:"})," Esta plataforma ",e.jsx("strong",{children:"NO  instituio financeira"}),", ",e.jsx("strong",{children:"NO oferece produtos financeiros"}),", ",e.jsx("strong",{children:"NO capta recursos do pblico"}),", ",e.jsx("strong",{children:"NO promete rentabilidade"})," e ",e.jsx("strong",{children:"NO realiza intermediao financeira regulada pelo Banco Central do Brasil"}),"."]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-blue-100 rounded-lg inline-flex items-center justify-center text-blue-700 font-bold",children:"2"}),"REQUISITOS PARA PARTICIPAO"]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"2.1."})," Podem participar apenas:"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 p-2 rounded",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm",children:"Maiores de 18 anos"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 p-2 rounded",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm",children:"Residentes no Brasil"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 p-2 rounded",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm",children:"CPF regularizado"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 p-2 rounded",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm",children:"Indicados/conhecidos"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg inline-flex items-center justify-center text-purple-700 font-bold",children:"3"}),"FUNCIONAMENTO DO CAIXA"]}),e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"3.1. Estrutura Bsica"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1.5",children:[e.jsx("li",{children:"Cada grupo possui nmero definido de participantes"}),e.jsx("li",{children:"Valor total do caixa  dividido em parcelas mensais iguais"}),e.jsx("li",{children:"Cada participante contribui mensalmente at completar o ciclo"}),e.jsx("li",{children:"Um participante  contemplado por ms na ordem estabelecida"}),e.jsx("li",{children:"Sistema automtico de cobrana via PIX/Boleto"}),e.jsx("li",{children:"Notificaes automticas de vencimento e lembreteste"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-amber-100 rounded-lg inline-flex items-center justify-center text-amber-700 font-bold",children:"4"}),"OBRIGAES DOS PARTICIPANTES"]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"4.1."})," O participante compromete-se a:"]}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1.5",children:[e.jsx("li",{children:"Pagar todas as parcelas nas datas estabelecidas"}),e.jsx("li",{children:"Manter dados cadastrais atualizados"}),e.jsx("li",{children:"Comunicar imediatamente qualquer dificuldade de pagamento"}),e.jsx("li",{children:"Respeitar a ordem de contemplao"}),e.jsx("li",{children:"No transferir sua posio sem autorizao"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mt-3",children:e.jsx("p",{className:"text-sm font-semibold text-amber-900",children:" ATENO: O participante  obrigado a pagar sua prpria parcela mesmo no ms em que for contemplado."})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg inline-flex items-center justify-center text-indigo-700 font-bold",children:"5"}),"PROCESSAMENTO DE PAGAMENTOS"]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"5.1."})," Todos os pagamentos so processados via gateway de pagamento ",e.jsx("strong",{children:"Lytex"}),", empresa terceirizada e devidamente autorizada."]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"5.2."})," A plataforma no retm, custodia ou administra os valores pagos pelos participantes, exceto Fundo de Reserva e Taxa de servio."]}),e.jsx("p",{className:"text-sm text-indigo-700 bg-indigo-50 p-3 rounded-lg",children:" Meios de pagamento aceitos: PIX e Boleto Bancrio"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-red-100 rounded-lg inline-flex items-center justify-center text-red-700 font-bold",children:"6"}),"RESPONSABILIDADES E LIMITAES"]}),e.jsx("p",{className:"mb-2 font-semibold text-red-900",children:"6.1. O JUNTIX NO:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:""}),e.jsx("span",{children:"Garante adimplncia dos participantes"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:""}),e.jsx("span",{children:"Responde por inadimplncia de terceiros alm do Fundo de Reserva"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:""}),e.jsx("span",{children:"Oferece seguro ou garantia financeira"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:""}),e.jsx("span",{children:"Atua como instituio financeira"})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{className:"text-red-900",children:"6.2. RISCOS ASSUMIDOS:"})," Existe risco real de inadimplncia de outros participantes. No h cobertura do FGC ou qualquer proteo estatal."]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-orange-100 rounded-lg inline-flex items-center justify-center text-orange-700 font-bold",children:"7"}),"POLTICA DE INADIMPLNCIA"]}),e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Inadimplncia Grave (acima de 15 dias):"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:" Utilizao do Fundo de Reserva"})}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:" Excluso definitiva da plataforma"})}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:" Cobrana judicial do valor devido"})}),e.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:" Possibilidade de negativao"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-teal-100 rounded-lg inline-flex items-center justify-center text-teal-700 font-bold",children:"8"}),"DADOS PESSOAIS E PRIVACIDADE"]}),e.jsxs("p",{className:"mb-2",children:["A plataforma coleta e trata dados pessoais conforme ",e.jsx("strong",{children:"Lei Geral de Proteo de Dados (LGPD - Lei 13.709/2018)"}),"."]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[e.jsxs("div",{className:"bg-teal-50 p-2 rounded text-sm",children:[e.jsx("strong",{className:"text-teal-900",children:"Segurana:"})," Criptografia SSL"]}),e.jsxs("div",{className:"bg-teal-50 p-2 rounded text-sm",children:[e.jsx("strong",{className:"text-teal-900",children:"Armazenamento:"})," Servidores seguros"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-xl p-5 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-900 mb-3",children:"DECLARAO DE CINCIA E CONSENTIMENTO"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Li e compreendi integralmente as condies estabelecidas"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Estou ciente de que o JUNTIX NO  instituio financeira"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Entendo os riscos de inadimplncia de outros participantes"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Concordo com a utilizao do Fundo de Reserva conforme descrito"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Assumo a responsabilidade pelo pagamento de todas as parcelas"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414- 1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Autorizo o tratamento dos meus dados pessoais conforme LGPD"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Aceito as taxas, encargos e condies de pagamento"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Reconheo que no h garantia estatal ou proteo do FGC"]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center text-xs text-gray-600",children:[e.jsx("p",{children:"Documento elaborado em conformidade com o Cdigo Civil Brasileiro, LGPD e legislaes aplicveis"}),e.jsx("p",{className:"mt-2 font-semibold",children:"JUNTIX - Plataforma Tecnolgica | www.juntix.com.br"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>M(!1),children:"Fechar"}),e.jsx(ae,{variant:"primary",className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",onClick:()=>{g(!0),M(!1)},leftIcon:e.jsx(Os,{className:"w-4 h-4"}),children:"Aceitar Termos"})]})]})}),e.jsx(da,{isOpen:a,onClose:()=>{n(!1),c()},title:" Configurao Obrigatria Pendente",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-700 font-medium",children:"Antes de iniciar as cobranas, verifique todas as etapas:"}),e.jsx("button",{onClick:I,disabled:w,className:"p-2 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50",title:"Recarregar status",children:e.jsx(oi,{className:ve("w-4 h-4 text-blue-600",w&&"animate-spin")})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-full transition-all duration-500",style:{width:`${J}%`}})}),e.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[se,"/3"]})]})]}),e.jsxs("div",{className:ve("rounded-xl p-5 border-2 transition-all duration-300",o.participantesVinculados?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300 shadow-sm":"bg-gradient-to-br from-red-50 to-rose-50 border-red-200"),children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:ve("p-2 rounded-lg",o.participantesVinculados?"bg-green-100":"bg-red-100"),children:e.jsx(aa,{className:ve("w-5 h-5",o.participantesVinculados?"text-green-700":"text-red-700")})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:ve("font-bold text-base mb-1",o.participantesVinculados?"text-green-900":"text-red-900"),children:"1.  Participantes"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:ve("px-2 py-0.5 rounded-full text-xs font-semibold",o.participantesVinculados?"bg-green-200 text-green-800":"bg-red-200 text-red-800"),children:[B,"/",q," completos"]}),q>0&&e.jsxs("span",{className:"text-xs text-gray-600",children:["(",Q.toFixed(0),"%)"]})]})]}),e.jsx("div",{className:ve("text-2xl font-bold",o.participantesVinculados?"text-green-600":"text-gray-300"),children:o.participantesVinculados?"":""})]}),e.jsxs("div",{className:"bg-white/60 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:" Status das subcontas dos participantes"}),i.length>0?e.jsx("div",{className:"space-y-2 mt-3",children:i.map(te=>e.jsxs("div",{className:ve("flex items-center gap-3 p-2.5 rounded-lg transition-all",te.temSubconta?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[te.temSubconta?e.jsx(ba,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):e.jsx(Bs,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("span",{className:ve("font-medium text-sm flex-1",te.temSubconta?"text-green-800":"text-red-800"),children:te.nome}),te.temSubconta&&e.jsx("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full font-semibold",children:"Configurado"})]},te._id))}):e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Nenhum participante encontrado. Recarregue a pgina."})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-800 flex items-start gap-2",children:[e.jsx(ia,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ateno:"})," Os participantes recebero um email e precisaro acessar suas contas para configurar as subcontas no sistema de pagamento (Lytex)."]})]})})]}),e.jsxs("div",{className:ve("rounded-xl p-5 border-2 transition-all duration-300",o.adminTemSubconta?"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-300 shadow-sm":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200"),children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:ve("p-2 rounded-lg",o.adminTemSubconta?"bg-blue-100":"bg-gray-100"),children:e.jsx(ya,{className:ve("w-5 h-5",o.adminTemSubconta?"text-blue-700":"text-gray-500")})}),e.jsx("div",{className:"flex-1",children:e.jsx("h4",{className:ve("font-bold text-base",o.adminTemSubconta?"text-blue-900":"text-gray-700"),children:"2.  Administrador/Gestor"})}),e.jsx("div",{className:ve("text-2xl font-bold",o.adminTemSubconta?"text-blue-600":"text-gray-300"),children:o.adminTemSubconta?"":""})]}),e.jsx("div",{className:"bg-white/60 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-gray-700 font-medium flex items-center gap-2",children:[e.jsx(Os,{className:ve("w-4 h-4",o.adminTemSubconta?"text-blue-600":"text-gray-400")}),"Subconta criada no sistema de pagamento (Lytex)"]})})]}),e.jsxs("div",{className:ve("rounded-xl p-5 border-2 transition-all duration-300",o.regrasSplit?"bg-gradient-to-br from-purple-50 to-violet-50 border-purple-300 shadow-sm":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200"),children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:ve("p-2 rounded-lg",o.regrasSplit?"bg-purple-100":"bg-gray-100"),children:e.jsx(co,{className:ve("w-5 h-5",o.regrasSplit?"text-purple-700":"text-gray-500")})}),e.jsx("div",{className:"flex-1",children:e.jsx("h4",{className:ve("font-bold text-base",o.regrasSplit?"text-purple-900":"text-gray-700"),children:"3.  Administrador Master"})}),e.jsx("div",{className:ve("text-2xl font-bold",o.regrasSplit?"text-purple-600":"text-gray-300"),children:o.regrasSplit?"":""})]}),e.jsx("div",{className:"bg-white/60 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-gray-700 font-medium flex items-center gap-2",children:[e.jsx(Os,{className:ve("w-4 h-4",o.regrasSplit?"text-purple-600":"text-gray-400")}),"Regras de split definidas (taxas, bnus, fundo de reserva)"]})})]}),e.jsx("div",{className:ve("border-2 rounded-xl p-4 transition-all duration-300",E?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 shadow-lg":"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-300"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[E?e.jsx(ba,{className:"w-6 h-6 text-green-600 flex-shrink-0"}):e.jsx(ia,{className:"w-6 h-6 text-amber-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:ve("font-bold text-base",E?"text-green-900":"text-amber-900"),children:E?" Configurao Completa!":" Configurao Incompleta"}),!E&&e.jsx("p",{className:"text-sm text-amber-700 mt-1",children:d==="master"?"Configure os itens pendentes para iniciar a caixa.":"Aguardando configurao do Administrador Master."})]})]})}),e.jsx("div",{className:"flex gap-3 pt-2",children:E?e.jsxs(e.Fragment,{children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>n(!1),children:"Fechar"}),e.jsx(ae,{variant:"primary",className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",onClick:v,children:" Iniciar Caixa"})]}):d==="master"?e.jsxs(e.Fragment,{children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>n(!1),children:"Fechar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:()=>{A("/painel-master/split"),n(!1)},children:"Ir para Configuraes"})]}):e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>n(!1),children:"Fechar"})})]})})]})}function g2(a,n,o,i,c){const[d,u]=y.useState({adminTemSubconta:!1,regrasSplit:!1,participantesVinculados:!1}),[f,p]=y.useState([]),[h,b]=y.useState(!1),[g,v]=y.useState(null),A=async()=>{try{const _=localStorage.getItem("token");console.log(" Fazendo requisio para /api/subcontas...");const D=await Yt.get("https://api.juntix.com.br/subcontas",{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(console.log(" Resposta completa da API:",D),console.log(" response.data:",D.data),console.log(" Tipo:",typeof D.data),console.log("  array?",Array.isArray(D.data)),!D.data)return console.warn(" API retornou dados vazios"),[];if(typeof D.data=="object"&&!Array.isArray(D.data)){if(Array.isArray(D.data.data))return console.log(" Subcontas em response.data.data"),D.data.data;if(Array.isArray(D.data.subcontas))return console.log(" Subcontas em response.data.subcontas"),D.data.subcontas}return Array.isArray(D.data)?(console.log(" response.data  array direto"),D.data):(console.warn(" Formato inesperado:",D.data),[])}catch(_){throw console.error(" Erro ao buscar subcontas:",_),console.error(" Detalhes:",_.response?.data),_}},w=(_,O,D,k)=>{if(console.log(`
 === VERIFICANDO SUBCONTA ===`),console.log(" Dados do usurio:",{usuarioId:_,usuarioEmail:O,usuarioNome:D}),console.log(` Total de subcontas: ${k.length}`),!_&&!O&&!D)return console.warn(" Nenhum dado para comparao!"),!1;if(!Array.isArray(k)||k.length===0)return console.warn(" Nenhuma subconta disponvel"),!1;k.forEach((se,J)=>{console.log(` Subconta ${J+1}:`,{_id:se._id,email:se.email,name:se.name,type:se.type,usuarioId:se.usuarioId,accountId:se.accountId})});const E=se=>se.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),B=E(D),q=O?E(O):null;console.log(" Comparando com:",{nomeNormalizado:B,emailNormalizado:q});const Q=k.some(se=>{if(se.usuarioId&&se.usuarioId===_)return console.log(` MATCH por usuarioId! Subconta: ${se.email}`),!0;if(se._id===_)return console.log(` MATCH por _id! Subconta: ${se.email}`),!0;if(q&&se.email&&E(se.email)===q)return console.log(` MATCH por EMAIL! ${se.email} === ${O}`),!0;if(se.name){const J=E(se.name);if(J===B)return console.log(` MATCH por NOME exato! ${se.name} === ${D}`),!0;if(B.includes(J)||J.includes(B))return console.log(` MATCH por NOME similar! ${se.name}  ${D}`),!0}return!1});return console.log(` Resultado final: ${Q?" TEM":" NO TEM"} subconta`),console.log(` === FIM VERIFICAO ===
`),Q},S=async _=>{try{const O=localStorage.getItem("token");console.log(` Verificando regras de split para caixa ${_}...`);const k=await Yt.get(`https://api.juntix.com.br/split-config/${_}`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});console.log(" Resposta completa da API:",k.data);const E=k.data?.config;console.log(" Split config extrada:",E);const B=!!(E&&E.taxaServicoSubId&&E.fundoReservaSubId&&E.adminSubId&&E.participantesMesOrdem&&E.participantesMesOrdem.length>0);return console.log(" Regras configuradas?",B),B}catch(O){return console.error(" Erro ao verificar regras de split:",O),console.error(" Detalhes:",O.response?.data),!1}},N=async()=>{if(console.log(`
 ========================================`),console.log(" INICIANDO VERIFICAO DE CONFIGURAO"),console.log(" ========================================"),console.log(" Parmetros:",{caixaId:a,adminId:o,participantesCount:n.length,participantes:n.map(_=>({id:_._id,usuarioId:typeof _.usuarioId=="object"?_.usuarioId._id:_.usuarioId,nome:typeof _.usuarioId=="object"?_.usuarioId.nome:"N/A"}))}),!a||!o){console.warn(" Faltam caixaId ou adminId - abortando");return}if(n.length===0){console.warn(" Nenhum participante - limpando status"),p([]),u({adminTemSubconta:!1,regrasSplit:!1,participantesVinculados:!1});return}b(!0),v(null);try{console.log(`
 ETAPA 1: Buscando subcontas...`);let _=[];try{_=await A(),console.log(` ${_.length} subcontas encontradas`)}catch(Q){console.error(" Erro ao buscar subcontas:",Q),_=[]}console.log(`
 ETAPA 2: Verificando administrador...`),console.log(` Admin ID: ${o}`),console.log(` Total de subcontas disponveis: ${_.length}`),console.log(`
 Detalhes das subcontas:`),_.forEach((Q,se)=>{console.log(`  ${se+1}. Subconta:`,{_id:Q._id,usuarioId:Q.usuarioId,lytexId:Q.lytexId,email:Q.email,name:Q.name})}),console.log(`
 Procurando match com adminId: ${o}`),console.log(` Admin email: ${i||"N/A"}`),console.log(` Admin nome: ${c||"N/A"}`);const O=_.length>0&&(o||i||c)?w(o,i,c||"Administrador",_):!1;console.log(` Admin tem subconta? ${O?" SIM":" NO"}`),console.log(`
 ETAPA 3: Verificando participantes...`);const D=n.map((Q,se)=>{console.log(`
 --- Participante ${se+1}/${n.length} ---`),console.log(" Dados brutos:",Q);let J,I,te;typeof Q.usuarioId=="object"&&Q.usuarioId!==null?(J=Q.usuarioId._id,I=Q.usuarioId.nome||"Sem nome",te=Q.usuarioId.email,console.log(" Tipo: Objeto populado")):(J=String(Q.usuarioId),I="Sem nome (no populado)",te=void 0,console.log(" Tipo: String (ID direto)")),console.log(" Dados extrados:",{usuarioId:J,nome:I,email:te});const ie=_.length>0?w(J,te,I,_):!1,de={_id:J,nome:I,temSubconta:ie};return console.log(` Resultado: ${I} -> ${ie?" TEM":" NO TEM"} subconta`),de});console.log(`
 RESUMO DOS PARTICIPANTES:`),D.forEach((Q,se)=>{console.log(`  ${se+1}. ${Q.nome}: ${Q.temSubconta?"":""}`)});const k=D.length>0&&D.every(Q=>Q.temSubconta),E=D.filter(Q=>Q.temSubconta).length;console.log(`
 Estatsticas:`),console.log(`   Total: ${D.length}`),console.log(`   Com subconta: ${E}`),console.log(`   Sem subconta: ${D.length-E}`),console.log(`   Todos vinculados? ${k?" SIM":" NO"}`),console.log(`
 ETAPA 4: Verificando regras de split...`);const B=await S(a);console.log(` Regras configuradas? ${B?" SIM":" NO"}`),console.log(`
 ETAPA 5: Atualizando estados...`);const q={adminTemSubconta:O,regrasSplit:B,participantesVinculados:k};console.log(" Novo status:",q),console.log(" Participantes status:",D),p(D),u(q),console.log(`
 ========================================`),console.log(" VERIFICAO CONCLUDA"),console.log(" ========================================"),console.log(" Status Final:",{adminTemSubconta:q.adminTemSubconta?"":"",regrasSplit:q.regrasSplit?"":"",participantesVinculados:q.participantesVinculados?"":"",totalParticipantes:D.length,comSubconta:E,semSubconta:D.length-E}),console.log(`========================================
`)}catch(_){console.error(`
 ========================================`),console.error(" ERRO NA VERIFICAO"),console.error(" ========================================"),console.error(" Erro:",_),console.error(" Mensagem:",_.message),console.error(" Stack:",_.stack),console.error(`========================================
`),v(_.message||"Erro ao verificar configurao")}finally{b(!1)}},M=()=>{if(console.log(`
 Validando inicializao da caixa...`),console.log(" Status:",d),!d.adminTemSubconta)return console.log(" Admin sem subconta"),{valido:!1,mensagem:"Administrador precisa criar subconta antes de iniciar"};if(!d.participantesVinculados){const _=f.filter(O=>!O.temSubconta).map(O=>O.nome);return console.log(" Participantes sem subconta:",_),{valido:!1,mensagem:`Participantes sem subconta: ${_.join(", ")}`}}return d.regrasSplit?(console.log(" Validao passou!"),{valido:!0}):(console.log(" Regras de split no configuradas"),{valido:!1,mensagem:"Regras de split no configuradas pelo Admin Master"})};return y.useEffect(()=>{console.log(`
 useEffect disparado`),console.log(" Deps:",{caixaId:a,participantesLength:n.length,adminId:o,shouldRun:!!(a&&n.length>0&&o)}),a&&n.length>0&&o?(console.log(" Executando verificao..."),N()):console.log(" Condies no atendidas, pulando verificao")},[a,n.length,o]),{splitConfigStatus:d,participantesSubcontasStatus:f,loading:h,error:g,verificarConfiguracaoSplitDetalhada:N,validarIniciarCaixa:M}}const aD=[{id:"participantes",label:"Participantes",icon:aa},{id:"configuracoes",label:"Configuraes",icon:KN}],yl=.0041,Xi=10;function sD(){const{id:a}=mS(),n=Ba(),{usuario:o}=Da(),[i,c]=y.useState(null),[d,u]=y.useState([]),[f,p]=y.useState(!0),[h,b]=y.useState("participantes"),[g,v]=y.useState(!1),[A,w]=y.useState(""),[S,N]=y.useState(!1),[M,_]=y.useState(!1),[O,D]=y.useState(!1),[k,E]=y.useState(!1),[B,q]=y.useState(null),[Q,se]=y.useState(!1),[J,I]=y.useState(!1),[te,ie]=y.useState(!1),[de,L]=y.useState(!1),[ee,Z]=y.useState(null),[oe,ce]=y.useState({nome:"",email:"",telefone:"",cpf:"",chavePix:"",picture:"",senha:"",address:{street:"",zone:"",city:"",state:"",number:"",complement:"",zip:""}}),[P,Y]=y.useState([]),[he,Se]=y.useState(""),[Ve,Ze]=y.useState([]),[H,R]=y.useState(""),[fe,me]=y.useState(!1),[Ee,at]=y.useState(""),[Ue,Je]=y.useState(!1),[Be,rt]=y.useState(1),[ge,yt]=y.useState({nome:"",descricao:"",tipo:"mensal",valorTotal:5e3,qtdParticipantes:10,duracaoMeses:10,dataVencimento:""}),[At,ft]=y.useState(!1),[F,Oe]=y.useState(!1),[ze,U]=y.useState(!1),{splitConfigStatus:Me,participantesSubcontasStatus:be,verificarConfiguracaoSplitDetalhada:ke}=g2(a||"",d,i?.adminId?._id||"",i?.adminId?.email||"",i?.adminId?.nome||""),[je,He]=y.useState(!1),[V,Xe]=y.useState(!1),[dt,Dt]=y.useState(!1),[na,qe]=y.useState(""),[C,X]=y.useState(!1),[Re,_e]=y.useState([]),[Ye,Ae]=y.useState([]),[Ge,mt]=y.useState([]),[it,ct]=y.useState({}),Le=(z,W)=>{ct(pe=>{const Ie=new Set(pe[z]||[]);return Ie.add(String(W)),{...pe,[z]:Ie}})},[jt,ka]=y.useState(1),qt=y.useCallback((z,W,pe)=>{const Ie=["aprovado","pago","paid","liquidated","settled","inqueue"],$e=it[pe];return $e&&$e.has(String(W))?!0:Ye.some(Qe=>{const nt=Qe.pagadorId?._id||Qe.pagadorId,Nt=String(Qe.status||"").toLowerCase();return String(nt)===String(z)&&Qe.mesReferencia===pe&&Ie.includes(Nt)})},[Ye,it]),{progressoPercentual:Lt,pagamentosRealizados:_a,totalPagamentosNecessarios:Cs}=y.useMemo(()=>{if(!i)return{progressoPercentual:0,pagamentosRealizados:0,totalPagamentosNecessarios:0};const z=i.qtdParticipantes*i.duracaoMeses;let W=0;if(d.length>0)d.forEach(Ie=>{const $e=Ie.usuarioId?._id||Ie.usuarioId,Qe=Ie._id;for(let nt=1;nt<=i.duracaoMeses;nt++)qt(String($e),String(Qe),nt)&&W++});else{const Ie=["aprovado","pago","paid","liquidated","settled","inqueue"];W=Ye.filter($e=>Ie.includes(String($e.status||"").toLowerCase())).length}return{progressoPercentual:z>0?Math.round(W/z*100):0,pagamentosRealizados:W,totalPagamentosNecessarios:z}},[i,d,Ye,qt]),$n=y.useCallback((z,W)=>{const pe=z.usuarioId?._id||z.usuarioId,Ie=z._id,$e=qt(String(pe),String(Ie),W);if(!i)return{isPago:!1,isAtrasado:!1,isVenceHoje:!1};const Qe=new Date(i.dataVencimento||i.dataInicio||new Date),nt=new Date(Qe);i.tipo==="semanal"?nt.setDate(nt.getDate()+(W-1)*7):(nt.setMonth(nt.getMonth()+W-1),nt.setDate(i.diaVencimento));const Nt=new Date,It=nt.toDateString()===Nt.toDateString(),Pt=i.status==="ativo"&&!$e&&nt<Nt;return{isPago:$e,isAtrasado:Pt,isVenceHoje:It}},[i,qt]),gn=z=>{const W=new Date,pe=z==="diario"?0:5;W.setDate(W.getDate()+pe);const Ie=W.getFullYear(),$e=String(W.getMonth()+1).padStart(2,"0"),Qe=String(W.getDate()).padStart(2,"0");return`${Ie}-${$e}-${Qe}`},Fs=(z,W)=>{if(W==="diario")return!0;if(!z)return!1;const[pe,Ie,$e]=z.split("-").map(Number);if($e>28)return!1;const Qe=new Date(pe,Ie-1,$e);Qe.setHours(0,0,0,0);const nt=new Date;return nt.setHours(0,0,0,0),nt.setDate(nt.getDate()+5),Qe.getTime()>=nt.getTime()},Hs=z=>{try{localStorage.setItem(`caixa_${a}_participantes`,JSON.stringify(z))}catch(W){console.error("Erro ao salvar participantes:",W)}},ui=async z=>{if(!a||!z.length)return;const W=["pago","paid","liquidated","settled","aprovado","inqueue"];try{await Promise.all(z.map(async pe=>{try{((await Bn.getAllByAssociacao({caixaId:a,participanteId:pe._id}))?.cobrancas||[]).forEach(Qe=>{const nt=String(Qe.status||"").toLowerCase(),Nt=Qe.mesReferencia;Nt&&W.includes(nt)&&Le(Nt,pe._id)})}catch(Ie){console.debug(`Erro ao sincronizar status para participante ${pe._id}:`,Ie)}}))}catch(pe){console.error("Erro ao sincronizar status de cobranas:",pe)}},ts=(z,W)=>{if(z<=1)return W;const pe=.004,Ie=z-1,$e=W*(Math.pow(1+pe,Ie)-1);return W+$e};y.useEffect(()=>{if(a){za(),As(),ua();const z=setInterval(ua,1e4);return()=>clearInterval(z)}},[a]);const ua=async()=>{if(a)try{const z=await en.getAll({caixaId:a}),W=Array.isArray(z)?z:z.data||[];Ae(W),i?.mesAtual?_e(W.filter(pe=>pe.mesReferencia===i.mesAtual)):_e(W)}catch(z){console.error("Erro ao carregar pagamentos",z)}};y.useEffect(()=>{i?.mesAtual&&Ye.length>0&&_e(Ye.filter(z=>z.mesReferencia===i.mesAtual))},[i?.mesAtual,Ye]),y.useEffect(()=>{if(a)try{ua()}catch{}},[jt]),y.useEffect(()=>{ze&&ke()},[ze]);const za=async()=>{try{const z=await kt.getById(a);c(z);let W;if(z.dataVencimento)W=new Date(z.dataVencimento).toISOString().split("T")[0];else{const pe=new Date;z.diaVencimento?(pe.setDate(z.diaVencimento),pe<=new Date&&pe.setMonth(pe.getMonth()+1)):pe.setDate(pe.getDate()+5),W=pe.toISOString().split("T")[0]}yt({nome:z.nome,descricao:z.descricao||"",tipo:z.tipo||"mensal",valorTotal:z.valorTotal,qtdParticipantes:z.qtdParticipantes,duracaoMeses:z.duracaoMeses,dataVencimento:W})}catch(z){console.error("Erro ao carregar caixa:",z);const W={_id:a,nome:"Caixa da Famlia",descricao:"Caixa mensal da famlia Silva",tipo:"mensal",valorTotal:5e3,valorParcela:500,taxaApp:50,taxaAdmin:50,qtdParticipantes:10,duracaoMeses:10,status:"aguardando",mesAtual:0,diaVencimento:10,fundoGarantidor:500,codigoConvite:"FAM2024",dataInicio:"2024-01-01",adminId:{_id:"1",nome:"Joo Silva",email:"joao@email.com"}};c(W);const pe=new Date;pe.setDate(pe.getDate()+5),yt({nome:W.nome,descricao:W.descricao||"",tipo:W.tipo||"mensal",valorTotal:W.valorTotal,qtdParticipantes:W.qtdParticipantes,duracaoMeses:W.duracaoMeses,dataVencimento:pe.toISOString().split("T")[0]})}finally{p(!1)}},As=async()=>{try{const z=await ga.getByCaixa(a);if(z&&z.length>0){const W=z.filter(pe=>pe.usuarioId&&pe.usuarioId._id);u(W),Hs(W),await ui(W)}else u([])}catch(z){console.error("Erro ao carregar participantes:",z),u([])}},jo=()=>!i||!a?"":`${window.location.origin}/registro?codigo=${i.codigoConvite}&caixa=${a}`,Wl=()=>{if(!i)return"";i.adminId?.nome;const z=i.nome,W=we(i.valorTotal),pe=we(i.valorTotal/i.qtdParticipantes),Ie=nc(),$e=i.tipo==="semanal"?"semanais":"mensais",Qe=jo();return` *Convite para Caixa Juntix*

Ol! Voc foi convidado para participar do caixa *${z}*.

 *Valor total:* ${W}
 *Parcelas:* ${i.qtdParticipantes}x de ${pe} (${$e})
 *Incio previsto:* ${Ie}

Clique no link para se cadastrar e comear:
${Qe}`},Su=async()=>{if(i?.codigoConvite)try{const z=Wl();await navigator.clipboard.writeText(z),I(!0),setTimeout(()=>I(!1),2e3)}catch(z){console.error("Failed to copy class: ",z)}},ec=()=>{if(!i)return;const z=Wl(),W=`https://wa.me/?text=${encodeURIComponent(z)}`;window.open(W,"_blank")},Ar=async()=>{if(!(!i||d.length===0)){if(d.length<i.qtdParticipantes){alert("S  possvel sortear quando o caixa estiver completo.");return}try{await ga.sortear(a),As()}catch(z){console.error("Erro ao sortear:",z);const W=[...d].sort(()=>Math.random()-.5);u(W.map((pe,Ie)=>({...pe,posicao:Ie+1})))}}},No=async()=>{const z=i?.qtdParticipantes||0,W=d.length===z&&z>0,pe=W&&d.every($e=>($e.posicao||0)>0);if(!W||!pe){R("Sorteie as posies e garanta que todos os participantes tenham uma posio antes de iniciar."),me(!0);return}if(!await Gn()){R("Configure o split de pagamentos antes de iniciar o caixa. Acesse a aba Configuraes."),me(!0),U(!0);return}try{await kt.alterarStatus(a,"ativo"),za()}catch($e){console.error("Erro ao ativar:",$e)}},Fn=async()=>{if(a)try{await kt.alterarStatus(a,"pausado"),i&&c({...i,status:"pausado"})}catch(z){console.error("Erro ao pausar caixa:",z)}},Hn=async()=>{if(a)try{await kt.alterarStatus(a,"ativo"),i&&c({...i,status:"ativo"})}catch(z){console.error("Erro ao reativar caixa:",z)}},Gn=async()=>{try{if(!a)return!1;const z=await $d.getByCaixa(a);return!(!z||!z.taxaServicoSubId||!z.adminSubId||!z.participantesMesOrdem||z.participantesMesOrdem.length===0)}catch(z){return console.error("Erro ao verificar configurao de split:",z),!1}},Xn=async()=>{console.log(" handleIniciarCaixa called"),console.log(" aceiteContrato:",F),console.log(" splitConfigStatus:",Me);const z=Me.participantesVinculados&&Me.adminTemSubconta&&Me.regrasSplit;if(!F&&!z){console.log(" Aceite contrato not checked and configs not complete");return}const W=i?.qtdParticipantes||0,pe=d.length===W&&W>0,Ie=pe&&d.every($e=>($e.posicao||0)>0);if(!pe||!Ie){console.log(" Positions not sorted:",{completo:pe,todasPosicoes:Ie,total:W,participantesCount:d.length}),R("Sorteie as posies e garanta que todos os participantes tenham uma posio antes de iniciar."),me(!0);return}if(!z&&!await Gn()){U(!0),ft(!1),Oe(!1);return}try{console.log(" Calling API to start caixa..."),await kt.alterarStatus(a,"ativo"),console.log(" Caixa started successfully!"),i&&c({...i,status:"ativo",mesAtual:1,dataInicio:new Date().toISOString()}),ft(!1),U(!1),Oe(!1),at(" Caixa iniciado com sucesso!"),Je(!0)}catch($e){console.error(" Erro ao iniciar caixa:",$e),R("Erro ao iniciar caixa. Tente novamente."),me(!0)}},va=async()=>{if(ge.qtdParticipantes<2){alert("Mnimo de 2 participantes");return}if(ge.tipo==="semanal"&&ge.qtdParticipantes>24){alert("Mximo de 24 participantes para caixa semanal");return}if(ge.tipo==="mensal"&&ge.qtdParticipantes>12){alert("Mximo de 12 participantes para caixa mensal");return}if(ge.tipo==="semanal"&&ge.duracaoMeses>24){alert("Mximo de 24 semanas para caixa semanal");return}if(ge.tipo==="mensal"&&ge.duracaoMeses>12){alert("Mximo de 12 meses para caixa mensal");return}if(console.log("Validating date:",ge.dataVencimento,"type:",ge.tipo),!Fs(ge.dataVencimento,ge.tipo)){const[,,z]=ge.dataVencimento.split("-").map(Number);if(z>28){alert("O dia de vencimento deve ser no mximo dia 28 (para garantir compatibilidade com todos os meses).");return}alert(ge.tipo==="diario"?"A data de vencimento deve ser a partir de hoje":"A data de vencimento deve ser no mnimo 5 dias aps hoje");return}try{const[,,z]=ge.dataVencimento.split("-").map(Number),W={...ge,diaVencimento:z,dataVencimento:ge.dataVencimento,dataInicio:ge.dataVencimento,valorParcela:ge.valorTotal/ge.qtdParticipantes};await kt.update(a,W),i&&c({...i,...ge,diaVencimento:z,dataVencimento:ge.dataVencimento,valorParcela:ge.valorTotal/ge.qtdParticipantes}),za(),_(!1)}catch(z){if(console.error("Erro ao atualizar:",z),i){const[,,W]=ge.dataVencimento.split("-").map(Number);c({...i,...ge,diaVencimento:W,valorParcela:ge.valorTotal/ge.qtdParticipantes})}_(!1)}},tc=async()=>{if(i?.status==="ativo"){alert("No  possvel excluir um caixa ativo. Apenas administradores master podem realizar esta ao."),D(!1);return}try{await kt.delete(a),n("/caixas")}catch(z){console.error("Erro ao excluir:",z),n("/caixas")}},ac=z=>new Promise((W,pe)=>{const Ie=new FileReader;Ie.onload=$e=>{const Qe=new Image;Qe.onload=()=>{const nt=document.createElement("canvas"),Nt=400,It=400;let Pt=Qe.width,Bt=Qe.height;Pt>Bt?Pt>Nt&&(Bt*=Nt/Pt,Pt=Nt):Bt>It&&(Pt*=It/Bt,Bt=It),nt.width=Pt,nt.height=Bt,nt.getContext("2d")?.drawImage(Qe,0,0,Pt,Bt);const Tr=nt.toDataURL("image/jpeg",.7);W(Tr)},Qe.onerror=pe,Qe.src=$e.target?.result},Ie.onerror=pe,Ie.readAsDataURL(z)}),bn=async z=>{const W=z.target.files?.[0];if(W)try{const pe=await ac(W);w(pe),ce({...oe,picture:pe})}catch(pe){console.error("Erro ao processar imagem:",pe),R("Erro ao processar imagem. Tente outra foto."),me(!0)}},Yn=async()=>{if(i&&d.length>=(i.qtdParticipantes||0)){R("O caixa j est completo. Edite o caixa para aumentar participantes antes de adicionar."),me(!0);return}if(!oe.nome||!oe.email||!oe.telefone){R("Preencha nome, email e telefone."),me(!0);return}if(!oe.senha||oe.senha.length<6){R("Defina uma senha com pelo menos 6 caracteres."),me(!0);return}try{const z=oe.telefone.replace(/\D/g,""),W=oe.cpf.replace(/\D/g,""),pe=oe.address.zip.replace(/\D/g,""),Ie={nome:oe.nome,email:oe.email,telefone:z,cpf:W,chavePix:oe.chavePix,picture:oe.picture,senha:oe.senha,tipo:"usuario",criadoPorId:o?._id||"",criadoPorNome:o?.nome||"",address:{street:oe.address.street,zone:oe.address.zone,city:oe.address.city,state:oe.address.state,number:oe.address.number,complement:oe.address.complement,zip:pe}},$e=await Ws.create(Ie);if(!$e||!$e._id)throw new Error("Erro ao criar usurio no servidor");if(!await ga.create({caixaId:a,usuarioId:$e._id,aceite:!0,status:"ativo"}))throw new Error("Erro ao vincular participante ao caixa");await As(),v(!1),ce({nome:"",email:"",telefone:"",cpf:"",chavePix:"",picture:"",senha:"",address:{street:"",zone:"",city:"",state:"",number:"",complement:"",zip:""}}),at("Participante adicionado com sucesso!"),Je(!0)}catch(z){console.error("Erro ao adicionar participante:",z);const W=z.response?.data?.message||z.message||"Erro ao adicionar participante. Verifique os dados e tente novamente.";R(W),me(!0)}},Cu=async z=>{const W=z.replace(/\D/g,"");if(W.length===8){X(!0);try{const Ie=await(await fetch(`https://viacep.com.br/ws/${W}/json/`)).json();if(Ie.erro){R("CEP no encontrado. Verifique e tente novamente."),me(!0);return}ce({...oe,address:{...oe.address,street:Ie.logradouro||oe.address.street,zone:Ie.bairro||oe.address.zone,city:Ie.localidade||oe.address.city,state:Ie.uf||oe.address.state,zip:z}})}catch(pe){console.error("Erro ao buscar CEP:",pe),R("Erro ao buscar CEP. Verifique sua conexo e tente novamente."),me(!0)}finally{X(!1)}}},wo=async()=>{try{const z=await Ws.getAll(),pe=(Array.isArray(z)?z:z.usuarios||[]).filter(It=>It.tipo==="usuario"),Ie=await ga.getAll(),$e=Array.isArray(Ie)?Ie:Ie.participantes||[],Qe=new Set;$e.forEach(It=>{const Pt=It.caixaId?.status;Pt&&Pt!=="finalizado"&&Qe.add(It.usuarioId?._id||It.usuarioId)});const nt=new Set(d.map(It=>It.usuarioId._id)),Nt=pe.filter(It=>!Qe.has(It._id)&&!nt.has(It._id));Y(Nt)}catch(z){console.error("Erro ao carregar usurios sem caixa:",z),Y([])}},sc=async()=>{if(i&&d.length>=(i.qtdParticipantes||0)){R("O caixa j est completo. Edite o caixa para aumentar participantes antes de adicionar."),me(!0);return}if(!Ve.length){R("Selecione pelo menos um participante existente."),me(!0);return}try{await Promise.all(Ve.map(async z=>{if(!await ga.create({caixaId:a,usuarioId:z,aceite:!0,status:"ativo"}))throw new Error("Erro ao vincular participante existente ao caixa")})),await As(),N(!1),Ze([]),at("Participantes existentes adicionados com sucesso!"),Je(!0)}catch(z){console.error("Erro ao adicionar participante existente:",z);const W=z.response?.data?.message||z.message||"Erro ao adicionar participante existente.";R(W),me(!0)}},Au=async z=>{try{await ga.delete(z);const W=d.filter(pe=>pe._id!==z);u(W),Hs(W),E(!1),q(null),L(!1),Z(null),at("Participante removido com sucesso!"),Je(!0)}catch(W){console.error("Erro ao remover participante:",W);const pe=W.response?.data?.message||"Erro ao remover participante.";R(pe),me(!0)}},mi=z=>{const W=z.map((pe,Ie)=>({...pe,posicao:Ie+1}));u(W),Hs(W)},xi=async()=>{try{for(const z of d)await ga.definirPosicao(z._id,z.posicao||0);ie(!1)}catch(z){console.error("Erro ao salvar ordem:",z),ie(!1)}},Gs=z=>{if(!i?.dataInicio)return"-";const W=i.dataInicio.split("T")[0].split("-"),pe=parseInt(W[0]),Ie=parseInt(W[1])-1,$e=i.tipo==="diario"||i.tipo==="semanal"?parseInt(W[2]):i.diaVencimento||parseInt(W[2]),Qe=new Date(pe,Ie,$e);return i.tipo==="diario"?Qe.setDate(Qe.getDate()+(z-1)):i.tipo==="semanal"?Qe.setDate(Qe.getDate()+(z-1)*7):(Qe.setMonth(Qe.getMonth()+z-1),Qe.setDate(i.diaVencimento)),Xt(Qe.toISOString())},as=()=>{if(!i?.dataInicio)return"-";const W=i.dataInicio.split("T")[0].split("-"),pe=parseInt(W[0]),Ie=parseInt(W[1])-1,$e=i.tipo==="diario"||i.tipo==="semanal"?parseInt(W[2]):i.diaVencimento||parseInt(W[2]),Qe=Math.max(1,an||i.mesAtual||1);let nt;if(i.tipo==="diario"){const Nt=new Date(pe,Ie,$e);Nt.setDate(Nt.getDate()+(Qe-1)),nt=Nt}else if(i.tipo==="semanal"){const Nt=new Date(pe,Ie,$e);Nt.setDate(Nt.getDate()+(Qe-1)*7),nt=Nt}else{const Nt=Ie+(Qe-1);nt=new Date(pe,Nt,$e)}return nt.setDate(nt.getDate()+1),nt.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"})},fi=()=>{if(!i?.dataInicio)return"-";const W=i.dataInicio.split("T")[0].split("-"),pe=parseInt(W[0]),Ie=parseInt(W[1])-1,$e=i.tipo==="diario"||i.tipo==="semanal"?parseInt(W[2]):i.diaVencimento||parseInt(W[2]),Qe=Math.max(1,an||i.mesAtual||1);if(i.tipo==="diario"){const nt=new Date(pe,Ie,$e);return nt.setDate(nt.getDate()+(Qe-1)),Xt(nt.toISOString())}else if(i.tipo==="semanal"){const nt=new Date(pe,Ie,$e);return nt.setDate(nt.getDate()+(Qe-1)*7),Xt(nt.toISOString())}else{const nt=Ie+(Qe-1),Nt=new Date(pe,nt,$e);return Xt(Nt.toISOString())}},nc=()=>{if(!i?.dataInicio)return"-";const z=i.dataInicio.split("T")[0].split("-"),W=parseInt(z[0]),pe=parseInt(z[1])-1,Ie=i.tipo!=="semanal"?i.diaVencimento:parseInt(z[2]);return Xt(new Date(W,pe,Ie).toISOString())},So=()=>{if(!i?.dataInicio)return"-";const z=i.dataInicio.split("T")[0].split("-"),W=parseInt(z[0]),pe=parseInt(z[1])-1,Ie=i.diaVencimento||parseInt(z[2]);if(i.tipo==="diario"){const $e=new Date(W,pe,Ie);return $e.setDate($e.getDate()+(i.qtdParticipantes-1)),Xt($e.toISOString())}else if(i.tipo==="semanal"){const $e=new Date(W,pe,Ie);return $e.setDate($e.getDate()+(i.qtdParticipantes-1)*7),Xt($e.toISOString())}else{const $e=pe+(i.qtdParticipantes-1);return Xt(new Date(W,$e,Ie).toISOString())}},rc=z=>{if(!i?.dataInicio)return"-";const W=i.dataInicio.split("T")[0].split("-"),pe=parseInt(W[0]),Ie=parseInt(W[1])-1,$e=i.tipo==="diario"||i.tipo==="semanal"?parseInt(W[2]):i.diaVencimento||parseInt(W[2]);if(i.tipo==="diario"){const Qe=new Date(pe,Ie,$e);return Qe.setDate(Qe.getDate()+(z-1)),Xt(Qe.toISOString())}else if(i.tipo==="semanal"){const Qe=new Date(pe,Ie,$e);return Qe.setDate(Qe.getDate()+(z-1)*7),Xt(Qe.toISOString())}else{const Qe=Ie+(z-1),nt=new Date(pe,Qe,$e);return Xt(nt.toISOString())}},hi=Re.filter(z=>{const W=String(z.status||"").toLowerCase();return["aprovado","pago","paid","liquidated","settled"].includes(W)}).length;Math.max(0,d.length-hi);const Tu=i&&d.length>0?Re.filter(z=>{const W=String(z.status||"").toLowerCase();return["aprovado","pago","paid","liquidated","settled"].includes(W)}).length:0;d.length-Tu;const ca=i?Math.max(0,i.qtdParticipantes-d.length):0,ss=ca===0&&d.length>0,ja=i?.status==="ativo",an=y.useMemo(()=>{if(!i)return 1;let z=i.mesAtual||1;if(i.tipo==="diario"||i.tipo==="semanal"){let W="";i.dataInicio instanceof Date?W=i.dataInicio.toISOString():W=String(i.dataInicio||""),console.log(" [DEBUG] Details Date Parse:",{raw:i.dataInicio,str:W});const pe=W.split("T")[0];if(pe&&pe.includes("-")){const[Ie,$e,Qe]=pe.split("-").map(Number),nt=new Date(Ie,$e-1,Qe,12,0,0,0),Nt=new Date;Nt.setHours(12,0,0,0);const It=Nt.getTime()-nt.getTime(),Pt=Math.floor(It/(1e3*60*60*24));Pt>=0&&(i.tipo==="diario"?z=Pt+1:z=Math.floor(Pt/7)+1,i.duracaoMeses&&z>i.duracaoMeses&&(z=i.duracaoMeses))}}return z},[i]),yn=d.find(z=>Number(z.posicao)===an);return f?e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-4",children:[e.jsx(ws,{}),e.jsx(ws,{}),e.jsx(ws,{})]}):i?e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(di,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("div",{className:"flex gap-2",children:[(o?.tipo==="master"||o?.tipo==="administrador")&&i.status!=="finalizado"&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(ou,{className:"w-4 h-4"}),onClick:()=>_(!0),children:"Editar"}),e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(mn,{className:"w-4 h-4"}),onClick:()=>D(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Excluir"})]}),(o?.tipo==="master"||i?.adminId?._id===o?._id)&&(i?.status==="ativo"?e.jsx(ae,{variant:"secondary",size:"sm",onClick:Fn,className:"bg-amber-500 text-white hover:bg-amber-600",children:"Pausar Caixa"}):i?.status==="pausado"?e.jsx(ae,{variant:"primary",size:"sm",onClick:Hn,children:"Reativar Caixa"}):null)]})]}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(Pe,{className:ve("mb-6 overflow-hidden",ja&&"ring-2 ring-green-400"),children:[e.jsxs("div",{className:ve("-m-4 md:-m-5 mb-4 p-4 md:p-5 text-white",ja&&i.status!=="finalizado"?"bg-gradient-to-r from-green-600 to-emerald-600":i.status==="finalizado"?"bg-gradient-to-r from-violet-600 to-purple-600":"bg-gradient-to-r from-green-500 to-green-600"),children:[e.jsxs("div",{className:"flex items-start justify-between w-full mb-1",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold flex-1 mr-2 leading-tight",children:i.nome}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[ja&&i.status!=="finalizado"&&e.jsxs(ot,{className:"bg-white text-green-600 border border-green-100 shadow-sm whitespace-nowrap",children:[e.jsx(Kr,{className:"w-3 h-3 mr-1"}),"Em andamento"]}),i?.status==="finalizado"&&e.jsxs(ot,{className:"bg-white text-violet-600 border border-violet-100 shadow-sm whitespace-nowrap",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Concludo"]}),i?.status==="pausado"&&e.jsx(ot,{variant:"warning",className:"bg-white text-amber-600 border border-amber-100 shadow-sm whitespace-nowrap",children:"Pausado"}),ss&&!ja&&e.jsxs(ot,{className:"bg-green-400/90 text-white whitespace-nowrap",children:[e.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Completo"]}),ca>0&&e.jsxs(ot,{variant:"danger",className:"bg-red-500/90 text-white whitespace-nowrap",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Faltam ",ca]})]})]}),e.jsx("div",{className:"flex flex-col gap-1 mb-2",children:e.jsxs("div",{className:"text-white/90 text-sm font-medium flex items-center flex-wrap gap-2",children:[e.jsx("span",{className:"opacity-80",children:"Tipo de Caixa:"}),e.jsx("span",{children:i.tipo==="diario"?"Dirio":i.tipo==="semanal"?"Semanal":"Mensal"}),i.adminId?.nome&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:inline opacity-60",children:"|"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"opacity-80",children:"Organizado por:"}),e.jsx("span",{children:i.adminId.nome})]})]})]})}),i.descricao&&e.jsx("p",{className:"text-white/80 text-sm mt-1 leading-snug",children:i.descricao.length>140?`${i.descricao.substring(0,140)}...`:i.descricao}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-white/90 font-medium text-lg",children:[Lt,"%"]}),e.jsx("span",{className:"text-white/70 text-xs",children:"Concludo"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-white/90 font-medium text-lg",children:_a}),e.jsx("span",{className:"text-white/70 text-xs ml-1",children:"pagamentos"})]})]}),e.jsx("div",{className:"h-3 bg-black/20 rounded-full overflow-hidden backdrop-blur-sm",children:e.jsx(De.div,{initial:{width:0},animate:{width:`${Lt}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]"})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-white/60 text-xs",children:["Meta: ",Cs," pagamentos"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:ve("text-center p-3 rounded-xl",ca>0?"bg-red-50 ring-2 ring-red-200":"bg-gray-50"),children:[e.jsx(aa,{className:ve("w-5 h-5 mx-auto mb-1",ca>0?"text-red-500":"text-green-500")}),e.jsx("p",{className:"text-xs text-gray-500",children:"Participantes"}),e.jsxs("p",{className:ve("font-bold",ca>0?"text-red-600":"text-gray-900"),children:[d.length,"/",i.qtdParticipantes]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx(Wt,{className:"w-5 h-5 mx-auto text-green-500 mb-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor Total"}),e.jsx("p",{className:"font-bold text-gray-900",children:we(i.valorTotal)})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx(Ta,{className:"w-5 h-5 mx-auto text-green-500 mb-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Primeira Parcela"}),e.jsx("p",{className:"font-bold text-gray-900",children:nc()})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx(Ta,{className:"w-5 h-5 mx-auto text-green-500 mb-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"ltima Parcela"}),e.jsx("p",{className:"font-bold text-gray-900",children:So()})]})]}),ca>0&&!ja&&e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wr,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Caixa incompleto! Adicione mais ",ca," participante",ca>1?"s":"","."]}),e.jsx("p",{className:"text-xs text-amber-600 mt-0.5",children:"O caixa s pode ser iniciado quando todos os participantes forem adicionados."})]}),e.jsx(ae,{size:"sm",onClick:()=>v(!0),leftIcon:e.jsx(Il,{className:"w-4 h-4"}),className:"bg-amber-500 hover:bg-amber-600",children:"Adicionar"})]})}),ss&&!ja&&i.status!=="finalizado"&&e.jsxs(Pe,{className:"mb-6 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(Kr,{className:"w-32 h-32 text-green-600"})}),e.jsxs("div",{className:"p-4 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-4 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center shrink-0 shadow-sm",children:e.jsx(Kr,{className:"w-6 h-6 text-green-600 ml-1"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"font-bold text-green-900 text-lg",children:"Caixa completo! Pronto para iniciar."}),e.jsxs("p",{className:"text-green-700 text-sm",children:["Todos os ",i.qtdParticipantes," participantes foram adicionados."]})]})]}),(o?.tipo==="master"||o?._id===i.adminId?._id)&&e.jsx(ae,{onClick:()=>ft(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",size:"lg",leftIcon:e.jsx(Kr,{className:"w-5 h-5"}),children:"Iniciar Caixa"})]})]}),"    ",e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Cdigo de Convite"}),e.jsx("p",{className:"font-mono font-bold text-green-600 text-lg",children:i.codigoConvite})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(yM,{className:"w-4 h-4"}),onClick:ec,className:"justify-start h-8 px-2",children:"Compartilhar"}),e.jsx(ae,{variant:"ghost",size:"sm",onClick:Su,leftIcon:J?e.jsx(Mt,{className:"w-4 h-4"}):e.jsx(XN,{className:"w-4 h-4"}),className:"justify-start h-8 px-2",children:J?"Copiado!":"Copiar"})]})]}),d.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resumo de Pagamentos"}),!ja&&i.status!=="finalizado"?e.jsxs("div",{className:"text-center py-8 text-gray-400 bg-gray-50/50 rounded-xl border border-gray-100 mb-6",children:[e.jsx(Vs,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Os pagamentos sero exibidos aps o caixa ser iniciado"})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Tipo de Caixa"}),e.jsx("p",{className:"font-bold text-blue-900 capitalize",children:i.tipo||"Mensal"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Valor da Parcela"}),e.jsx("p",{className:"font-bold text-blue-900",children:we(i.valorParcela)})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Qtd Participantes"}),e.jsx("p",{className:"font-bold text-blue-900",children:i.qtdParticipantes})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Qtd de Parcelas"}),e.jsx("p",{className:"font-bold text-blue-900",children:i.qtdParticipantes})]})]})})]}),(ja||i.status==="finalizado")&&e.jsx("div",{children:e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 pt-1 px-1 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent snap-x snap-mandatory",children:Array.from({length:i.duracaoMeses}).map((z,W)=>{const pe=W+1,Ie=new Set;Ye.forEach(Pt=>{const Bt=String(Pt.status||"").toLowerCase();if(Pt.mesReferencia===pe&&["aprovado","pago","paid","liquidated","settled"].includes(Bt)){const sn=Pt.pagadorId?._id||Pt.pagadorId;Ie.add(String(sn))}});const $e=it[pe]||new Set,Qe=new Set([...Ie,...$e]).size,nt=Math.max(0,d.length-Qe),Nt=pe===i.mesAtual,It=pe<i.mesAtual;return e.jsxs("div",{className:ve("min-w-[150px] flex-1 p-3 rounded-xl border transition-all snap-center",Nt?"bg-white border-blue-200 shadow-md ring-1 ring-blue-100 scale-105":It?"bg-gray-50 border-gray-100 opacity-80":"bg-white border-gray-200"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:ve("font-semibold text-sm",Nt?"text-blue-700":"text-gray-700"),children:[i.tipo==="diario"?"Dia":i.tipo==="semanal"?"Semana":"Ms"," ",pe]}),Nt&&e.jsx(ot,{className:"bg-blue-100 text-blue-700 text-[10px] px-1.5 py-0",children:"Atual"}),It&&Qe===d.length&&e.jsx(Mt,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-green-50/50 p-1.5 rounded",children:[e.jsxs("span",{className:"text-xs text-green-700 font-medium flex items-center gap-1",children:[e.jsx(Mt,{className:"w-3 h-3"})," Pagos"]}),e.jsx("span",{className:"text-sm font-bold text-green-700",children:Qe})]}),e.jsxs("div",{className:"flex justify-between items-center bg-amber-50/50 p-1.5 rounded",children:[e.jsxs("span",{className:"text-xs text-amber-700 font-medium flex items-center gap-1",children:[e.jsx(Vs,{className:"w-3 h-3"})," Pendentes"]}),e.jsx("span",{className:"text-sm font-bold text-amber-700",children:nt})]})]})]},pe)})})})]}),o?.tipo!=="usuario"?e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Seu ganho como administrador (10%)"}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:we(i.valorTotal*.1)})]}),e.jsx(Ll,{className:"w-8 h-8 text-green-500"})]})}):e.jsxs(Pe,{className:"mt-4 p-4 bg-gradient-to-br from-blue-50 to-green-50 border-2 border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5 text-blue-600"}),"Resumo do Seu Caixa"]}),e.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Voc Recebe"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:(()=>{const W=d.find($e=>($e.usuarioId?._id||$e.usuarioId)===o?._id)?.posicao||1,pe=i.valorTotal*yl*(W-1),Ie=i.valorTotal+pe;return we(Ie)})()}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["R$ ",(i.valorTotal/1e3).toFixed(1),"k + IPCA"]}),e.jsxs("p",{className:"text-xs text-green-600 mt-2 leading-tight",children:["*Caso o caixa finalize com todos os participantes adimplentes, voc ainda poder receber o valor do fundo de reserva dividido igualitariamente (",we(i.valorTotal/i.qtdParticipantes/i.qtdParticipantes*i.duracaoMeses/5),")"]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Voc Paga (total)"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(()=>{const z=i.valorTotal,W=i.duracaoMeses*Xi,pe=i.valorTotal/i.qtdParticipantes/i.qtdParticipantes,Ie=i.valorTotal*.1/i.qtdParticipantes,$e=z+W+pe+Ie;return we($e)})()}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Parcelas + Taxa de Servio + Fundo de Reserva + Comisso Organizador do Caixa"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Resultado Final"}),e.jsx("span",{className:"text-lg font-bold text-amber-600",children:(()=>{const W=d.find(Bt=>(Bt.usuarioId?._id||Bt.usuarioId)===o?._id)?.posicao||1,pe=i.valorTotal*yl*(W-1),Ie=i.valorTotal+pe,$e=i.valorTotal,Qe=i.duracaoMeses*Xi,nt=i.valorTotal/i.qtdParticipantes/i.qtdParticipantes,Nt=i.valorTotal*.1/i.qtdParticipantes,It=$e+Qe+nt+Nt,Pt=Ie-It;return Pt>=0?`+${we(Pt)}`:`-${we(Math.abs(Pt))}`})()})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Diferena entre o que voc recebe e o que paga. Caso receba o fundo de reserva a diferena pode ser ainda menor."})]})]})]})}),d.length>0&&ja&&e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6",children:e.jsx(Pe,{className:"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 border-2 border-green-200/60 shadow-lg",children:e.jsx("div",{className:"flex-1",children:yn?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg flex-1 mr-2",children:(()=>{if(i?.tipo==="diario"){const z=new Date().toLocaleDateString("pt-BR"),W=fi();return W===z?`Contemplao prevista aps ${W}`:`Contemplao prevista aps ${W}`}else{if(i?.tipo==="semanal")return`Participante Contemplado na Semana ${an||i.mesAtual||1}`;{const z=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];if(i?.dataInicio){const pe=i.dataInicio.split("T")[0].split("-"),Ie=parseInt(pe[1])-1,$e=an||i.mesAtual||1,nt=(Ie+($e-1))%12;return`Participante Contemplado em ${z[nt]}`}else return"Participante Contemplado este ms"}}})()}),e.jsxs("div",{className:"bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-full whitespace-nowrap",children:[i?.tipo==="diario"?"Dia":i?.tipo==="semanal"?"Semana":"Ms"," ",an||i?.mesAtual||1]})]})}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-green-200/50 shadow-sm",children:[e.jsxs("div",{className:"mb-4 pb-4 border-b border-green-200",children:[e.jsx("p",{className:"text-xs text-green-600 font-semibold mb-2",children:(()=>{if(i?.tipo==="diario"){const z=new Date().toLocaleDateString("pt-BR"),W=fi();return W===z?"Recebe HOJE":`Recebe dia ${W}`}return i?.tipo==="semanal"?"Recebe esta semana":"Recebe este ms"})()}),e.jsx("div",{className:"flex items-center gap-3 mb-2 w-full",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900 text-lg mb-1",children:yn.usuarioId.nome}),e.jsxs("div",{className:"flex flex-col gap-1 text-sm text-amber-600 font-medium",children:[e.jsxs("span",{children:["Valor: ",we(i.valorTotal)]}),e.jsxs("span",{children:["Vencimento: ",fi()]})]})]})})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3 shadow-sm",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-full text-green-700 mt-0.5",children:e.jsx(Ta,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-green-900 font-bold text-sm uppercase tracking-wide mb-1",children:"Agendamento Confirmado"}),e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:["A transferncia ser realizada automaticamente no dia ",e.jsx("span",{className:"font-bold text-green-700 bg-green-100 px-1 rounded",children:as()}),"."]})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ja,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700",children:["Comprovante e notificaes sero enviados para ",e.jsx("span",{className:"font-semibold text-green-700",children:"todos os participantes"})]})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"font-bold text-gray-900 text-lg mb-2 flex items-center gap-2",children:[e.jsx("span",{children:"Informaes de Contemplao"}),e.jsxs(ot,{className:"bg-amber-500 text-white text-xs",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Aguardando Sorteio"]})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-green-200/50 shadow-sm",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fv,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700",children:["As posies dos participantes ainda no foram sorteadas.",(o?.tipo==="master"||i?.adminId?._id===o?._id)&&e.jsx("span",{className:"font-semibold text-amber-700",children:' Clique em "Sortear Posies" para definir a ordem de contemplao.'})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ta,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700",children:["Aps o sorteio, o participante contemplado do ms ser exibido aqui com a ",e.jsx("span",{className:"font-semibold text-green-700",children:"data de transferncia automtica"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ja,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-gray-700",children:["Comprovantes e notificaes sero enviados para ",e.jsx("span",{className:"font-semibold text-green-700",children:"todos os participantes"})," quando houver contemplao"]})]})]})})]})})})}),e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Ta,{className:"w-4 h-4 text-green-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cronograma de Pagamentos e Recebimentos"})]}),e.jsx("div",{className:"flex gap-1 p-1 bg-gray-100 rounded-xl mb-6 overflow-x-auto",children:aD.map(z=>e.jsxs("button",{onClick:()=>b(z.id),className:ve("flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium whitespace-nowrap transition-all flex-1 justify-center",h===z.id?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[e.jsx(z.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:z.label})]},z.id))}),e.jsxs(Jl,{mode:"wait",children:[h==="participantes"&&e.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[(o?.tipo==="master"||i?.adminId?._id===o?._id)&&e.jsxs(e.Fragment,{children:[d.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{variant:"primary",size:"sm",leftIcon:e.jsx(Il,{className:"w-4 h-4"}),onClick:()=>v(!0),disabled:ss,children:"Cadastrar Participante"}),e.jsx(ae,{variant:"secondary",size:"sm",leftIcon:e.jsx(ap,{className:"w-4 h-4"}),onClick:async()=>{await wo(),N(!0)},disabled:ss,children:"Adicionar Existente"})]}),e.jsx(ae,{variant:"secondary",size:"sm",leftIcon:e.jsx(Fv,{className:"w-4 h-4"}),onClick:Ar,disabled:!ss||ja||i.status==="finalizado",children:"Sortear Posies"}),e.jsx(ae,{variant:te?"primary":"secondary",size:"sm",leftIcon:e.jsx(Uv,{className:"w-4 h-4"}),onClick:()=>te?xi():ie(!0),disabled:!ss||ja||i.status==="finalizado",children:te?"Salvar Ordem":"Reordenar"}),te&&e.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{ie(!1),As()},children:"Cancelar"})]}),i.status==="aguardando"&&ca===0&&o?.tipo!=="usuario"&&e.jsx(ae,{variant:"primary",size:"sm",leftIcon:e.jsx(Kr,{className:"w-4 h-4"}),onClick:No,children:"Iniciar Caixa"})]}),d.length>0?te&&!ja?e.jsx($E,{axis:"y",values:d,onReorder:mi,className:"space-y-3",children:d.map(z=>e.jsx(XE,{value:z,className:"cursor-grab active:cursor-grabbing",children:e.jsx(Pe,{className:"bg-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Uv,{className:"w-5 h-5 text-gray-400"}),e.jsx("div",{className:ve("w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm","bg-gray-100 text-gray-500"),children:z.posicao||"-"}),e.jsx(Ns,{name:z?.usuarioId?.nome||"Sem nome",src:z?.usuarioId?.fotoUrl,size:"sm"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:z?.usuarioId?.nome||"Sem nome"}),e.jsx("p",{className:"text-sm text-gray-500",children:Gs(z.posicao||0)})]})]})})},z._id))}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-2 p-2 bg-gray-100 rounded-2xl mb-4 overflow-x-auto shadow-sm",children:Array.from({length:i.qtdParticipantes}).map((z,W)=>{const pe=W+1;return e.jsxs("button",{onClick:()=>ka(pe),className:ve("px-4 py-2.5 rounded-2xl text-sm font-semibold whitespace-nowrap transition-all",jt===pe?"bg-gradient-to-br from-green-500 to-green-600 text-white shadow-md scale-105":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),children:[i.tipo==="diario"?"Dia":i.tipo==="semanal"?"Semana":"Ms"," ",pe]},pe)})}),d.map((z,W)=>{const{isPago:pe,isAtrasado:Ie,isVenceHoje:$e}=$n(z,jt),Qe=o?.tipo==="master",nt=Qe||i?.adminId?._id===o?._id;d.some(Bt=>(Bt.posicao||0)>0);const Nt=!ja&&(Qe||nt),It=o?.tipo==="usuario"?(z.usuarioId?._id||z.usuarioId)===o._id:!0,Pt=o?.tipo!=="usuario"||It;return e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:W*.05},children:e.jsx(Pe,{hover:Pt,onClick:()=>{Pt&&(q(z),E(!0))},className:ve("transition-all",!Pt&&"cursor-default opacity-75",pe?"ring-2 ring-blue-500 bg-blue-50":z.posicao===i.mesAtual?"ring-2 ring-green-400 bg-green-50/50":"",o?.tipo==="usuario"&&It&&"border-2 border-amber-400 shadow-[0_0_15px_rgba(251,191,36,0.2)] animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[Nt&&e.jsx("button",{type:"button",onClick:Bt=>{Bt.stopPropagation(),Z(z),L(!0)},className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(mn,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[e.jsxs("span",{className:"mr-1",children:[z.posicao,"."]}),z?.usuarioId?.nome||"Sem nome"]}),pe?e.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded-full border border-green-200",children:"EM DIA"}):Ie?e.jsx("span",{className:"text-xs font-bold text-red-600 bg-red-100 px-2 py-0.5 rounded-full border border-red-200",children:"ATRASADO"}):$e?e.jsx("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full border border-amber-200",children:"VENCE HOJE"}):e.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded-full border border-green-200",children:"EM DIA"}),o?.tipo==="usuario"&&It&&e.jsx(ot,{variant:"info",size:"sm",className:"bg-amber-100 text-amber-800 border border-amber-300",children:"Voc"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Wt,{className:"w-3 h-3 text-gray-400"}),we(ts(jt,i.valorParcela||i.valorTotal/i.qtdParticipantes))]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ta,{className:"w-3 h-3 text-gray-400"}),rc(jt)]}),e.jsx("span",{className:"text-gray-300",children:"|"}),pe?e.jsxs("span",{className:"font-bold text-green-600",children:["PAGO ",(()=>{const Bt=jt,sn=i.valorParcela||i.valorTotal/i.qtdParticipantes,Tr=Bt===1?sn/i.qtdParticipantes:0,Qn=Bt>1?sn*yl:0,Kn=Bt===(i.duracaoMeses||i.qtdParticipantes)?i.valorTotal*.1/i.qtdParticipantes:0,ic=sn+Xi+Tr+Qn+Kn;return we(ic)})()]}):e.jsx("span",{className:"text-gray-500",children:"R$ 0,00"}),e.jsxs("span",{className:"hidden sm:flex items-center gap-1 ml-2 border-l pl-2 border-gray-200",children:[e.jsx(Fa,{className:"w-3 h-3 text-gray-400"}),z.usuarioId.telefone]})]})]}),e.jsx(ju,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-2"})]})})},z._id)})]}):e.jsx(wu,{icon:aa,title:"Nenhum participante ainda",description:"Cadastre os participantes do caixa ou use um existente para comear.",actionLabel:ss||ja?void 0:"Cadastrar Participante",onAction:ss||ja?void 0:(()=>v(!0)),secondaryActionLabel:ss||ja?void 0:"Adicionar Existente",onSecondaryAction:ss||ja?void 0:(async()=>{await wo(),N(!0)})}),e.jsxs(Pe,{className:"mt-6 mb-4 bg-blue-50 border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Composio do Boleto"}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm bg-white/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between border-b border-blue-100 pb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Parcela"}),e.jsx("span",{className:"font-medium text-gray-900",children:we(i.valorParcela)})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-100 pb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Taxa de Servio"}),e.jsx("span",{className:"font-medium text-gray-900",children:we(Xi)})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-100 pb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Fundo de reserva (1)"}),e.jsx("span",{className:"font-medium text-gray-900",children:we(i.valorTotal/i.qtdParticipantes/i.qtdParticipantes)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Comisso admin (ltimo)"}),e.jsx("span",{className:"font-medium text-gray-900",children:o?.tipo==="usuario"?we(i.valorTotal*.1/i.qtdParticipantes):we(i.valorTotal*.1)})]})]}),e.jsxs("div",{className:"mt-3 space-y-3 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["Parcela: ",we(i.valorParcela)]}),e.jsx("p",{children:"Valor correspondente  sua cota mensal no caixa coletivo, calculado pela diviso igualitria do montante total pelo nmero de participantes. Este  o valor base que compe o fundo comum do grupo."})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["Taxa de Servio: ",we(Xi)]}),e.jsx("p",{children:"Valor cobrado pelo Gateway de Pagamento para processamento e gerao de PIX e Boleto. Esta taxa cobre os custos operacionais do sistema de pagamentos, incluindo segurana nas transaes financeiras, criptografia de dados, infraestrutura tecnolgica e conformidade com regulamentaes bancrias. Um Gateway de Pagamento  uma plataforma intermediria que conecta de forma segura os participantes aos meios de pagamento, garantindo que todas as transaes sejam processadas com proteo contra fraudes e com total rastreabilidade."})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["Fundo de Reserva: ",we(i.valorTotal/i.qtdParticipantes/i.qtdParticipantes)]}),e.jsx("p",{children:"Parcela adicional dividida igualitariamente entre todos os participantes para constituir uma reserva de segurana equivalente a um ms de operao. Este fundo serve como proteo contra eventuais inadimplncias, garantindo a continuidade dos pagamentos programados. Ao final do ciclo do caixa, caso no haja necessidade de utilizao, todo o valor do fundo  convertido como lucro do sistema/aplicao, sendo esse o nico lucro do sistema de gesto de caixa."})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["Taxa IPCA: ",we(i.valorParcela*yl)]}),e.jsx("p",{children:"Correo monetria aplicada para proteger o poder de compra ao longo do ms. Esta taxa compensa a inflao medida pelo ndice Nacional de Preos ao Consumidor Amplo (IPCA), evitando que a desvalorizao da moeda impacte negativamente o valor real do caixa. Trata-se de um ajuste percentual mnimo que preserva o valor financeiro do grupo diante das oscilaes econmicas mensais."})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["Comisso do Administrador:",o?.tipo==="usuario"?we(i.valorTotal*.1/i.qtdParticipantes):we(i.valorTotal*.1)]}),e.jsx("p",{children:"Remunerao do administrador responsvel por recrutar e organizar o grupo, gerenciar as operaes do caixa, manter comunicao ativa com os participantes e garantir o cumprimento dos pagamentos. Esta comisso corresponde a 10% do valor total do caixa dividido igualitariamente entre os participantes e  paga exclusivamente no ltimo ms do ciclo. Pagamento  realizado apenas se o caixa for concludo com sucesso e todas as obrigaes forem cumpridas conforme planejado."})]})]})]})]},"participantes"),h==="configuracoes"&&e.jsx(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:e.jsxs(Pe,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Informaes do Caixa"}),(o?.tipo==="master"||o?.tipo==="administrador")&&e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(ou,{className:"w-4 h-4"}),onClick:()=>_(!0),children:"Editar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Nome"}),e.jsx("span",{className:"font-medium",children:i.nome})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Valor Total"}),e.jsx("span",{className:"font-medium",children:we(i.valorTotal)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Valor Parcela"}),e.jsx("span",{className:"font-medium",children:we(i.valorParcela)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Taxa Servio"}),e.jsxs("span",{className:"font-medium",children:[we(Xi),"/ms"]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Fundo Reserva (1 ms)"}),e.jsx("span",{className:"font-medium",children:we(i.valorTotal/i.qtdParticipantes/i.qtdParticipantes)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Correo IPCA"}),e.jsxs("span",{className:"font-medium",children:[(yl*100).toFixed(2),"%/ms"]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-500",children:"Dia de Vencimento"}),e.jsxs("span",{className:"font-medium",children:["Dia ",i.diaVencimento]})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-gray-500",children:"Administrador"}),e.jsx("span",{className:"font-medium",children:i.adminId.nome})]})]}),(o?.tipo==="master"||o?.tipo==="administrador")&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(ae,{variant:"danger",className:"w-full",leftIcon:e.jsx(mn,{className:"w-4 h-4"}),onClick:()=>D(!0),children:"Excluir Caixa"})})]})},"configuracoes")]}),e.jsx(da,{isOpen:g,onClose:()=>v(!1),title:"Cadastrar Participante",size:"xl",children:e.jsxs("div",{className:"space-y-6 px-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3 pt-2 w-full md:w-auto flex-shrink-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{src:A,name:oe.nome||"Participante",size:"xl"}),e.jsx("label",{htmlFor:"picture-upload-caixa",className:"absolute bottom-0 right-0 bg-green-500 text-white p-2 rounded-full cursor-pointer hover:bg-green-600 transition-colors shadow-lg",children:e.jsx(nu,{className:"w-4 h-4"})}),e.jsx("input",{id:"picture-upload-caixa",type:"file",accept:"image/*",onChange:bn,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Foto"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(Ke,{label:"Nome Completo *",placeholder:"Nome do participante",leftIcon:e.jsx(ya,{className:"w-4 h-4"}),value:oe.nome,onChange:z=>ce({...oe,nome:z.target.value})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ke,{label:"Email *",type:"email",placeholder:"email@exemplo.com",leftIcon:e.jsx(Ja,{className:"w-4 h-4"}),value:oe.email,onChange:z=>ce({...oe,email:z.target.value})}),e.jsx(Ke,{label:"Telefone *",placeholder:"(11) 99999-9999",leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),value:oe.telefone,onChange:z=>{const W=z.target.value.replace(/\D/g,"").slice(0,11);let pe=W;W.length<=10?pe=W.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):pe=W.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2"),ce({...oe,telefone:pe})},maxLength:15})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ke,{label:"CPF",placeholder:"000.000.000-00",value:oe.cpf,onChange:z=>{const pe=z.target.value.replace(/\D/g,"").slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");ce({...oe,cpf:pe})},maxLength:14}),e.jsx(Ke,{label:"Chave PIX",placeholder:"CPF, email, telefone ou chave aleatria",leftIcon:e.jsx(Xa,{className:"w-4 h-4"}),value:oe.chavePix,onChange:z=>ce({...oe,chavePix:z.target.value})})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsx(Ke,{label:"Senha *",type:"password",placeholder:"Defina a senha do participante",value:oe.senha,onChange:z=>ce({...oe,senha:z.target.value})})}),e.jsxs("div",{className:"border-t border-gray-100 pt-5",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Endereo Completo"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx(Ke,{label:"CEP",placeholder:"00000-000",leftIcon:e.jsx(js,{className:"w-4 h-4"}),value:oe.address.zip,onChange:z=>{const pe=z.target.value.replace(/\D/g,"").slice(0,8).replace(/(\d{5})(\d)/,"$1-$2");ce({...oe,address:{...oe.address,zip:pe}})},onBlur:z=>Cu(z.target.value),maxLength:9,disabled:C}),C&&e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Buscando endereo..."})]}),e.jsx("div",{className:"md:col-span-3",children:e.jsx(Ke,{label:"Rua / Logradouro",placeholder:"Nome da rua",value:oe.address.street,onChange:z=>ce({...oe,address:{...oe.address,street:z.target.value}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"Nmero",placeholder:"123",value:oe.address.number,onChange:z=>ce({...oe,address:{...oe.address,number:z.target.value}})})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"Complemento",placeholder:"Apto 101",value:oe.address.complement,onChange:z=>ce({...oe,address:{...oe.address,complement:z.target.value}})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ke,{label:"Bairro",placeholder:"Bairro",value:oe.address.zone,onChange:z=>ce({...oe,address:{...oe.address,zone:z.target.value}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-3",children:e.jsx(Ke,{label:"Cidade",placeholder:"Cidade",value:oe.address.city,onChange:z=>ce({...oe,address:{...oe.address,city:z.target.value}})})}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("select",{className:"w-full h-[42px] px-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:oe.address.state,onChange:z=>ce({...oe,address:{...oe.address,state:z.target.value}}),children:[e.jsx("option",{value:"",children:"UF"}),e.jsx("option",{value:"AC",children:"AC"}),e.jsx("option",{value:"AL",children:"AL"}),e.jsx("option",{value:"AP",children:"AP"}),e.jsx("option",{value:"AM",children:"AM"}),e.jsx("option",{value:"BA",children:"BA"}),e.jsx("option",{value:"CE",children:"CE"}),e.jsx("option",{value:"DF",children:"DF"}),e.jsx("option",{value:"ES",children:"ES"}),e.jsx("option",{value:"GO",children:"GO"}),e.jsx("option",{value:"MA",children:"MA"}),e.jsx("option",{value:"MT",children:"MT"}),e.jsx("option",{value:"MS",children:"MS"}),e.jsx("option",{value:"MG",children:"MG"}),e.jsx("option",{value:"PA",children:"PA"}),e.jsx("option",{value:"PB",children:"PB"}),e.jsx("option",{value:"PR",children:"PR"}),e.jsx("option",{value:"PE",children:"PE"}),e.jsx("option",{value:"PI",children:"PI"}),e.jsx("option",{value:"RJ",children:"RJ"}),e.jsx("option",{value:"RN",children:"RN"}),e.jsx("option",{value:"RS",children:"RS"}),e.jsx("option",{value:"RO",children:"RO"}),e.jsx("option",{value:"RR",children:"RR"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"SP",children:"SP"}),e.jsx("option",{value:"SE",children:"SE"}),e.jsx("option",{value:"TO",children:"TO"})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",size:"lg",onClick:()=>v(!1),children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",size:"lg",onClick:Yn,disabled:!oe.nome||!oe.email||!oe.telefone||!oe.senha,children:"Cadastrar"})]})]})}),e.jsx(da,{isOpen:S,onClose:()=>N(!1),title:"Adicionar Participante Existente",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ke,{placeholder:"Buscar por nome, email ou telefone...",leftIcon:e.jsx(li,{className:"w-4 h-4"}),value:he,onChange:z=>Se(z.target.value)}),e.jsxs("div",{className:"max-h-64 overflow-auto border border-gray-100 rounded-xl",children:[P.filter(z=>{if(!he)return!0;const W=he.toLowerCase();return(z.nome||"").toLowerCase().includes(W)||(z.email||"").toLowerCase().includes(W)||(z.telefone||"").toLowerCase().includes(W)}).map(z=>{const W=Ve.includes(z._id);return e.jsxs("button",{onClick:()=>Ze(pe=>pe.includes(z._id)?pe.filter(Ie=>Ie!==z._id):[...pe,z._id]),className:ve("w-full flex items-center gap-3 p-3 hover:bg-gray-50 border-b border-gray-100 text-left",W&&"bg-green-50"),children:[e.jsx(Ns,{name:z.nome,src:z.fotoUrl,size:"sm"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 truncate",children:z.nome}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[z.email,"  ",z.telefone]})]}),e.jsx(ot,{variant:W?"success":"gray",size:"sm",children:W?"Selecionado":"Selecionar"})]},z._id)}),P.length===0&&e.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Nenhum participante disponvel sem caixa."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:sc,disabled:!Ve.length,children:"Adicionar ao Caixa"})]})]})}),e.jsx(da,{isOpen:de,onClose:()=>{L(!1),Z(null)},title:"Remover Participante",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mn,{className:"w-8 h-8 text-red-600"})}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Tem certeza que deseja remover ",ee?.usuarioId?.nome||"este participante"," do caixa?"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{L(!1),Z(null)},children:"Cancelar"}),e.jsx(ae,{variant:"danger",className:"flex-1",onClick:async()=>{ee&&await Au(ee._id)},children:"Remover"})]})]})}),e.jsx(da,{isOpen:M,onClose:()=>{_(!1),rt(1)},title:`Editar Caixa - Etapa ${Be} de 3`,size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2,3].map(z=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm transition-all",Be>=z?"bg-green-500 text-white":"bg-gray-200 text-gray-500"),children:z}),z<3&&e.jsx("div",{className:ve("flex-1 h-1 mx-2 transition-all",Be>z?"bg-green-500":"bg-gray-200")})]},z))}),Be===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ke,{label:"Nome do Caixa",value:ge.nome,onChange:z=>yt({...ge,nome:z.target.value}),leftIcon:e.jsx(Wt,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Descrio"}),e.jsx("textarea",{className:"input resize-none h-16",value:ge.descricao,onChange:z=>yt({...ge,descricao:z.target.value}),placeholder:"Descreva o objetivo deste caixa..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Tipo do Caixa"}),e.jsxs("div",{className:ve("grid gap-2",o?.tipo==="master"?"grid-cols-3":"grid-cols-2"),children:[e.jsxs("button",{type:"button",onClick:()=>yt({...ge,tipo:"mensal"}),className:ve("p-2 rounded-xl border-2 text-center transition-all",ge.tipo==="mensal"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-200"),children:[e.jsx("span",{className:"font-semibold block text-sm",children:"Mensal"}),e.jsx("span",{className:"text-xs text-gray-500",children:"At 12 meses"})]}),e.jsxs("button",{type:"button",onClick:()=>yt({...ge,tipo:"semanal"}),className:ve("p-2 rounded-xl border-2 text-center transition-all",ge.tipo==="semanal"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-200"),children:[e.jsx("span",{className:"font-semibold block text-sm",children:"Semanal"}),e.jsx("span",{className:"text-xs text-gray-500",children:"At 24 sem."})]}),o?.tipo==="master"&&e.jsxs("button",{type:"button",onClick:()=>yt({...ge,tipo:"diario",qtdParticipantes:4,duracaoMeses:4}),className:ve("p-2 rounded-xl border-2 text-center transition-all",ge.tipo==="diario"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-orange-200"),children:[e.jsx("span",{className:"font-semibold block text-sm",children:"Dirio"}),e.jsx("span",{className:"text-xs text-gray-500",children:"4 dias"})]})]})]})]}),Be===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(hn,{className:"w-4 h-4 text-blue-500"}),"Valor Total do Caixa"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[{value:1e3,label:"R$ 1.000"},{value:2e3,label:"R$ 2.000"},{value:3e3,label:"R$ 3.000"},{value:5e3,label:"R$ 5.000"},{value:7e3,label:"R$ 7.000"},{value:1e4,label:"R$ 10.000"}].map(z=>e.jsx("button",{type:"button",onClick:()=>{yt({...ge,valorTotal:z.value}),Dt(!1),qe("")},className:ve("p-3 rounded-xl border-2 text-center transition-all",ge.valorTotal===z.value&&!dt?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-200"),children:e.jsx("span",{className:"font-semibold",children:z.label})},z.value))}),e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{type:"button",onClick:()=>Dt(!dt),className:ve("w-full p-3 rounded-xl border-2 text-center transition-all",dt?"border-blue-500 bg-blue-50 text-blue-700":"border-dashed border-gray-300 text-gray-500 hover:border-blue-300"),children:dt?"Valor Personalizado":"+ Digitar outro valor"}),dt&&e.jsxs("div",{className:"mt-3",children:[e.jsx(Ke,{placeholder:"Ex: 15000",value:na,onChange:z=>{qe(z.target.value);const W=parseInt(z.target.value)||0;W>=50&&yt({...ge,valorTotal:W})},leftIcon:e.jsx(hn,{className:"w-4 h-4"}),type:"number",min:50}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo: R$ 50,00"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(aa,{className:"w-4 h-4 text-blue-500"}),"Nmero de Participantes (= nmero de parcelas)"]}),ge.tipo!=="diario"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2",children:(ge.tipo==="semanal"?[4,6,8,10,12,16,20,24]:[4,6,8,10]).map(z=>e.jsx("button",{type:"button",onClick:()=>yt({...ge,qtdParticipantes:z,duracaoMeses:z}),className:ve("p-3 rounded-xl border-2 text-center transition-all",ge.qtdParticipantes===z?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-200"),children:e.jsx("span",{className:"font-semibold",children:z})},z))}),e.jsx("button",{type:"button",onClick:()=>He(!je),className:"w-full mt-2 p-2 text-sm text-gray-500 border-dashed border-2 border-gray-200 rounded-xl hover:border-blue-300",children:je?"Ver opes":"+ Outro valor"}),je&&e.jsxs("div",{className:"mt-2",children:[e.jsx(Ke,{type:"number",min:2,max:ge.tipo==="semanal"?24:12,value:ge.qtdParticipantes,onChange:z=>{const W=Math.max(2,Math.min(parseInt(z.target.value)||2,ge.tipo==="semanal"?24:12));yt({...ge,qtdParticipantes:W,duracaoMeses:W})},leftIcon:e.jsx(aa,{className:"w-4 h-4"})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Mn: 2 | Mx: ",ge.tipo==="semanal"?"24":"12"]})]})]}):e.jsx(Ke,{type:"number",value:4,disabled:!0,leftIcon:e.jsx(aa,{className:"w-4 h-4"})}),e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Importante: Cada participante recebe em uma posio. ",ge.qtdParticipantes," participantes = ",ge.qtdParticipantes," parcelas"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Resumo"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tipo"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:ge.tipo})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Valor total"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(ge.valorTotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(ge.tipo==="diario"?ge.valorTotal/16:ge.valorTotal/ge.qtdParticipantes)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total de parcelas"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[ge.qtdParticipantes,ge.tipo==="diario"?"":ge.tipo==="semanal"?" semanas":" meses"]})]})]})]})]}),Be===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(Ta,{className:"w-4 h-4 text-blue-500"}),"Data de Vencimento da 1 Parcela"]}),e.jsx(Ke,{type:"date",min:gn(ge.tipo),value:ge.dataVencimento,onChange:z=>yt({...ge,dataVencimento:z.target.value}),leftIcon:e.jsx(Ta,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ge.tipo==="diario"?"A data deve ser depois de amanh (bloqueia apenas amanh)":"A data deve ser no mnimo 5 dias a partir de hoje"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(ba,{className:"w-4 h-4 text-blue-500"}),"Data Prevista de Contemplao"]}),e.jsx(Ke,{type:"text",value:ge.dataVencimento?(()=>{const z=new Date(ge.dataVencimento+"T00:00:00");return ge.tipo==="diario"?z.setDate(z.getDate()+3):ge.tipo==="semanal"?z.setDate(z.getDate()+7*(ge.qtdParticipantes-1)):z.setMonth(z.getMonth()+(ge.qtdParticipantes-1)),z.toLocaleDateString("pt-BR")})():"-",disabled:!0,className:"bg-gray-50 text-gray-700"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Pagar antes  bem melhor"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100/50 border-blue-200/50 border rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resumo do Caixa"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Nome"}),e.jsx("span",{className:"font-semibold text-gray-900",children:ge.nome||"-"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Tipo"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:ge.tipo})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Valor Total"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(ge.valorTotal)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(ge.tipo==="diario"?ge.valorTotal/16:ge.valorTotal/ge.qtdParticipantes)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Participantes / Parcelas"}),e.jsx("span",{className:"font-semibold text-gray-900",children:ge.qtdParticipantes})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"1 Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:ge.dataVencimento?new Date(ge.dataVencimento+"T00:00:00").toLocaleDateString("pt-BR"):"-"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-blue-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"ltima Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:ge.dataVencimento?(()=>{const z=new Date(ge.dataVencimento+"T00:00:00");return ge.tipo==="diario"?z.setDate(z.getDate()+3):ge.tipo==="semanal"?z.setDate(z.getDate()+7*(ge.qtdParticipantes-1)):z.setMonth(z.getMonth()+(ge.qtdParticipantes-1)),z.toLocaleDateString("pt-BR")})():"-"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-white/50 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Nu,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-blue-700 mb-1",children:"Composio das Parcelas:"}),e.jsxs("ul",{className:"text-gray-600 space-y-0.5 text-xs",children:[e.jsxs("li",{children:[" 1 Parcela: ",we(ge.tipo==="diario"?ge.valorTotal/16:ge.valorTotal/ge.qtdParticipantes)," + R$ 10,00 (servio) + R$ 50,00 (taxa admin)"]}),e.jsxs("li",{children:[" Parcelas 2 a ",ge.qtdParticipantes-1,": ",we(ge.tipo==="diario"?ge.valorTotal/16:ge.valorTotal/ge.qtdParticipantes)," + R$ 10,00 + IPCA"]}),e.jsxs("li",{children:[" ltima: ",we(ge.tipo==="diario"?ge.valorTotal/16:ge.valorTotal/ge.qtdParticipantes)," + R$ 10,00 + R$ 50,00 (comisso admin) + IPCA"]})]}),e.jsxs("p",{className:"mt-2 text-blue-700 font-medium",children:[" Seu ganho como admin: ",we(ge.valorTotal*.1)," (10%)"]})]})]})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[Be>1&&e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>rt(Be-1),children:"Voltar"}),Be<3?e.jsx(ae,{variant:"primary",className:"flex-1",onClick:()=>rt(Be+1),children:"Prximo"}):e.jsx(ae,{variant:"primary",className:"flex-1",onClick:va,disabled:!Fs(ge.dataVencimento,ge.tipo),children:"Salvar Alteraes"})]})]})}),e.jsx(tD,{showSplitConfigModal:ze,setShowSplitConfigModal:U,splitConfigStatus:Me,participantesSubcontasStatus:be,verificarConfiguracaoSplitDetalhada:ke,usuarioTipo:o?.tipo,showIniciarCaixa:At,setShowIniciarCaixa:ft,caixa:i,participantes:d,aceiteContrato:F,setAceiteContrato:Oe,handleIniciarCaixa:Xn}),e.jsx(da,{isOpen:O,onClose:()=>D(!1),title:"Excluir Caixa",size:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mn,{className:"w-8 h-8 text-red-600"})}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Tem certeza que deseja excluir o caixa ",e.jsx("strong",{children:i.nome}),"?"]}),e.jsx("p",{className:"text-sm text-red-600 mb-6",children:"Esta ao no pode ser desfeita."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>D(!1),children:"Cancelar"}),e.jsx(ae,{variant:"danger",className:"flex-1",onClick:tc,children:"Excluir"})]})]})}),e.jsx(eD,{isOpen:k,onClose:()=>{E(!1),q(null)},caixa:i,participante:B,onRefreshPagamentos:ua,onPaidUpdate:Le}),e.jsx(da,{isOpen:fe,onClose:()=>me(!1),title:"Erro",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wr,{className:"w-8 h-8 text-red-600"})}),e.jsx("p",{className:"text-gray-700 mb-6",children:H}),e.jsx(ae,{variant:"primary",className:"w-full",onClick:()=>me(!1),children:"OK"})]})}),e.jsx(da,{isOpen:Ue,onClose:()=>Je(!1),title:"Sucesso",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Mt,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-gray-700 mb-6",children:Ee}),e.jsx(ae,{variant:"primary",className:"w-full",onClick:()=>Je(!1),children:"OK"})]})})]}):e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsx("p",{className:"text-center text-gray-500",children:"Caixa no encontrado"})})}const nD=[{value:1e3,label:"R$ 1.000"},{value:2e3,label:"R$ 2.000"},{value:3e3,label:"R$ 3.000"},{value:5e3,label:"R$ 5.000"},{value:7e3,label:"R$ 7.000"},{value:1e4,label:"R$ 10.000"}],Sd=10,jf=50;function rD(){const{usuario:a}=Da(),n=Ba(),[o,i]=y.useState(!1),[c,d]=y.useState(1),[u,f]=y.useState(null),[p,h]=y.useState(""),[b,g]=y.useState(!1),[v,A]=y.useState(!1),[w,S]=y.useState(!1),[N,M]=y.useState(!1),[_,O]=y.useState(""),[D,k]=y.useState(""),[E,B]=y.useState({nome:"",descricao:"",tipo:"mensal",valorTotal:5e3,qtdParticipantes:10,duracaoMeses:10,dataVencimento:""}),q=()=>{const P=new Date,Y=E.tipo==="diario"?2:5;return P.setDate(P.getDate()+Y),P.toISOString().split("T")[0]};y.useEffect(()=>{d(1),f(null),g(!1),h(""),A(!1),S(!1);const P=new Date;P.setDate(P.getDate()+7),B({nome:"",descricao:"",tipo:"mensal",valorTotal:5e3,qtdParticipantes:10,duracaoMeses:10,dataVencimento:P.toISOString().split("T")[0]})},[]);const Q=E.tipo==="semanal"?[4,6,8,10,12,16,20,24]:E.tipo==="diario"?[4,5,6,7,10,14,20,30]:[4,5,6,7,8,9,10,11,12];E.tipo==="semanal"||E.tipo;const se=E.valorTotal/E.qtdParticipantes,J=E.valorTotal*.1,I=()=>{if(!E.dataVencimento)return!1;const P=new Date(E.dataVencimento),Y=new Date,he=E.tipo==="diario"?1:5;return Y.setDate(Y.getDate()+he),P>Y},te=()=>E.tipo==="diario"?10:500,ie=()=>{if(!E.dataVencimento)return null;const P=new Date(E.dataVencimento+"T00:00:00");switch(E.tipo){case"mensal":P.setMonth(P.getMonth()+(E.qtdParticipantes-1));break;case"semanal":P.setDate(P.getDate()+(E.qtdParticipantes-1)*7);break;case"diario":P.setDate(P.getDate()+(E.qtdParticipantes-1));break}return P.toLocaleDateString("pt-BR")},de=()=>{if(!E.dataVencimento)return null;const P=new Date(E.dataVencimento+"T00:00:00");return P.setDate(P.getDate()+1),P.toLocaleDateString("pt-BR")},L=P=>{const Y=parseInt(P.replace(/\D/g,""))||0;h(P);const he=te();Y>0&&Y<he?k(`Valor mnimo para caixa ${E.tipo}: R$ ${he.toFixed(2)}`):k(""),Y>=he&&B({...E,valorTotal:Y})},ee=async()=>{if(a?._id){if(!I()){alert("A data de vencimento deve ser no mnimo 5 dias aps hoje");return}try{i(!0);const P=new Date(E.dataVencimento),Y=await kt.create({nome:E.nome,descricao:E.descricao,tipo:E.tipo,valorTotal:E.valorTotal,valorParcela:se,qtdParticipantes:E.qtdParticipantes,duracaoMeses:E.duracaoMeses,diaVencimento:P.getDate(),dataInicio:E.dataVencimento,dataVencimento:E.dataVencimento,taxaApp:J,taxaAdmin:J,taxaServico:Sd,taxaAdministrativa:jf,adminId:a._id,status:"aguardando"});if(!Y||!Y._id)throw new Error("Resposta invlida do servidor ao criar caixa");f({id:Y._id,nome:E.nome}),d(4)}catch(P){console.error("Erro ao criar caixa:",P);const Y=P.response?.data?.message||P.message||"Erro ao criar caixa. Tente novamente.";O(Y),M(!0)}finally{i(!1)}}},Z=E.nome.length>=3,oe=E.valorTotal>=te()&&E.qtdParticipantes>=2,ce=E.duracaoMeses>=2&&I();return c===4&&u?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:e.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(rM,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Caixa Criado com Sucesso! "}),e.jsxs("p",{className:"text-gray-500 mb-8",children:["O caixa ",e.jsxs("strong",{children:['"',u.nome,'"']})," foi criado. Agora voc precisa adicionar os participantes."]}),e.jsx(Pe,{className:"bg-amber-50 border-amber-200 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center",children:e.jsx(aa,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-amber-800",children:"Prximo passo importante!"}),e.jsxs("p",{className:"text-sm text-amber-700",children:["Cadastre os ",E.qtdParticipantes," participantes do seu caixa para poder inici-lo."]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(ae,{variant:"primary",className:"flex-1",leftIcon:e.jsx(Il,{className:"w-4 h-4"}),onClick:()=>n(`/caixas/${u.id}`),children:"Adicionar Participantes"}),e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>n("/caixas"),children:"Ver Meus Caixas"})]}),e.jsx("div",{className:"mt-6 p-4 bg-green-50 rounded-xl",children:e.jsxs("p",{className:"text-sm text-green-700",children:[" Seu ganho estimado: ",e.jsx("strong",{children:we(J)})," (10% do caixa)"]})})]})}):e.jsxs(e.Fragment,{children:[e.jsx(da,{isOpen:N,onClose:()=>M(!1),title:"",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wr,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Erro ao criar caixa"}),e.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-line",children:_}),e.jsx(ae,{variant:"primary",onClick:()=>M(!1),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:"Entendi"})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6","data-testid":"page-novo-caixa",children:[e.jsxs("button",{onClick:()=>c>1?d(c-1):n("/caixas"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors","data-testid":"btn-cancelar",children:[e.jsx(di,{className:"w-5 h-5"}),e.jsx("span",{children:c>1?"Voltar":"Cancelar"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:["Criar Novo Caixa",E.tipo&&` - ${E.tipo.charAt(0).toUpperCase()+E.tipo.slice(1)}`]}),e.jsx("p",{className:"text-gray-500",children:"Configure seu caixa em poucos passos"})]}),e.jsx("div",{className:"flex items-center justify-between mb-8","data-testid":"step-indicator",children:[1,2,3].map(P=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(De.div,{initial:!1,animate:{scale:c===P?1.1:1,backgroundColor:c>=P?"#22c55e":"#e5e7eb"},className:ve("w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all",c>=P?"text-white":"text-gray-400"),style:c===P?{boxShadow:"0 4px 14px rgba(34, 197, 94, 0.4)"}:{},"data-testid":`step-${P}`,children:c>P?e.jsx(ba,{className:"w-5 h-5"}):P}),P<3&&e.jsx("div",{className:ve("w-16 sm:w-24 h-1 mx-2 rounded-full transition-all",c>P?"bg-green-500":"bg-gray-200")})]},P))}),e.jsx(Jl,{mode:"wait",children:e.jsxs(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[c===1&&e.jsxs(Pe,{"data-testid":"step1-card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ke,{label:"Nome do Caixa",placeholder:"Ex: Caixa da Famlia",value:E.nome,onChange:P=>B({...E,nome:P.target.value}),leftIcon:e.jsx(Wt,{className:"w-4 h-4"}),"data-testid":"input-nome"}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Descrio (opcional)"}),e.jsx("textarea",{className:"input resize-none h-24",placeholder:"Descreva o objetivo deste caixa...",value:E.descricao,onChange:P=>B({...E,descricao:P.target.value}),"data-testid":"input-descricao"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(Vs,{className:"w-4 h-4 text-green-500"}),"Tipo do Caixa"]}),e.jsxs("div",{className:ve("grid gap-3",a?.tipo==="master"?"grid-cols-3":"grid-cols-2"),children:[a?.tipo==="master"&&e.jsxs("button",{type:"button",onClick:()=>B({...E,tipo:"diario",qtdParticipantes:4,duracaoMeses:4}),className:ve("p-4 rounded-xl border-2 text-left transition-all",E.tipo==="diario"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-200"),"data-testid":"tipo-diario",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Vs,{className:ve("w-5 h-5",E.tipo==="diario"?"text-green-600":"text-gray-400")}),e.jsx("span",{className:ve("font-semibold",E.tipo==="diario"?"text-green-700":"text-gray-700"),children:"Dirio"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pagamentos dirios, at 30 participantes/dias"})]}),e.jsxs("button",{type:"button",onClick:()=>B({...E,tipo:"semanal",qtdParticipantes:12,duracaoMeses:12}),className:ve("p-4 rounded-xl border-2 text-left transition-all",E.tipo==="semanal"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-200"),"data-testid":"tipo-semanal",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Vs,{className:ve("w-5 h-5",E.tipo==="semanal"?"text-green-600":"text-gray-400")}),e.jsx("span",{className:ve("font-semibold",E.tipo==="semanal"?"text-green-700":"text-gray-700"),children:"Semanal"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pagamentos semanais, at 24 participantes/semanas"})]}),e.jsxs("button",{type:"button",onClick:()=>B({...E,tipo:"mensal",qtdParticipantes:10,duracaoMeses:10}),className:ve("p-4 rounded-xl border-2 text-left transition-all",E.tipo==="mensal"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-200"),"data-testid":"tipo-mensal",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ta,{className:ve("w-5 h-5",E.tipo==="mensal"?"text-green-600":"text-gray-400")}),e.jsx("span",{className:ve("font-semibold",E.tipo==="mensal"?"text-green-700":"text-gray-700"),children:"Mensal"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pagamentos mensais, at 12 participantes/meses"})]})]})]})]})]}),c===2&&e.jsxs(Pe,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Valor e Participantes"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(hn,{className:"w-4 h-4 text-green-500"}),"Valor Total do Caixa"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:nD.map(P=>e.jsx("button",{type:"button",onClick:()=>{B({...E,valorTotal:P.value}),g(!1),h("")},className:ve("p-3 rounded-xl border-2 text-center transition-all",E.valorTotal===P.value&&!b?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-200"),children:e.jsx("span",{className:"font-semibold",children:P.label})},P.value))}),e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{type:"button",onClick:()=>g(!b),className:ve("w-full p-3 rounded-xl border-2 text-center transition-all",b?"border-green-500 bg-green-50 text-green-700":"border-dashed border-gray-300 text-gray-500 hover:border-green-300"),children:b?"Valor Personalizado":"+ Digitar outro valor"}),b&&e.jsxs("div",{className:"mt-3",children:[e.jsx(Ke,{placeholder:"Ex: 15000",value:p,onChange:P=>L(P.target.value),leftIcon:e.jsx(hn,{className:"w-4 h-4"}),type:"number",min:E.tipo==="diario"?10:500}),D?e.jsx("p",{className:"text-xs text-red-600 mt-1",children:D}):e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E.tipo==="diario"?"Mnimo: R$ 10,00":"Mnimo: R$ 500,00"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(aa,{className:"w-4 h-4 text-green-500"}),"Nmero de Participantes (= nmero de parcelas)"]}),v?e.jsxs("div",{children:[e.jsx(Ke,{type:"number",min:2,max:E.tipo==="semanal"?24:12,value:E.qtdParticipantes,onChange:P=>{const Y=Math.max(2,Math.min(parseInt(P.target.value)||2,E.tipo==="semanal"?24:12));B({...E,qtdParticipantes:Y,duracaoMeses:Y})},leftIcon:e.jsx(aa,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Mn: 2 | Mx: ",E.tipo==="semanal"?"24":"12"]}),e.jsx("button",{type:"button",onClick:()=>A(!1),className:"text-xs text-green-600 hover:underline",children:"Ver opes"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Q.map(P=>e.jsx("button",{type:"button",onClick:()=>B({...E,qtdParticipantes:P,duracaoMeses:P}),className:ve("p-3 rounded-xl border-2 text-center transition-all",E.qtdParticipantes===P?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-200"),children:e.jsx("span",{className:"font-semibold",children:P})},P))}),e.jsx("button",{type:"button",onClick:()=>A(!0),className:"w-full mt-2 p-2 text-sm text-gray-500 border-dashed border-2 border-gray-200 rounded-xl hover:border-green-300",children:"+ Outro valor"})]}),e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Importante: Cada participante recebe em uma posio. ",E.qtdParticipantes," participantes = ",E.qtdParticipantes," parcelas"]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Resumo"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tipo"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:E.tipo})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Valor total"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(E.valorTotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(se)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total de parcelas"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[E.qtdParticipantes,E.tipo==="diario"?"":E.tipo==="semanal"?" semanas":" meses"]})]})]})]})]})]}),c===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Pe,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data de Vencimento"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(Ta,{className:"w-4 h-4 text-green-500"}),"Data de Vencimento da 1 Parcela"]}),e.jsx(Ke,{type:"date",min:q(),value:E.dataVencimento,onChange:P=>B({...E,dataVencimento:P.target.value}),leftIcon:e.jsx(Ta,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E.tipo==="diario"?"A data deve ser depois de amanh (bloqueia apenas amanh)":"A data deve ser no mnimo 5 dias a partir de hoje"}),E.dataVencimento&&!I()&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" Data invlida! ",E.tipo==="diario"?"Selecione depois de amanh ou uma data futura.":"Selecione uma data pelo menos 5 dias no futuro."]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(ba,{className:"w-4 h-4 text-green-500"}),"Data Prevista de Contemplao"]}),e.jsx(Ke,{type:"text",value:de()||"-",disabled:!0,className:"bg-gray-50 text-gray-700"}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Pagar antes  bem melhor"})]})]})})]}),e.jsxs(Pe,{className:"bg-gradient-to-br from-green-50 to-green-100/50 border-green-200/50",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resumo do Caixa"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Nome"}),e.jsx("span",{className:"font-semibold text-gray-900",children:E.nome||"-"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Tipo"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:E.tipo})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Valor Total"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(E.valorTotal)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:we(se)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"Participantes / Parcelas"}),e.jsx("span",{className:"font-semibold text-gray-900",children:E.qtdParticipantes})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"1 Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:E.dataVencimento?new Date(E.dataVencimento+"T00:00:00").toLocaleDateString("pt-BR"):"-"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-green-200/50",children:[e.jsx("span",{className:"text-gray-600",children:"ltima Parcela"}),e.jsx("span",{className:"font-semibold text-gray-900",children:ie()||"-"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-white/50 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Nu,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-green-700 mb-1",children:"Composio das Parcelas:"}),e.jsxs("ul",{className:"text-gray-600 space-y-0.5 text-xs",children:[e.jsxs("li",{children:[" 1 Parcela: ",we(se)," + R$ ",Sd,",00 (servio) + R$ ",jf,",00 (taxa admin)"]}),e.jsxs("li",{children:[" Parcelas 2 a ",E.qtdParticipantes-1,": ",we(se)," + R$ ",Sd,",00 + IPCA"]}),e.jsxs("li",{children:[" ltima: ",we(se)," + R$ ",Sd,",00 + R$ ",jf,",00 (comisso admin) + IPCA"]})]}),e.jsxs("p",{className:"mt-2 text-green-700 font-medium",children:[" Seu ganho como admin: ",we(J)," (10%)"]})]})]})})]})]})]},c)}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[c>1&&e.jsx(ae,{variant:"secondary",onClick:()=>d(c-1),className:"flex-1","data-testid":"btn-voltar",children:"Voltar"}),c<3?e.jsx(ae,{variant:"primary",onClick:()=>d(c+1),disabled:c===1?!Z:!oe,className:"flex-1","data-testid":"btn-proximo",children:"Prximo"}):e.jsx(ae,{variant:"primary",onClick:ee,isLoading:o,disabled:!ce,className:"flex-1","data-testid":"btn-criar-caixa",children:"Criar Caixa"})]})]})]})}async function iD(a){try{const n=a.replace(/\D/g,"");if(n.length!==8)throw new Error("CEP deve conter 8 dgitos");const o=new AbortController,i=setTimeout(()=>o.abort(),5e3),c=await fetch(`https://viacep.com.br/ws/${n}/json/`,{signal:o.signal});if(clearTimeout(i),!c.ok)throw new Error("Erro ao buscar CEP");const d=await c.json();return d.erro?null:{street:d.logradouro||"",zone:d.bairro||"",city:d.localidade||"",state:d.uf||"",zip:a}}catch(n){throw n instanceof Error?n.name==="AbortError"?new Error("Tempo limite excedido ao buscar CEP"):n:new Error("Erro ao buscar CEP")}}function vl(a){return a.replace(/\D/g,"").slice(0,8).replace(/(\d{5})(\d)/,"$1-$2")}const xj=a=>a.replace(/[^\d]/g,""),jl=a=>a.replace(/\D/g,"").slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"),Nl=a=>{const n=a.replace(/\D/g,"").slice(0,11);return n.length<=10?n.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):n.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2")},Nf=a=>{const n=a.replace(/\D/g,"");if(n.length!==11||/^(\d)\1+$/.test(n))return!1;let o=0;for(let c=0;c<9;c++)o+=parseInt(n[c])*(10-c);let i=o*10%11;if((i===10||i===11)&&(i=0),i!==parseInt(n[9]))return!1;o=0;for(let c=0;c<10;c++)o+=parseInt(n[c])*(11-c);return i=o*10%11,(i===10||i===11)&&(i=0),i===parseInt(n[10])};function oD(){const{usuario:a}=Da(),[n,o]=y.useState([]),[i,c]=y.useState(!0),[d,u]=y.useState(""),[f,p]=y.useState(!1),[h,b]=y.useState(!1),[g,v]=y.useState(!1),[A,w]=y.useState(!1),[S,N]=y.useState(null),[M,_]=y.useState(""),[O,D]=y.useState([]),[k,E]=y.useState(null),[B,q]=y.useState(!1),[Q,se]=y.useState(""),[J,I]=y.useState(null),[te,ie]=y.useState(!1),[de,L]=y.useState([]),[ee,Z]=y.useState(!1),[oe,ce]=y.useState(!1),[P,Y]=y.useState([]),[he,Se]=y.useState(""),[Ve,Ze]=y.useState(!1),[H,R]=y.useState({nome:"",email:"",telefone:"",cpf:"",chavePix:"",picture:"",senha:"",score:70,tipo:"usuario",ativo:!0,caixasConcluidos:0,address:{street:"",zone:"",city:"",state:"",number:"",complement:"",zip:""}});y.useEffect(()=>{fe()},[]),y.useEffect(()=>{const C=async()=>{if(n.length!==0){console.log(" Iniciando sincronizao automtica de dados bancrios em background...");for(const Re of n)if(Re._id)try{const _e=await Ea.getByUsuarioId(Re._id);_e.success&&_e.subconta?._id&&await Ea.saveBankAccounts(_e.subconta._id)}catch{console.debug(`Sync silencioso para ${Re.nome}: sem subconta ou erro`)}console.log(" Sincronizao automtica de dados bancrios concluda")}},X=setTimeout(()=>{C()},2e3);return()=>clearTimeout(X)},[n]);const fe=async()=>{try{c(!0);let C={};try{let it;if(a?.tipo==="master")it=await kt.getAll();else try{it=await kt.getByAdmin(a._id)}catch{it=await kt.getAll()}const ct=Array.isArray(it)?it:it.caixas||[];D(ct.filter(Le=>String(Le.status||"")!=="ativo")),C=ct.reduce((Le,jt)=>(jt&&jt._id&&(Le[jt._id]=jt),Le),{}),console.log(" Caixas carregados:",Object.keys(C).length)}catch(it){console.error("Erro ao carregar caixas para mapear administradores:",it)}const X=await Ws.getAll(),_e=Array.isArray(X)?X:X.usuarios||[],Ye=await ga.getAll(),Ae=Array.isArray(Ye)?Ye:Ye.participantes||[];console.log(" ===== PARTICIPANTES API RESPONSE ====="),console.log(" Total participantes:",Ae.length),Ae.length>0&&console.log(" Primeiro participante:",JSON.stringify(Ae[0],null,2));const Ge=_e.map(it=>{const ct=Ae.find(qt=>{const Lt=qt.usuarioId?._id||qt.usuarioId;return String(Lt)===String(it._id)});let Le="",jt="",ka="";if(ct&&ct.caixaId)if(typeof ct.caixaId=="object"){if(jt=ct.caixaId._id||"",Le=ct.caixaId.nome||"",ct.caixaId.adminId){if(typeof ct.caixaId.adminId=="object")ka=ct.caixaId.adminId.nome||"";else if(C[jt]){const qt=C[jt];typeof qt.adminId=="object"&&(ka=qt.adminId.nome||"")}}}else{jt=String(ct.caixaId);const qt=C[jt];qt&&(Le=qt.nome||"",typeof qt.adminId=="object"&&(ka=qt.adminId.nome||""))}return{...it,caixaNome:Le,caixaId:jt,adminNome:ka||it.criadoPorNome||""}});console.log(`
 ===== RESULTADO FINAL =====`),Ge.forEach(it=>{console.log(`${it.nome}: ${it.caixaNome||" SEM CAIXA"}`)}),console.log(` ===== FIM =====
`);let mt=Ge;a?.tipo==="administrador"&&(mt=Ge.filter(it=>it.criadoPorId===a._id)),o(mt)}catch(C){console.error("Erro ao carregar participantes:",C),o([{_id:"1",nome:"Joo Silva",email:"joao@email.com",telefone:"11987654321",cpf:"12345678901",chavePix:"joao@email.com",tipo:"usuario",score:85,caixaNome:"Caixa Teste"}])}finally{c(!1)}},me=C=>new Promise((X,Re)=>{const _e=new FileReader;_e.onload=Ye=>{const Ae=new Image;Ae.onload=()=>{const Ge=document.createElement("canvas"),mt=400,it=400;let ct=Ae.width,Le=Ae.height;ct>Le?ct>mt&&(Le*=mt/ct,ct=mt):Le>it&&(ct*=it/Le,Le=it),Ge.width=ct,Ge.height=Le,Ge.getContext("2d")?.drawImage(Ae,0,0,ct,Le);const ka=Ge.toDataURL("image/jpeg",.7);X(ka)},Ae.onerror=Re,Ae.src=Ye.target?.result},_e.onerror=Re,_e.readAsDataURL(C)}),Ee=async C=>{const X=C.target.files?.[0];if(X)try{const Re=await me(X);_(Re),R({...H,picture:Re})}catch(Re){console.error("Erro ao processar imagem:",Re),Ue("Erro ao processar imagem. Tente outra foto."),Be(!0)}},[at,Ue]=y.useState(""),[Je,Be]=y.useState(!1),[rt,ge]=y.useState(""),[yt,At]=y.useState(!1),[ft,F]=y.useState(""),Oe=C=>{const X=jl(C);R({...H,cpf:X});const Re=C.replace(/\D/g,"");Re.length===11?Nf(Re)?F(""):F("CPF invlido"):Re.length>0&&Re.length<11&&F("")},ze=C=>{const X=Nl(C);R({...H,telefone:X})},U=async C=>{if(C.replace(/\D/g,"").length===8)try{q(!0);const Re=await iD(C);Re?R({...H,address:{...H.address,street:Re.street,zone:Re.zone,city:Re.city,state:Re.state,zip:C}}):(Ue("CEP no encontrado. Verifique o nmero digitado."),Be(!0))}catch(Re){console.error("Erro ao buscar CEP:",Re),Ue(Re.message||"Erro ao buscar CEP. Tente novamente."),Be(!0)}finally{q(!1)}},Me=async()=>{if(!H.nome||!H.email||!H.telefone){Ue("Preencha todos os campos obrigatrios (nome, email e telefone)"),Be(!0);return}if(!H.senha||H.senha.length<6){Ue("Defina uma senha com pelo menos 6 caracteres."),Be(!0);return}const C=H.cpf?xj(H.cpf):"";if(C&&C.length===11&&!Nf(C)){Ue("O CPF informado  invlido. Por favor, verifique e tente novamente."),Be(!0);return}const X=H.telefone.replace(/\D/g,"");if(X.length<10){Ue("O telefone deve ter pelo menos 10 dgitos."),Be(!0);return}try{const Re=H.address.zip.replace(/\D/g,""),_e=await Ws.create({nome:H.nome,email:H.email,telefone:X,cpf:C,chavePix:H.chavePix,picture:H.picture,senha:H.senha,criadoPorId:a?._id||"",criadoPorNome:a?.nome||"",address:{street:H.address.street,zone:H.address.zone,city:H.address.city,state:H.address.state,number:H.address.number,complement:H.address.complement,zip:Re}});Q&&await ga.create({caixaId:Q,usuarioId:_e._id,aceite:!0,status:"ativo"}),await fe(),p(!1),Xe(),ge("Participante adicionado com sucesso!"),At(!0)}catch(Re){console.error("Erro ao adicionar participante:",Re);const _e=Re.response?.data?.message||"Erro ao adicionar participante. Tente novamente.";Ue(_e),Be(!0)}},be=async()=>{if(!S)return;const C=H.cpf?xj(H.cpf):"";if(C&&C.length===11&&!Nf(C)){Ue("O CPF informado  invlido. Por favor, verifique e tente novamente."),Be(!0);return}const X=H.telefone.replace(/\D/g,"");if(X.length<10){Ue("O telefone deve ter pelo menos 10 dgitos."),Be(!0);return}try{const Re=H.address.zip.replace(/\D/g,"");await Ws.update(S._id,{nome:H.nome,email:H.email,telefone:X,cpf:C,chavePix:H.chavePix,picture:H.picture,score:H.score,tipo:H.tipo,ativo:H.ativo,caixasConcluidos:H.caixasConcluidos,address:{street:H.address.street,zone:H.address.zone,city:H.address.city,state:H.address.state,number:H.address.number,complement:H.address.complement,zip:Re},...H.senha?{senha:H.senha}:{}});const _e=S.caixaId,Ye=Q;if(_e!==Ye&&Ye)try{await ga.create({caixaId:Ye,usuarioId:S._id,aceite:!0,status:"ativo"})}catch{console.log("Caixa association may already exist or was updated")}await fe(),b(!1),N(null),Xe(),ge("Participante atualizado com sucesso!"),At(!0)}catch(Re){console.error("Erro ao editar participante:",Re);const _e=Re.response?.data?.message||"Erro ao atualizar participante. Tente novamente.";Ue(_e),Be(!0)}},ke=async()=>{if(S)try{await Ws.delete(S._id),await fe(),v(!1),N(null),ge("Participante removido com sucesso!"),At(!0)}catch(C){console.error("Erro ao deletar participante:",C);const X=C.response?.data?.message||"Erro ao remover participante. Tente novamente.";Ue(X),Be(!0)}},je=C=>{N(C),R({nome:C.nome,email:C.email,telefone:Nl(C.telefone),cpf:C.cpf?jl(C.cpf):"",chavePix:C.chavePix||"",picture:C.picture||"",senha:"",score:C.score||70,tipo:C.tipo||"usuario",ativo:C.ativo!==void 0?C.ativo:!0,caixasConcluidos:C.caixasConcluidos||0,address:{street:C.address?.street||C.endereco||"",zone:C.address?.zone||"",city:C.address?.city||C.cidade||"",state:C.address?.state||C.estado||"",number:C.address?.number||"",complement:C.address?.complement||"",zip:C.address?.zip?vl(C.address.zip):C.cep?vl(C.cep):""}}),_(C.picture||""),se(C.caixaId||""),b(!0)},He=C=>{N(C),v(!0)},V=async C=>{if(N(C),w(!0),I(null),L([]),C._id)try{ie(!0);const X=await Ea.getByUsuarioId(C._id);if(X.success&&X.subconta&&(I(X.subconta),X.subconta._id))try{Z(!0),console.log(" Buscando dados bancrios do Lytex...");const Re=await Ea.getBankAccounts(X.subconta._id);if(Re.success&&Re.bankAccounts&&Re.bankAccounts.length>0)L(Re.bankAccounts),console.log(" Dados bancrios carregados do Lytex"),console.log(" Salvando dados bancrios localmente..."),Ea.saveBankAccounts(X.subconta._id).then(()=>{console.log(" Dados bancrios salvos com sucesso no banco local")}).catch(_e=>{console.error(" Erro ao salvar dados bancrios:",_e)});else{console.log(" Nenhum dado no Lytex, tentando buscar do banco local...");const _e=await Ea.getLocalBankAccounts(X.subconta._id);_e.success&&_e.bankAccounts&&_e.bankAccounts.length>0&&(L(_e.bankAccounts),console.log(" Dados bancrios carregados do banco local (fallback)"))}}catch(Re){console.error(" Erro ao carregar dados bancrios do Lytex:",Re);try{console.log(" Tentando buscar do banco local como fallback...");const _e=await Ea.getLocalBankAccounts(X.subconta._id);_e.success&&_e.bankAccounts&&_e.bankAccounts.length>0&&(L(_e.bankAccounts),console.log(" Dados bancrios carregados do banco local (fallback aps erro)"))}catch(_e){console.error(" Erro ao buscar dados locais:",_e)}}finally{Z(!1)}}catch(X){console.error("Erro ao carregar detalhes da subconta:",X)}finally{ie(!1)}},Xe=()=>{R({nome:"",email:"",telefone:"",cpf:"",chavePix:"",picture:"",senha:"",score:70,tipo:"usuario",ativo:!0,caixasConcluidos:0,address:{street:"",zone:"",city:"",state:"",number:"",complement:"",zip:""}}),_(""),F(""),se("")},dt=async()=>{try{const C=await Ws.getAll({tipo:"administrador",ativo:!0}),X=Array.isArray(C)?C:C.usuarios||[];Y(X)}catch(C){console.error("Erro ao carregar administradores:",C)}},Dt=C=>{N(C),Se(""),dt(),ce(!0)},na=async()=>{if(!(!S||!he))try{Ze(!0);const X=P.find(Re=>Re._id===he)?.nome||"Novo Administrador";await Ws.update(S._id,{criadoPorId:he,criadoPorNome:X}),await fe(),ce(!1),N(null),Se(""),ge("Participante transferido com sucesso!"),At(!0)}catch(C){console.error("Erro ao transferir participante:",C);const X=C.response?.data?.message||"Erro ao transferir participante. Tente novamente.";Ue(X),Be(!0)}finally{Ze(!1)}},qe=n.filter(C=>C.nome.toLowerCase().includes(d.toLowerCase())||C.email.toLowerCase().includes(d.toLowerCase())||C.telefone.includes(d));return i?e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsx(ws,{})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(aa,{className:"w-6 h-6"}),"Gerenciar Participantes"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," participante",n.length!==1?"s":""," cadastrado",n.length!==1?"s":""]})]}),e.jsx(ae,{onClick:()=>p(!0),leftIcon:e.jsx(Il,{className:"w-4 h-4"}),children:"Adicionar Participante"})]}),e.jsx(Pe,{children:e.jsxs("div",{className:"relative",children:[e.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:d,onChange:C=>u(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})}),qe.length===0?e.jsx(wu,{icon:aa,title:"Nenhum participante encontrado",description:d?"Tente buscar com outros termos":"Adicione seu primeiro participante para comear",actionLabel:d?void 0:"Adicionar Participante",onAction:d?void 0:()=>p(!0)}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:hidden",children:qe.map(C=>e.jsxs(Pe,{className:"p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ns,{src:C.picture,name:C.nome,size:"md"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 line-clamp-1",children:C.nome}),e.jsx("p",{className:"text-xs text-gray-500",children:C.cpf?jl(C.cpf):"CPF no informado"}),e.jsxs(ot,{variant:C.score>=80?"success":"warning",size:"sm",className:"mt-1",children:[e.jsx(Rl,{className:"w-3 h-3 mr-1"}),"Score: ",C.score]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:X=>{X.stopPropagation(),E(k===C._id?null:C._id)},className:"p-2 -mr-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:e.jsx(Iv,{className:"w-5 h-5"})}),k===C._id&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-xl border border-gray-100 py-1 min-w-[200px] z-50",children:[e.jsxs("button",{onClick:()=>{V(C),E(null)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3",children:[e.jsx(pn,{className:"w-4 h-4 text-gray-400"}),"Visualizar Detalhes"]}),e.jsxs("button",{onClick:()=>{je(C),E(null)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3",children:[e.jsx(ou,{className:"w-4 h-4 text-gray-400"}),"Editar Participante"]}),a?.tipo==="master"&&e.jsxs("button",{onClick:()=>{Dt(C),E(null)},className:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3",children:[e.jsx(sf,{className:"w-4 h-4 text-gray-400"}),"Transferir Participante"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsxs("button",{onClick:()=>{He(C),E(null)},className:"w-full px-4 py-3 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3",children:[e.jsx(mn,{className:"w-4 h-4"}),"Excluir Participante"]})]}),k===C._id&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>E(null)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded-lg",children:[e.jsx(Ja,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:C.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded-lg",children:[e.jsx(Fa,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:Nl(C.telefone)})]}),C.caixaNome?e.jsxs("div",{className:"flex items-center gap-2 text-sm bg-blue-50 text-blue-700 p-2 rounded-lg",children:[e.jsx(Nr,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"truncate",children:C.caixaNome})]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm bg-gray-50 text-gray-500 p-2 rounded-lg",children:[e.jsx(Nr,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:"Sem caixa vinculado"})]}),a?.tipo==="master"&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-2 pl-1",children:[e.jsx("span",{children:"Gerenciado por:"}),e.jsx("span",{className:"font-medium text-gray-700",children:C.adminNome||C.criadoPorNome||"-"})]})]})]},C._id))}),e.jsx(Pe,{className:"hidden lg:block",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Participante"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Contato"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Chave PIX"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Caixa"}),a?.tipo==="master"&&e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Gerenciado por"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Aes"})]})}),e.jsx("tbody",{children:qe.map(C=>e.jsxs(De.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ns,{src:C.picture,name:C.nome,size:"sm"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:C.nome}),e.jsx("p",{className:"text-xs text-gray-500",children:C.cpf?jl(C.cpf):"CPF no informado"})]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ja,{className:"w-3 h-3"}),C.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Fa,{className:"w-3 h-3"}),C.telefone?Nl(C.telefone):"-"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Xa,{className:"w-3 h-3"}),C.chavePix||"-"]})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsxs(ot,{variant:C.score>=80?"success":"warning",size:"sm",children:[e.jsx(Rl,{className:"w-3 h-3 mr-1"}),C.score]})}),e.jsx("td",{className:"py-3 px-4",children:C.caixaNome?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ot,{variant:"info",size:"sm",children:C.caixaNome})}):e.jsx("span",{className:"text-xs text-gray-400",children:"Sem caixa"})}),a?.tipo==="master"&&e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:C.adminNome||C.criadoPorNome||"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 relative",children:[e.jsx("button",{onClick:()=>E(k===C._id?null:C._id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Iv,{className:"w-5 h-5 text-gray-600"})}),k===C._id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>E(null)}),e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[200px] z-20",children:[e.jsxs("button",{onClick:()=>{V(C),E(null)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(pn,{className:"w-4 h-4"}),"Visualizar Detalhes"]}),e.jsxs("button",{onClick:()=>{je(C),E(null)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(ou,{className:"w-4 h-4"}),"Editar Participante"]}),a?.tipo==="master"&&e.jsxs("button",{onClick:()=>{Dt(C),E(null)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(sf,{className:"w-4 h-4"}),"Transferir Participante"]}),e.jsxs("button",{onClick:()=>{He(C),E(null)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(mn,{className:"w-4 h-4"}),"Excluir Participante"]})]})]})]})})]},C._id))})]})})})]}),e.jsx(da,{isOpen:f,onClose:()=>{p(!1),Xe()},title:"Adicionar Participante",size:"xl",children:e.jsxs("div",{className:"space-y-6 px-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3 pt-2 w-full md:w-auto flex-shrink-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{src:M,name:H.nome||"Participante",size:"xl"}),e.jsx("label",{htmlFor:"picture-upload-add",className:"absolute bottom-0 right-0 bg-green-500 text-white p-2 rounded-full cursor-pointer hover:bg-green-600 transition-colors shadow-lg",children:e.jsx(nu,{className:"w-4 h-4"})}),e.jsx("input",{id:"picture-upload-add",type:"file",accept:"image/*",onChange:Ee,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Foto"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(Ke,{label:"Nome Completo *",placeholder:"Nome do participante",leftIcon:e.jsx(ya,{className:"w-4 h-4"}),value:H.nome,onChange:C=>R({...H,nome:C.target.value})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ke,{label:"Email *",type:"email",placeholder:"email@exemplo.com",leftIcon:e.jsx(Ja,{className:"w-4 h-4"}),value:H.email,onChange:C=>R({...H,email:C.target.value})}),e.jsx(Ke,{label:"Telefone *",placeholder:"(11) 99999-9999",leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),value:H.telefone,onChange:C=>ze(C.target.value),maxLength:15})]}),e.jsxs("div",{children:[e.jsx(Ke,{label:"CPF",placeholder:"000.000.000-00",value:H.cpf,onChange:C=>Oe(C.target.value),maxLength:14,className:ft?"border-red-500":""}),ft&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:ft})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx(Ke,{label:"Chave PIX",placeholder:"Chave PIX",leftIcon:e.jsx(Xa,{className:"w-4 h-4"}),value:H.chavePix,onChange:C=>R({...H,chavePix:C.target.value})}),e.jsx(Ke,{label:"Senha *",type:"password",placeholder:"Defina a senha",value:H.senha,onChange:C=>R({...H,senha:C.target.value})})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-5",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Endereo Completo"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"CEP",placeholder:"00000-000",leftIcon:B?e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full"}):e.jsx(js,{className:"w-4 h-4"}),value:H.address.zip,onChange:C=>{const X=vl(C.target.value);R({...H,address:{...H.address,zip:X}})},onBlur:C=>U(C.target.value),maxLength:9,disabled:B})}),e.jsx("div",{className:"md:col-span-3",children:e.jsx(Ke,{label:"Rua / Logradouro",placeholder:"Nome da rua",value:H.address.street,onChange:C=>R({...H,address:{...H.address,street:C.target.value}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"Nmero",placeholder:"123",value:H.address.number,onChange:C=>R({...H,address:{...H.address,number:C.target.value}})})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"Complemento",placeholder:"Apto 101",value:H.address.complement,onChange:C=>R({...H,address:{...H.address,complement:C.target.value}})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ke,{label:"Bairro",placeholder:"Bairro",value:H.address.zone,onChange:C=>R({...H,address:{...H.address,zone:C.target.value}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-3",children:e.jsx(Ke,{label:"Cidade",placeholder:"Cidade",value:H.address.city,onChange:C=>R({...H,address:{...H.address,city:C.target.value}})})}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("select",{className:"w-full h-[42px] px-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:H.address.state,onChange:C=>R({...H,address:{...H.address,state:C.target.value}}),children:[e.jsx("option",{value:"",children:"UF"}),e.jsx("option",{value:"AC",children:"AC"}),e.jsx("option",{value:"AL",children:"AL"}),e.jsx("option",{value:"AP",children:"AP"}),e.jsx("option",{value:"AM",children:"AM"}),e.jsx("option",{value:"BA",children:"BA"}),e.jsx("option",{value:"CE",children:"CE"}),e.jsx("option",{value:"DF",children:"DF"}),e.jsx("option",{value:"ES",children:"ES"}),e.jsx("option",{value:"GO",children:"GO"}),e.jsx("option",{value:"MA",children:"MA"}),e.jsx("option",{value:"MT",children:"MT"}),e.jsx("option",{value:"MS",children:"MS"}),e.jsx("option",{value:"MG",children:"MG"}),e.jsx("option",{value:"PA",children:"PA"}),e.jsx("option",{value:"PB",children:"PB"}),e.jsx("option",{value:"PR",children:"PR"}),e.jsx("option",{value:"PE",children:"PE"}),e.jsx("option",{value:"PI",children:"PI"}),e.jsx("option",{value:"RJ",children:"RJ"}),e.jsx("option",{value:"RN",children:"RN"}),e.jsx("option",{value:"RS",children:"RS"}),e.jsx("option",{value:"RO",children:"RO"}),e.jsx("option",{value:"RR",children:"RR"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"SP",children:"SP"}),e.jsx("option",{value:"SE",children:"SE"}),e.jsx("option",{value:"TO",children:"TO"})]})]})]})]})]}),(a?.tipo==="master"||a?.tipo==="administrador")&&O.length>0&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Vincular ao Caixa"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-green-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:Q,onChange:C=>se(C.target.value),children:[e.jsx("option",{value:"",children:"Sem caixa (apenas cadastrar usurio)"}),O.filter(C=>String(C.status||"")!=="ativo").map(C=>e.jsxs("option",{value:C._id,children:[C.nome,C.adminId&&typeof C.adminId=="object"&&C.adminId.nome?`  Admin: ${C.adminId.nome}`:""]},C._id))]})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",size:"lg",onClick:()=>{p(!1),Xe(),F("")},children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",size:"lg",onClick:Me,disabled:!H.nome||!H.email||!H.telefone||!!ft,children:"Adicionar"})]})]})}),e.jsx(da,{isOpen:oe,onClose:()=>{ce(!1),N(null),Se("")},title:"Transferir Participante",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex items-start gap-3",children:[e.jsx(sf,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["Transferindo: ",S?.nome]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Selecione o novo administrador que ser responsvel por gerenciar este participante."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Novo Administrador"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:he,onChange:C=>Se(C.target.value),children:[e.jsx("option",{value:"",children:"Selecione um administrador..."}),P.map(C=>e.jsxs("option",{value:C._id,children:[C.nome," ",C.email?`(${C.email})`:""]},C._id))]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{ce(!1),N(null),Se("")},disabled:Ve,children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:na,disabled:!he||Ve,children:Ve?"Transferindo...":"Confirmar Transferncia"})]})]})}),e.jsx(da,{isOpen:h,onClose:()=>{b(!1),N(null),Xe()},title:"Editar Participante",size:"xl",children:e.jsxs("div",{className:"space-y-6 px-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3 pt-2 w-full md:w-auto flex-shrink-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{src:M,name:H.nome||"Participante",size:"xl"}),e.jsx("label",{htmlFor:"picture-upload-edit",className:"absolute bottom-0 right-0 bg-green-500 text-white p-2 rounded-full cursor-pointer hover:bg-green-600 transition-colors shadow-lg",children:e.jsx(nu,{className:"w-4 h-4"})}),e.jsx("input",{id:"picture-upload-edit",type:"file",accept:"image/*",onChange:Ee,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Alterar foto"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(Ke,{label:"Nome Completo *",placeholder:"Nome do participante",leftIcon:e.jsx(ya,{className:"w-4 h-4"}),value:H.nome,onChange:C=>R({...H,nome:C.target.value})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ke,{label:"Email *",type:"email",placeholder:"email@exemplo.com",leftIcon:e.jsx(Ja,{className:"w-4 h-4"}),value:H.email,onChange:C=>R({...H,email:C.target.value})}),e.jsx(Ke,{label:"Telefone *",placeholder:"(11) 99999-9999",leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),value:H.telefone,onChange:C=>ze(C.target.value),maxLength:15})]}),e.jsxs("div",{children:[e.jsx(Ke,{label:"CPF",placeholder:"000.000.000-00",value:H.cpf,onChange:C=>Oe(C.target.value),maxLength:14,className:ft?"border-red-500":""}),ft&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:ft})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx(Ke,{label:"Chave PIX",placeholder:"Chave PIX",leftIcon:e.jsx(Xa,{className:"w-4 h-4"}),value:H.chavePix,onChange:C=>R({...H,chavePix:C.target.value})}),e.jsx(Ke,{label:"Nova Senha",type:"password",placeholder:"Deixe em branco para manter a atual",value:H.senha,onChange:C=>R({...H,senha:C.target.value})})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Informaes Adicionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ke,{label:"Score",type:"number",placeholder:"Score (0-100)",value:H.score,onChange:C=>{const X=Math.min(100,Math.max(0,Number(C.target.value)));R({...H,score:X})},min:0,max:100}),a?.tipo==="master"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Usurio"}),e.jsxs("select",{className:"w-full h-[42px] px-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:H.tipo,onChange:C=>R({...H,tipo:C.target.value}),children:[e.jsx("option",{value:"usuario",children:"Usurio"}),e.jsx("option",{value:"administrador",children:"Administrador"}),e.jsx("option",{value:"master",children:"Master"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"w-full h-[42px] px-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:H.ativo?"true":"false",onChange:C=>R({...H,ativo:C.target.value==="true"}),children:[e.jsx("option",{value:"true",children:"Ativo"}),e.jsx("option",{value:"false",children:"Inativo"})]})]}),e.jsx(Ke,{label:"Caixas Concludos",type:"number",placeholder:"0",value:H.caixasConcluidos,onChange:C=>R({...H,caixasConcluidos:Number(C.target.value)}),min:0})]}),(a?.tipo==="master"||a?.tipo==="administrador")&&O.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caixa do Participante"}),e.jsxs("select",{className:"w-full h-[42px] px-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:Q,onChange:C=>se(C.target.value),children:[e.jsx("option",{value:"",children:"Sem caixa"}),O.map(C=>e.jsxs("option",{value:C._id,children:[C.nome,C.adminId&&typeof C.adminId=="object"&&C.adminId.nome?`  Admin: ${C.adminId.nome}`:""]},C._id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Altere para mover o participante para outro caixa"})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-5",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Endereo Completo"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"CEP",placeholder:"00000-000",leftIcon:B?e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full"}):e.jsx(js,{className:"w-4 h-4"}),value:H.address.zip,onChange:C=>{const X=vl(C.target.value);R({...H,address:{...H.address,zip:X}})},onBlur:C=>U(C.target.value),maxLength:9,disabled:B})}),e.jsx("div",{className:"md:col-span-3",children:e.jsx(Ke,{label:"Rua / Logradouro",placeholder:"Nome da rua",value:H.address.street,onChange:C=>R({...H,address:{...H.address,street:C.target.value}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"Nmero",placeholder:"123",value:H.address.number,onChange:C=>R({...H,address:{...H.address,number:C.target.value}})})}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(Ke,{label:"Complemento",placeholder:"Apto 101",value:H.address.complement,onChange:C=>R({...H,address:{...H.address,complement:C.target.value}})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ke,{label:"Bairro",placeholder:"Bairro",value:H.address.zone,onChange:C=>R({...H,address:{...H.address,zone:C.target.value}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-3",children:e.jsx(Ke,{label:"Cidade",placeholder:"Cidade",value:H.address.city,onChange:C=>R({...H,address:{...H.address,city:C.target.value}})})}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("select",{className:"w-full h-[42px] px-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",value:H.address.state,onChange:C=>R({...H,address:{...H.address,state:C.target.value}}),children:[e.jsx("option",{value:"",children:"UF"}),e.jsx("option",{value:"AC",children:"AC"}),e.jsx("option",{value:"AL",children:"AL"}),e.jsx("option",{value:"AP",children:"AP"}),e.jsx("option",{value:"AM",children:"AM"}),e.jsx("option",{value:"BA",children:"BA"}),e.jsx("option",{value:"CE",children:"CE"}),e.jsx("option",{value:"DF",children:"DF"}),e.jsx("option",{value:"ES",children:"ES"}),e.jsx("option",{value:"GO",children:"GO"}),e.jsx("option",{value:"MA",children:"MA"}),e.jsx("option",{value:"MT",children:"MT"}),e.jsx("option",{value:"MS",children:"MS"}),e.jsx("option",{value:"MG",children:"MG"}),e.jsx("option",{value:"PA",children:"PA"}),e.jsx("option",{value:"PB",children:"PB"}),e.jsx("option",{value:"PR",children:"PR"}),e.jsx("option",{value:"PE",children:"PE"}),e.jsx("option",{value:"PI",children:"PI"}),e.jsx("option",{value:"RJ",children:"RJ"}),e.jsx("option",{value:"RN",children:"RN"}),e.jsx("option",{value:"RS",children:"RS"}),e.jsx("option",{value:"RO",children:"RO"}),e.jsx("option",{value:"RR",children:"RR"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"SP",children:"SP"}),e.jsx("option",{value:"SE",children:"SE"}),e.jsx("option",{value:"TO",children:"TO"})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",size:"lg",onClick:()=>{b(!1),N(null),Xe(),F("")},children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",size:"lg",onClick:be,disabled:!H.nome||!H.email||!H.telefone||!!ft,children:"Salvar"})]})]})}),e.jsx(da,{isOpen:g,onClose:()=>{v(!1),N(null)},title:"Remover Participante",size:"sm",children:S&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mn,{className:"w-8 h-8 text-red-600"})}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Tem certeza que deseja remover ",e.jsx("strong",{children:S.nome}),"?"]}),e.jsx("p",{className:"text-sm text-red-600 mb-6",children:"Esta ao no pode ser desfeita."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{v(!1),N(null)},children:"Cancelar"}),e.jsx(ae,{variant:"danger",className:"flex-1",onClick:ke,children:"Remover"})]})]})}),e.jsx(da,{isOpen:A,onClose:()=>{w(!1),N(null),I(null),L([])},title:"Detalhes do Participante",size:"xl",children:S&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3 pb-4 border-b border-gray-200",children:[e.jsx(Ns,{src:S.picture,name:S.nome,size:"xl"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:S.nome}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[e.jsxs(ot,{variant:S.score>=80?"success":"warning",size:"sm",children:[e.jsx(Rl,{className:"w-3 h-3 mr-1"}),"Score: ",S.score]}),e.jsx(ot,{variant:S.ativo?"success":"danger",size:"sm",children:S.ativo?e.jsxs(e.Fragment,{children:[e.jsx(ba,{className:"w-3 h-3 mr-1"}),"Ativo"]}):e.jsxs(e.Fragment,{children:[e.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Inativo"]})})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4"}),"Informaes Pessoais"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tipo"}),e.jsx(ot,{variant:S.tipo==="master"?"success":S.tipo==="administrador"?"info":"gray",size:"sm",children:S.tipo==="master"?"Master":S.tipo==="administrador"?"Administrador":"Usurio"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Caixas Concludos"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:S.caixasConcluidos||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ja,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fa,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Telefone"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:Nl(S.telefone)})]})]}),S.cpf&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ya,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"CPF"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:jl(S.cpf)})]})]}),S.chavePix&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xa,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Chave PIX"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.chavePix})]})]})]}),S.caixaNome&&e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg mt-3",children:[e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Caixa Atual"}),e.jsx("p",{className:"text-sm font-semibold text-green-900",children:S.caixaNome})]})]}),(S.address?.street||S.address?.zip)&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Endereo"]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2 text-sm text-gray-600",children:[S.address?.street&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Rua:"})," ",S.address.street,S.address?.number&&`, ${S.address.number}`]}),S.address?.complement&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Complemento:"})," ",S.address.complement]}),S.address?.zone&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Bairro:"})," ",S.address.zone]}),(S.address?.city||S.address?.state)&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Cidade/UF:"})," ",S.address.city,", ",S.address.state]}),S.address?.zip&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"CEP:"})," ",vl(S.address.zip)]})]})]}),te?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):J?e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4 text-green-600"}),"Detalhes da Subconta Lytex"]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[J.type&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Tipo"}),e.jsx(ot,{variant:J.type==="pf"?"info":"warning",size:"sm",children:J.type==="pf"?"Pessoa Fsica":"Pessoa Jurdica"})]}),J.nomeCaixa&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Nome do Caixa"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:J.nomeCaixa})]})]}),e.jsxs("div",{className:"border-t border-green-200 pt-3",children:[e.jsx("p",{className:"text-xs text-green-600 mb-2 font-semibold",children:"Credenciais Lytex"}),e.jsxs("div",{className:"space-y-2",children:[J.lytexId&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Lytex ID"}),e.jsx("p",{className:"text-sm font-mono text-gray-900 bg-white px-2 py-1 rounded border border-green-200",children:J.lytexId})]}),J.clientId&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Client ID"}),e.jsx("p",{className:"text-sm font-mono text-gray-900 bg-white px-2 py-1 rounded border border-green-200",children:J.clientId})]}),J.clientSecret&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Client Secret"}),e.jsx("p",{className:"text-sm font-mono text-gray-900 bg-white px-2 py-1 rounded border border-green-200",children:"".repeat(20)})]})]})]})]})]}):null,ee?e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4 text-blue-600"}),"Dados Bancrios"]}),e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):de.length>0?e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4 text-blue-600"}),"Dados Bancrios"]}),e.jsx("div",{className:"space-y-3",children:de.map((C,X)=>e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"mb-3 pb-3 border-b border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Banco"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[C.bank?.name," (",C.bank?.code,")"]}),C.bank?.ispb&&e.jsxs("p",{className:"text-xs text-gray-500",children:["ISPB: ",C.bank.ispb]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Agncia"}),e.jsxs("p",{className:"text-sm font-mono text-gray-900",children:[C.agency?.number,C.agency?.dv?`-${C.agency.dv}`:""]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Conta"}),e.jsxs("p",{className:"text-sm font-mono text-gray-900",children:[C.account?.number,C.account?.dv?`-${C.account.dv}`:""]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Tipo de Conta"}),e.jsx(ot,{variant:"info",size:"sm",children:C.account?.type==="corrente"?"Corrente":"Poupana"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Status"}),e.jsx(ot,{variant:C.status==="approved"?"success":"warning",size:"sm",children:C.status==="approved"?"Aprovada":C.status})]})]}),C.createdAt&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Criada em: ",new Date(C.createdAt).toLocaleDateString("pt-BR")]})})]},C._id||X))})]}):J?e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Xa,{className:"w-4 h-4 text-blue-600"}),"Dados Bancrios"]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-center text-gray-500 text-sm",children:"Nenhuma conta bancria cadastrada"})]}):null]})}),e.jsx(da,{isOpen:Je,onClose:()=>Be(!1),title:"Erro",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wr,{className:"w-8 h-8 text-red-600"})}),e.jsx("p",{className:"text-gray-700 mb-6",children:at}),e.jsx(ae,{variant:"primary",className:"w-full",onClick:()=>Be(!1),children:"OK"})]})}),e.jsx(da,{isOpen:yt,onClose:()=>At(!1),title:"Sucesso",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Mt,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-gray-700 mb-6",children:rt}),e.jsx(ae,{variant:"primary",className:"w-full",onClick:()=>At(!1),children:"OK"})]})})]})}const lD=[{icon:tp,label:"Notificaes",path:"/notificacoes",badge:"3"},{icon:co,label:"Segurana",path:"/seguranca"},{icon:wR,label:"Ajuda",path:"/ajuda"},{icon:Us,label:"Termos de Uso",path:"/termos"}];function fj(){const{usuario:a,logout:n,updateUsuario:o}=Da(),i=Ba(),c=y.useRef(null),[d,u]=y.useState(!1),[f,p]=y.useState(0),[h,b]=y.useState(0),[g,v]=y.useState(0),[A,w]=y.useState(a?.fotoUrl),[S,N]=y.useState(!1),[M,_]=y.useState({nome:a?.nome||"",telefone:a?.telefone||"",chavePix:a?.chavePix||""}),[O,D]=y.useState(null),[k,E]=y.useState(!1);y.useEffect(()=>{B()},[a]);const B=async()=>{if(a?._id)try{const de=await kt.getByAdmin(a._id),L=Array.isArray(de)?de:de.caixas||[],ee=L.reduce((oe,ce)=>oe+ce.valorTotal*.1,0),Z=L.filter(oe=>oe.status==="finalizado").reduce((oe,ce)=>oe+ce.valorTotal*.1,0);p(ee),b(Z),v(L.length)}catch(de){console.error("Erro ao carregar dados:",de),p(1500),b(500),v(3)}},q=de=>({usuario:"Participante",administrador:"Administrador",master:"Super Admin"})[de]||de,se=(de=>de>=25?{label:"Diamante",color:"bg-purple-100 text-purple-700"}:de>=10?{label:"Ouro",color:"bg-amber-100 text-amber-700"}:de>=3?{label:"Prata",color:"bg-gray-200 text-gray-700"}:{label:"Bronze",color:"bg-amber-700/20 text-amber-800"})(a?.caixasConcluidos||0),J=de=>{if(!de)return"";const L=de.replace(/\D/g,"");return L.length===11?L.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):L.length===14?L.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):de},I=de=>{const L=de?.address;return L?[L.street,L.number,L.zone,L.city,L.state,L.zip].filter(Boolean).join(", "):""};y.useEffect(()=>{(async()=>{if(a?.tipo!=="master"){D(null);return}try{E(!0);const L=await WC.getSubAccount();L&&L._id?D(L):D(null)}catch(L){console.error("Erro ao carregar subconta Lytex:",L),D(null)}finally{E(!1)}})()},[a?.tipo]);const te=async()=>{try{a?._id&&await Ws.update(a._id,M),o(M),u(!1)}catch(de){console.error("Erro ao salvar perfil:",de),o(M),u(!1)}},ie=async de=>{const L=de.target.files?.[0];if(L){if(!L.type.startsWith("image/")){alert("Por favor, selecione uma imagem.");return}if(L.size>5*1024*1024){alert("A imagem deve ter no mximo 5MB.");return}try{N(!0);const ee=new FileReader;ee.onloadend=()=>{const Z=ee.result;w(Z)},ee.readAsDataURL(L)}catch(ee){console.error("Erro ao fazer upload:",ee)}finally{N(!1)}}};return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(Pe,{className:"mb-6 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 -m-4 md:-m-5 mb-4 p-6 text-white text-center",children:[e.jsxs("div",{className:"relative inline-block mb-3",children:[A?e.jsx("img",{src:A,alt:a?.nome,className:"w-20 h-20 rounded-full object-cover ring-4 ring-white/30"}):e.jsx(Ns,{name:a?.nome||"U",size:"xl"}),e.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:ie,className:"hidden"}),e.jsx("button",{onClick:()=>c.current?.click(),disabled:S,className:"absolute bottom-0 right-0 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:S?e.jsx("div",{className:"w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}):e.jsx(nu,{className:"w-4 h-4 text-gray-600"})})]}),e.jsx("h1",{className:"text-xl font-bold",children:a?.nome}),e.jsx("p",{className:"text-white/80 text-sm",children:a?.email}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[e.jsx(ot,{variant:"success",className:"bg-white/20 text-white",children:q(a?.tipo||"")}),e.jsx(ot,{className:se.color,children:se.label})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"flex items-center justify-center gap-1 text-amber-600 mb-1",children:e.jsx(Rl,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?.score||70}),e.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g}),e.jsx("p",{className:"text-xs text-gray-500",children:"Caixas"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:we(f)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ganhos"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-green-50 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Ganhos Acumulados:"}),e.jsx("span",{className:"font-semibold text-green-600",children:we(h)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Ganhos Previstos:"}),e.jsx("span",{className:"font-semibold text-blue-600",children:we(f)})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Ganho = 10% do valor total de cada caixa organizado"})]}),e.jsx(ae,{variant:"secondary",className:"w-full mt-4",leftIcon:e.jsx(QN,{className:"w-4 h-4"}),onClick:()=>u(!0),children:"Editar Perfil"})]})}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(Pe,{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informaes"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ja,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:a?.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Fa,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Telefone"}),e.jsx("p",{className:"font-medium text-gray-900",children:a?.telefone||"No informado"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Xa,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Chave Pix"}),e.jsx("p",{className:"font-medium text-gray-900",children:a?.chavePix||"No configurada"})]})]}),a?.tipo==="master"&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Xa,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Conta PJ no Gateway LyTex"}),k&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Carregando dados da conta..."}),!k&&O&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-gray-900",children:O.fantasyName||O.corporateName||O.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",O._id]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Tipo: ",O.typeAccount||O.type]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["CNPJ: ",J(O.cpfCnpj)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Abertura:"," ",O.openedAt?Xt(O.openedAt):"No informado"]}),I(O)&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Endereo: ",I(O)]})]}),!k&&!O&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Conta LyTex ainda no configurada."})]})]})]})]})}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(Pe,{className:"mb-6",padding:"none",children:lD.map(de=>e.jsxs("button",{onClick:()=>i(de.path),className:"w-full flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(de.icon,{className:"w-5 h-5 text-gray-600"})}),e.jsx("span",{className:"flex-1 text-left font-medium text-gray-900",children:de.label}),de.badge&&e.jsx("span",{className:"w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:de.badge}),e.jsx(ju,{className:"w-5 h-5 text-gray-400"})]},de.path))})}),e.jsx(ae,{variant:"danger",className:"w-full",leftIcon:e.jsx(YN,{className:"w-4 h-4"}),onClick:n,children:"Sair da Conta"}),e.jsx(da,{isOpen:d,onClose:()=>u(!1),title:"Editar Perfil",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[A?e.jsx("img",{src:A,alt:a?.nome,className:"w-24 h-24 rounded-full object-cover ring-4 ring-green-100"}):e.jsx(Ns,{name:a?.nome||"U",size:"xl"}),e.jsx("button",{onClick:()=>c.current?.click(),className:"absolute bottom-0 right-0 w-8 h-8 bg-green-500 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-green-600 transition-colors",children:e.jsx(TM,{className:"w-4 h-4"})})]})}),e.jsx(Ke,{label:"Nome Completo",value:M.nome,onChange:de=>_({...M,nome:de.target.value}),leftIcon:e.jsx(ya,{className:"w-4 h-4"})}),e.jsx(Ke,{label:"Telefone",value:M.telefone,onChange:de=>_({...M,telefone:de.target.value}),leftIcon:e.jsx(Fa,{className:"w-4 h-4"})}),e.jsx(Ke,{label:"Chave Pix",value:M.chavePix,onChange:de=>_({...M,chavePix:de.target.value}),leftIcon:e.jsx(Xa,{className:"w-4 h-4"}),placeholder:"CPF, Email ou Telefone"}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:te,children:"Salvar"})]})]})})]})}const cD={lembrete:{icon:Vs,color:"text-blue-500",bg:"bg-blue-100"},confirmacao:{icon:ba,color:"text-primary-500",bg:"bg-primary-100"},alerta:{icon:ia,color:"text-danger-500",bg:"bg-danger-100"},celebracao:{icon:iu,color:"text-amber-500",bg:"bg-amber-100"}};function dD(){const{usuario:a}=Da(),[n,o]=y.useState([]),[i,c]=y.useState(!0),[d,u]=y.useState("todas");y.useEffect(()=>{f()},[a]);const f=async()=>{if(a?._id)try{c(!0);const v=await Ud.getByUsuario(a._id);o(v)}catch(v){console.error("Erro ao carregar notificaes:",v),o([{_id:"1",tipo:"lembrete",titulo:"Lembrete de Pagamento",mensagem:"Faltam 5 dias para o pagamento do caixa Caixa da Famlia. Valor: R$ 500,00",lida:!1,createdAt:new Date().toISOString(),caixaId:{nome:"Caixa da Famlia"}},{_id:"2",tipo:"confirmacao",titulo:"Pagamento Confirmado",mensagem:"Maria Santos pagou R$ 500,00 no caixa Caixa da Famlia. Faltam 2 pessoas.",lida:!1,createdAt:new Date(Date.now()-36e5).toISOString(),caixaId:{nome:"Caixa da Famlia"}},{_id:"3",tipo:"celebracao",titulo:" Parabns!",mensagem:"R$ 5.000,00 do caixa Caixa do Trabalho foi liberado na sua conta!",lida:!0,createdAt:new Date(Date.now()-864e5).toISOString(),caixaId:{nome:"Caixa do Trabalho"}},{_id:"4",tipo:"alerta",titulo:"Pagamento em Atraso",mensagem:"Pedro Oliveira est com 3 dias de atraso no caixa Caixa Vizinhos.",lida:!0,createdAt:new Date(Date.now()-1728e5).toISOString(),caixaId:{nome:"Caixa Vizinhos"}}])}finally{c(!1)}},p=async v=>{try{await Ud.marcarComoLida(v),o(n.map(A=>A._id===v?{...A,lida:!0}:A))}catch(A){console.error("Erro ao marcar como lida:",A)}},h=async()=>{if(a?._id)try{await Ud.marcarTodasComoLidas(a._id),o(n.map(v=>({...v,lida:!0})))}catch(v){console.error("Erro ao marcar todas como lidas:",v)}},b=n.filter(v=>d==="todas"?!0:!v.lida),g=n.filter(v=>!v.lida).length;return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notificaes"}),e.jsx("p",{className:"text-sm text-gray-500",children:g>0?`${g} no lidas`:"Tudo em dia"})]}),g>0&&e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(fR,{className:"w-4 h-4"}),onClick:h,children:"Marcar todas"})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>u("todas"),className:ve("px-4 py-2 rounded-xl text-sm font-medium transition-all",d==="todas"?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Todas"}),e.jsxs("button",{onClick:()=>u("nao_lidas"),className:ve("px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",d==="nao_lidas"?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:["No lidas",g>0&&e.jsx("span",{className:ve("w-5 h-5 rounded-full text-xs flex items-center justify-center",d==="nao_lidas"?"bg-white text-primary-500":"bg-danger-500 text-white"),children:g})]})]}),b.length>0?e.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-3",children:b.map((v,A)=>{const w=cD[v.tipo],S=w.icon;return e.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.05},children:e.jsx(Pe,{className:ve("cursor-pointer transition-all",!v.lida&&"ring-2 ring-primary-200 bg-primary-50/30"),onClick:()=>p(v._id),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:ve("w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",w.bg),children:e.jsx(S,{className:ve("w-5 h-5",w.color)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:ve("font-semibold text-gray-900",!v.lida&&"text-primary-700"),children:v.titulo}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:v.mensagem})]}),!v.lida&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full flex-shrink-0 mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.caixaId&&e.jsx(ot,{variant:"gray",size:"sm",children:v.caixaId.nome}),e.jsx("span",{className:"text-xs text-gray-400",children:wP(v.createdAt)})]})]})]})})},v._id)})}):e.jsx(wu,{icon:tp,title:"Nenhuma notificao",description:d==="nao_lidas"?"Voc est em dia com todas as notificaes!":"Voc ainda no recebeu notificaes."})]})}const uD=10,hj=.0041;function mD(){const{usuario:a}=Da(),n=es(),[o,i]=y.useState([]),[,c]=y.useState(!0),[d,u]=y.useState(""),[f,p]=y.useState(""),[h,b]=y.useState(null),[g,v]=y.useState(!1),[A,w]=y.useState(n.pathname==="/carteira"?"carteira":"recebimentos"),[S,N]=y.useState("mes_atual"),[M,_]=y.useState(""),[O,D]=y.useState({}),[k,E]=y.useState(!1),[B,q]=y.useState(null),[Q,se]=y.useState(!1),[J,I]=y.useState(""),[te,ie]=y.useState(null),[de,L]=y.useState(null),[ee,Z]=y.useState({}),oe=(U,Me)=>{i(be=>be.map(ke=>({...ke,boletos:ke.boletos.map(je=>{if(je._id!==U)return je;const He=je.status==="pago";return{...je,status:He?"pago":"enviado",comprovanteUrl:Me}})}))),b(be=>{if(!be||be._id!==U)return be;const ke=be.status==="pago";return{...be,status:ke?"pago":"enviado",comprovanteUrl:Me}}),q(be=>{if(!be||be._id!==U)return be;const ke=be.status==="pago";return{...be,status:ke?"pago":"enviado",comprovanteUrl:Me}})};y.useEffect(()=>{P()},[a]);const ce=(U,Me,be)=>{const ke=String(U||"").toLowerCase();return["aprovado","pago","paid","liquidated","settled","pago_gateway"].includes(ke)?"pago":ke==="enviado"?be?"pago":"enviado":Me&&Me>0?"atrasado":"pendente"},P=async()=>{try{if(c(!0),!a?._id){i([]);return}const U=a.tipo==="master"?await kt.getAll():await kt.getByAdmin(a._id),ke=(Array.isArray(U)?U:U.caixas||[]).filter(He=>String(He.status||"").toLowerCase()==="ativo"),je=[];for(const He of ke)try{const V=He.adminId,Xe=typeof V=="string"?"":V?.nome||"",dt=await en.getAll({caixaId:He._id,limit:1e3,page:1}),Dt=Array.isArray(dt)?dt:dt.pagamentos||[],na=await ga.getByCaixa(He._id),qe=Dt.map(C=>{const X=typeof C.diasAtraso=="number"?C.diasAtraso:C.diasAtraso?Number(C.diasAtraso):0,Re=ce(C.status,X,C.dataPagamento),_e=C.mesReferencia,Ye=He.valorParcela||C.valorParcela||0,Ae=typeof C.taxaServico=="number"?C.taxaServico:He?.taxaServico??uD,Ge=_e>1?Ye*hj:0,mt=_e===1?Ye/(He.qtdParticipantes||1):0,it=_e===(He.duracaoMeses||He.qtdParticipantes||1)?(He.valorTotal?He.valorTotal:Ye*(He.qtdParticipantes||1))*.1/(He.qtdParticipantes||1):0,ct=Ye+Ae+Ge+mt+it,Le=C.pagadorId,jt=typeof Le=="string"?Le:Le?._id||"",ka=typeof Le=="string"?void 0:Le?.nome,qt=typeof Le=="string"?void 0:Le?.fotoUrl,Lt=C.recebedorId,_a=typeof Lt=="string"?Lt:Lt?._id;return{_id:C._id,caixaId:He._id,caixaNome:He.nome,participanteId:jt||"",participanteNome:ka||C.participanteNome||"Participante",participanteFoto:qt,mes:C.mesReferencia,valorParcela:Ye,taxaServico:Ae,fundoReserva:mt,taxaAdmin:0,comissaoAdmin:it,correcaoIPCA:Ge,valorTotal:ct,dataVencimento:C.dataVencimento,status:Re,comprovanteUrl:C.comprovanteUrl,dataPagamento:C.dataPagamento,diasAtraso:X,observacao:C.observacao,pagadorId:jt,recebedorId:_a}});je.push({_id:He._id,nome:He.nome,valorTotal:He?.valorTotal,valorParcela:He.valorParcela,duracaoMeses:He.duracaoMeses,mesAtual:He.mesAtual||1,boletos:qe,expanded:!1,participantes:na,qtdParticipantes:He.qtdParticipantes,tipo:He.tipo||"mensal",dataInicio:He?.dataInicio,diaVencimento:He?.diaVencimento,adminNome:Xe})}catch(V){console.error("Erro ao carregar pagamentos do caixa",He._id,V)}i(je)}catch(U){console.error("Erro ao carregar pagamentos:",U)}finally{c(!1)}},Y=U=>{i(Me=>Me.map(be=>be._id===U?{...be,expanded:!be.expanded}:be))},he=U=>({pendente:{variant:"warning",label:"Aguardando pagamento"},enviado:{variant:"info",label:"Aguardando"},pago:{variant:"success",label:"Pago"},atrasado:{variant:"danger",label:"Atrasado"}})[U]||{variant:"gray",label:U},Se=o.flatMap(U=>U.boletos),Ve=(()=>{let U=0,Me=0,be=0;return o.forEach(ke=>{(ke.participantes||[]).forEach(He=>{const V=typeof He.usuarioId=="string"?He.usuarioId:He.usuarioId?._id,Xe=ke.boletos.find(dt=>String(dt.pagadorId||dt.participanteId)===String(V||"")&&dt.mes===ke.mesAtual);Xe?Xe.status==="pago"?U++:Xe.status==="atrasado"?be++:Me++:Me++})}),{emDia:U,aguardando:Me,atrasados:be}})(),Ze=o.length,H=Se.filter(U=>U.status==="pago").reduce((U,Me)=>U+Me.valorTotal,0),R=h&&o.find(U=>U._id===h.caixaId),fe=h&&R?R.boletos.filter(U=>String(U.pagadorId||U.participanteId)===String(h.pagadorId||h.participanteId)).sort((U,Me)=>U.mes-Me.mes):[],me=(U,Me)=>{if(!U.dataInicio||!Me||Me<=0)return null;const be=new Date(U.dataInicio);return U.tipo==="semanal"?be.setDate(be.getDate()+(Me-1)*7):(be.setMonth(be.getMonth()+Me-1),U.diaVencimento&&U.diaVencimento>0&&be.setDate(U.diaVencimento)),be.toISOString()},Ee=R&&(R.duracaoMeses||R.qtdParticipantes||fe.length||1),at=(U,Me)=>{const be=Me.valorTotal||Me.valorParcela*(Me.qtdParticipantes||1),ke=U.mes>1?(be||0)*hj:0;return(be||0)+ke},Ue=(()=>{const U=[];return o.forEach(Me=>{Me.boletos.filter(ke=>ke.mes===Me.mesAtual).forEach(ke=>{const je=`${ke._id}-split`,He=O[je]?"pago":"pendente";U.push({id:je,boleto:ke,caixa:Me,valor:at(ke,Me),status:He})})}),U.filter(Me=>M?Me.status===M:!0)})(),Je=Ue.filter(U=>U.status==="pendente").length,Be=Ue.filter(U=>U.status==="pago").length,rt=Ue.reduce((U,Me)=>U+Me.valor,0),ge=(()=>{const U=[];if(Ue.filter(be=>be.status==="pendente").forEach(be=>{const je=be.caixa.participantes?.find(V=>{const Xe=typeof V.usuarioId=="string"?V.usuarioId:V.usuarioId?._id||"",dt=be.boleto.pagadorId||be.boleto.participanteId||"";return String(Xe)===String(dt)})?.posicao||0,He=me(be.caixa,je);He?U.push(new Date(He)):U.push(new Date(be.boleto.dataVencimento))}),U.length===0)return null;const Me=U.reduce((be,ke)=>ke<be?ke:be,U[0]);return Xt(Me.toISOString())})(),[yt,At]=y.useState({}),ft=U=>{D(be=>({...be,[U]:!0})),At(be=>({...be,[U]:{data:new Date().toISOString()}}));const Me=Ue.find(be=>be.id===U);Me&&(q(Me.boleto),E(!0))},F=U=>{ie(U),I(U.observacao||"Observao: Solicitado comprovante via WhatsApp"),se(!0)},Oe=async()=>{if(!te||!J.trim()){se(!1);return}try{await en.atualizarObservacao(te._id,J.trim()),i(U=>U.map(Me=>({...Me,boletos:Me.boletos.map(be=>be._id===te._id?{...be,observacao:J.trim()}:be)})))}catch(U){console.error("Erro ao salvar observao",U)}finally{se(!1)}},ze=async(U,Me)=>{if(Me)try{L(U._id);const be=new FileReader;be.onloadend=async()=>{const ke=be.result;try{await en.enviarComprovante(U._id,ke),oe(U._id,ke)}catch(je){console.error("Erro ao enviar comprovante",je)}finally{L(null)}},be.readAsDataURL(Me)}catch(be){console.error("Erro ao processar comprovante",be),L(null)}};return e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[n.pathname!=="/carteira"&&e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("button",{onClick:()=>w("recebimentos"),className:ve("px-4 py-2 rounded-xl text-sm font-medium",A==="recebimentos"?"border border-blue-400 text-blue-700 bg-white":"bg-white text-gray-700 border border-gray-200"),children:"Recebimentos de Participantes"}),e.jsx("button",{onClick:()=>w("splits"),className:ve("px-4 py-2 rounded-xl text-sm font-medium",A==="splits"?"border border-blue-400 text-blue-700 bg-white":"bg-white text-gray-700 border border-gray-200"),children:"Pagamentos de Pontos/Split"})]}),A==="recebimentos"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:[e.jsxs(Pe,{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total de caixas"}),e.jsx("p",{className:"mt-2 text-lg font-bold text-gray-900",children:Ze})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Em Dia"}),e.jsx(Mt,{className:"w-4 h-4 text-green-600"})]}),e.jsx("p",{className:"mt-2 text-lg font-bold text-green-700",children:Ve.emDia})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Atrasados"}),e.jsx(wr,{className:"w-4 h-4 text-red-600"})]}),e.jsx("p",{className:"mt-2 text-lg font-bold text-red-700",children:Ve.atrasados})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Aguardando pagamento"}),e.jsx(pn,{className:"w-4 h-4 text-blue-600"})]}),e.jsx("p",{className:"mt-2 text-lg font-bold text-blue-700",children:Ve.aguardando})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Pagamentos"}),e.jsx("p",{className:"mt-2 text-xl font-bold text-gray-900",children:we(H)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ke,{placeholder:"Buscar participante...",value:d,onChange:U=>u(U.target.value),leftIcon:e.jsx(li,{className:"w-4 h-4"})})}),e.jsxs("select",{className:"px-3 py-2 rounded-xl border border-gray-200 text-sm",value:f,onChange:U=>p(U.target.value),children:[e.jsx("option",{value:"",children:"Todos os Status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"enviado",children:"Aguardando"}),e.jsx("option",{value:"pago",children:"Pagos"}),e.jsx("option",{value:"atrasado",children:"Atrasados"})]}),e.jsxs("select",{className:"px-3 py-2 rounded-xl border border-gray-200 text-sm",value:S,onChange:U=>N(U.target.value),children:[e.jsx("option",{value:"mes_atual",children:"Ms Atual"}),e.jsx("option",{value:"todos",children:"Todos os Meses"})]})]}),e.jsx("div",{className:"space-y-4",children:[...o].sort((U,Me)=>{const be=U.boletos.filter(je=>je.status==="pago").length;return Me.boletos.filter(je=>je.status==="pago").length-be}).map(U=>{const be=[...(U.participantes||[]).filter(V=>{const Xe=typeof V.usuarioId=="object"&&V.usuarioId?.nome?String(V.usuarioId.nome):"";return!(d&&!Xe.toLowerCase().includes(d.toLowerCase()))})].sort((V,Xe)=>(V.posicao||0)-(Xe.posicao||0));if(be.length===0)return null;const ke=ee[U._id]??"geral",je=U.duracaoMeses||U.qtdParticipantes||1,He=Array.from({length:je},(V,Xe)=>Xe+1);return e.jsxs(Pe,{className:"border border-gray-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer",onClick:()=>{U.expanded||Z(V=>({...V,[U._id]:"geral"})),Y(U._id)},children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:U.nome}),e.jsxs("span",{className:"text-xs text-gray-500",children:[U.tipo==="semanal"?"Caixa semanal":"Caixa mensal"," "," ",U.duracaoMeses," ",U.tipo==="semanal"?"semanas":"meses"]}),U.adminNome&&e.jsxs("span",{className:"text-xs text-gray-400",children:["Gerenciado por: ",U.adminNome]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{variant:"info",size:"sm",children:[U.tipo==="semanal"?"Semana":"Ms"," ",U.mesAtual,"/",U.duracaoMeses]}),U.expanded?e.jsx(Bv,{className:"w-4 h-4 text-gray-500"}):e.jsx(ru,{className:"w-4 h-4 text-gray-500"})]})]}),U.expanded&&e.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50/60 rounded-b-xl",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-3 mb-3",children:[e.jsx("button",{type:"button",onClick:()=>Z(V=>({...V,[U._id]:"geral"})),className:ve("px-3 py-1 rounded-full text-xs font-medium border whitespace-nowrap",ke==="geral"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-700"),children:"Geral"}),He.map(V=>{const Xe=ke===V,dt=U.tipo==="semanal"?`Semana ${V}`:`Ms ${V}`;return e.jsx("button",{type:"button",onClick:()=>Z(Dt=>({...Dt,[U._id]:V})),className:ve("px-3 py-1 rounded-full text-xs font-medium border whitespace-nowrap",Xe?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-700"),children:dt},V)})]}),e.jsx("div",{className:"space-y-3",children:be.map(V=>{const Xe=typeof V.usuarioId=="string"?V.usuarioId:V.usuarioId?._id,dt=typeof V.usuarioId=="object"&&V.usuarioId?.nome?String(V.usuarioId.nome):"Participante",Dt=typeof V.usuarioId=="object"?V.usuarioId:void 0,na=Dt?.telefone?String(Dt.telefone):"",qe=U.boletos.filter(Le=>String(Le.pagadorId||Le.participanteId)===String(Xe||"")),C=ke==="geral"?qe:qe.filter(Le=>Le.mes===ke),X=C.filter(Le=>Le.status==="pago").length,Re=C.filter(Le=>Le.status==="pago").reduce((Le,jt)=>Le+jt.valorTotal,0),_e=`Pago ${X}/${je}`,Ye=ke==="geral"?void 0:qe.find(Le=>Le.mes===ke),Ae=ke==="geral"?void 0:Number(ke),Ge=ke==="geral"||!Ae?null:`${Ye?.status==="pago"?"Pago":"Parcela"} ${Ae}/${je}`,mt=X>0?{variant:"success",label:"Pago"}:{variant:"warning",label:"Pendente"},it=ke==="geral"?qe.find(Le=>Le.mes===U.mesAtual)||qe[0]:qe.find(Le=>Le.mes===ke)||qe[0],ct=ke==="geral"?qe.find(Le=>Le.observacao):qe.find(Le=>Le.mes===ke&&Le.observacao)||qe.find(Le=>Le.observacao);return Xe?e.jsx(Pe,{className:"p-3 border border-blue-200 bg-blue-50/70",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex flex-col items-center mr-1",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold",children:V.posicao||it?.mes||0})}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>{it&&(b(it),v(!0))},children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:dt}),e.jsx(ot,{variant:mt.variant,size:"sm",children:mt.label}),ke!=="geral"&&Ge&&e.jsx("span",{className:"text-xs text-gray-500",children:Ge})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Caixa: ",U.nome]}),ke==="geral"&&e.jsx("p",{className:"text-xs text-gray-500",children:_e}),e.jsxs("p",{className:"text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Valor Pago:"})," ",e.jsx("span",{className:"text-green-700 font-semibold",children:we(Re)})]}),ke!=="geral"&&Ye?.dataPagamento&&e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Data de Pagamento:"," ",Xt(Ye.dataPagamento)]}),ct?.observacao&&e.jsxs("p",{className:"text-xs text-amber-700 mt-1 bg-amber-50 px-2 py-1 rounded",children:["Observao: ",ct.observacao]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-2",children:[it&&X>0&&e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>{b(it),v(!0)},children:"Comprovante"}),na&&e.jsx(ae,{size:"sm",variant:"secondary",leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),onClick:()=>{const Le=na.replace(/\D/g,"");Le&&window.open(`https://wa.me/${Le}`,"_blank")},children:"WhatsApp"}),e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>{it?F(it):(I("Observao: Contato realizado via WhatsApp"),se(!0))},children:"Anotar"})]})]})},String(Xe)):null})})]})]},U._id)})})]}),A==="splits"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:[e.jsxs(Pe,{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pendentes"}),e.jsx("p",{className:"mt-2 text-lg font-bold text-amber-700",children:Je})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Realizados"}),e.jsx("p",{className:"mt-2 text-lg font-bold text-green-700",children:Be})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total a Receber"}),e.jsx("p",{className:"mt-2 text-xl font-bold text-gray-900",children:we(rt)})]}),e.jsxs(Pe,{className:"p-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Prximo Pagamento"}),e.jsx("p",{className:"mt-2 text-base font-semibold text-gray-900",children:ge||"-"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ke,{placeholder:"Buscar por participante ou caixa...",value:d,onChange:U=>u(U.target.value),leftIcon:e.jsx(li,{className:"w-4 h-4"})})}),e.jsxs("select",{className:"px-3 py-2 rounded-xl border border-gray-200 text-sm",value:M,onChange:U=>_(U.target.value),children:[e.jsx("option",{value:"",children:"Todos os Status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"pago",children:"Pagos"})]}),e.jsx("select",{className:"px-3 py-2 rounded-xl border border-gray-200 text-sm",value:"todos",onChange:()=>{},children:e.jsx("option",{value:"todos",children:"Todos os Tipos"})})]}),e.jsx("div",{className:"space-y-4",children:[...o].sort((U,Me)=>{const be=Ue.filter(je=>je.caixa._id===U._id).map(je=>new Date(je.boleto.dataVencimento)).sort((je,He)=>je.getTime()-He.getTime())[0]?.getTime()||1/0,ke=Ue.filter(je=>je.caixa._id===Me._id).map(je=>new Date(je.boleto.dataVencimento)).sort((je,He)=>je.getTime()-He.getTime())[0]?.getTime()||1/0;return be-ke}).map(U=>{const Me=Ue.filter(je=>je.caixa._id===U._id).filter(je=>{if(d){const He=je.boleto.participanteNome.toLowerCase(),V=je.caixa.nome.toLowerCase(),Xe=d.toLowerCase();if(!He.includes(Xe)&&!V.includes(Xe))return!1}return!0}).sort((je,He)=>new Date(je.boleto.dataVencimento).getTime()-new Date(He.boleto.dataVencimento).getTime());if(Me.length===0)return null;const be=U.duracaoMeses||U.qtdParticipantes||1,ke=Me.filter(je=>je.status==="pago").length;return e.jsxs(Pe,{className:"border border-gray-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer",onClick:()=>Y(U._id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(Wt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:U.nome}),e.jsxs("p",{className:"text-xs text-gray-500",children:[U.tipo==="semanal"?"Caixa semanal":"Caixa mensal"," "," ",U.duracaoMeses," ",U.tipo==="semanal"?"semanas":"meses","  Pago ",ke,"/",be]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ot,{variant:"info",size:"sm",children:[U.tipo==="semanal"?"Semana":"Ms"," ",U.mesAtual,"/",U.duracaoMeses]}),U.expanded?e.jsx(Bv,{className:"w-5 h-5 text-gray-400"}):e.jsx(ru,{className:"w-5 h-5 text-gray-400"})]})]}),U.expanded&&e.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50/60 rounded-b-xl",children:e.jsx("div",{className:"space-y-3",children:Me.map(({id:je,boleto:He,caixa:V,valor:Xe,status:dt})=>{const qe=`Pago ${V.boletos.filter(Ge=>String(Ge.pagadorId||Ge.participanteId)===String(He.pagadorId||He.participanteId)).filter(Ge=>Ge.status==="pago").length}/${be}`,C=dt==="pago",X=V.participantes?.find(Ge=>String((typeof Ge.usuarioId=="string"?Ge.usuarioId:Ge.usuarioId?._id)||"")===String(He.pagadorId||He.participanteId)),Re=X&&typeof X.usuarioId=="object"?X.usuarioId:void 0,_e=Re?.telefone?String(Re.telefone):"",Ye=X?.posicao||0,Ae=Ye>0?me(V,Ye):null;return e.jsxs(Pe,{className:ve("p-3 relative transition-colors border",C?"bg-green-50 border-green-300":"bg-white border-gray-200"),children:[C&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-green-600 text-white text-[10px] px-2 py-1 rounded-full shadow-md transform rotate-12 uppercase tracking-widest animate-pulse",children:"Contemplado"}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:He.participanteNome}),e.jsx(ot,{variant:C?"success":"warning",size:"sm",children:C?"Pago":"Aguardando pagamento"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Caixa: ",V.nome]}),e.jsx("p",{className:"text-sm text-gray-600",children:qe}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Valor a Receber:"})," ",e.jsx("span",{className:"text-green-700 font-semibold",children:we(Xe)})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Vencimento:"," ",Xt(He.dataVencimento)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Data prevista do pagamento:"," ",Ae?Xt(Ae):"-"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-2",children:[e.jsx(ae,{size:"sm",variant:C?"secondary":"primary",disabled:C,onClick:()=>ft(je),children:"Marcar como Pago"}),e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>{q(He),E(!0)},children:"Comprovante"}),_e&&e.jsx(ae,{size:"sm",variant:"secondary",leftIcon:e.jsx(Fa,{className:"w-4 h-4"}),onClick:()=>{const Ge=String(_e).replace(/\D/g,"");Ge&&window.open(`https://wa.me/${Ge}`,"_blank")},children:"WhatsApp"}),e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>F(He),children:"Anotar"})]})]})]},je)})})})]},U._id)})})]}),e.jsx(da,{isOpen:g,onClose:()=>{v(!1),b(null)},title:"Comprovantes do participante",size:"full",children:h&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl mb-4",children:[e.jsx(Ns,{name:h.participanteNome,src:h.participanteFoto,size:"md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:h.participanteNome}),e.jsx("p",{className:"text-sm text-gray-500",children:h.caixaNome}),typeof Ee=="number"&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pagos:"," ",fe.filter(U=>U.status==="pago").length,"/",Ee]})]})]}),e.jsx("div",{className:"mb-4",children:fe.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum pagamento encontrado para este participante."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:fe.map((U,Me)=>{const be=Me+1,ke=typeof Ee=="number"?Ee:fe.length||1,je=`PAGO ${be}/${ke}`,He=U.status==="pago";return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:R?.tipo==="semanal"?`Semana ${U.mes}`:`Ms ${U.mes}`}),e.jsx(ot,{variant:he(U.status).variant,size:"sm",children:he(U.status).label})]}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:He?je:`Parcela ${be}/${ke}`}),e.jsxs("p",{className:"text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Valor:"})," ",e.jsx("span",{className:"font-semibold text-green-700",children:we(U.valorTotal)})]}),U.comprovanteUrl?e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:U.comprovanteUrl,alt:je,className:"w-full max-h-80 object-contain rounded-md border border-gray-200 bg-white"})}):e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:`modal-file-comprovante-${U._id}`,type:"file",accept:"image/*",className:"hidden",onChange:V=>ze(U,V.target.files?.[0]||null)}),e.jsx(ae,{size:"sm",variant:"secondary",isLoading:de===U._id,onClick:()=>{document.getElementById(`modal-file-comprovante-${U._id}`)?.click()},children:"Anexar comprovante"})]})]},U._id)})})}),e.jsx(ae,{variant:"secondary",className:"w-full",onClick:()=>{v(!1),b(null)},children:"Fechar"})]})}),e.jsx(da,{isOpen:Q,onClose:()=>se(!1),title:"Anotar observao",size:"md",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Selecione uma frase ou escreva sua observao."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>I("Observao: Solicitado comprovante via WhatsApp"),children:"Solicitado comprovante via WhatsApp"}),e.jsx(ae,{size:"sm",variant:"secondary",onClick:()=>I("Observao: Participante informou que ir pagar hoje"),children:"Pagamento combinado para hoje"})]})]}),e.jsx("textarea",{className:"w-full border border-gray-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",rows:4,value:J,onChange:U=>I(U.target.value),placeholder:"Escreva aqui a observao..."}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>se(!1),children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:Oe,children:"Salvar"})]})]})}),e.jsx(da,{isOpen:k,onClose:()=>{E(!1),q(null)},title:"Comprovante de recebimento/split",size:"lg",children:B&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl mb-4",children:[e.jsx(Ns,{name:B.participanteNome,src:B.participanteFoto,size:"md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:B.participanteNome}),e.jsx("p",{className:"text-sm text-gray-500",children:B.caixaNome})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vencimento"}),e.jsx("span",{className:"text-sm font-medium",children:Xt(B.dataVencimento)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Valor a Receber"}),e.jsx("span",{className:"text-sm font-semibold text-green-700",children:(()=>{const U=o.find(be=>be._id===B.caixaId),Me=U!=null?at(B,U):B.valorParcela||0;return we(Me)})()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Data de Pagamento"}),e.jsx("span",{className:"text-sm font-medium",children:(()=>{const U=`${B._id}-split`,Me=yt[U];return Me?Xt(Me.data):"-"})()})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Recebeu o caixa na ",o.find(U=>U._id===B.caixaId)?.tipo==="semanal"?"Semana":"Ms"," ",B.mes,"  ",B.caixaNome]}),e.jsxs("div",{children:[e.jsx("input",{id:`split-file-${B._id}`,type:"file",accept:"image/*",className:"hidden",onChange:U=>ze(B,U.target.files?.[0]||null)}),e.jsx(ae,{variant:"secondary",onClick:()=>{document.getElementById(`split-file-${B._id}`)?.click()},children:"Anexar comprovante"}),B.comprovanteUrl&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:B.comprovanteUrl,alt:"Comprovante",className:"w-full max-h-80 object-contain rounded-md border border-gray-200 bg-white"})})]})]}),e.jsx(ae,{variant:"secondary",className:"w-full mt-4",onClick:()=>E(!1),children:"Fechar"})]})})]})}const Yi=({text:a})=>e.jsxs("div",{className:"group relative ml-2 inline-flex",children:[e.jsx("div",{className:"cursor-help rounded-full bg-gray-200 px-1.5 text-[10px] text-gray-600 font-bold",children:"?"}),e.jsxs("div",{className:"absolute bottom-full left-1/2 mb-2 w-48 -translate-x-1/2 hidden rounded bg-gray-800 p-2 text-xs text-white shadow-lg group-hover:block z-10",children:[a,e.jsx("div",{className:"absolute top-full left-1/2 -mt-1 h-2 w-2 -translate-x-1/2 rotate-45 bg-gray-800"})]})]}),xD={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Qi={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function fD(){const[a,n]=y.useState(null),[o,i]=y.useState(!0),[c,d]=y.useState("30d"),[u,f]=y.useState(!1),[p,h]=y.useState(!1);y.useEffect(()=>{b()},[c]);const b=async()=>{try{i(!0);const w=await ZC.getMaster();n(w)}catch(w){console.error("Erro ao carregar dashboard master:",w),n({usuarios:{total:1250,ativos:1180,administradores:85,usuarios:1163,masters:2},caixas:{total:156,ativos:89,aguardando:23,finalizados:38,cancelados:6,valorTotalMovimentado:892500},recebimentos:{totalRecebimentos:623,liberados:456,pendentes:167,valorTotalLiberado:228e4,valorTotalPendente:835e3},fundoGarantidor:{totalEntradas:78900,totalSaidas:12300,totalLucros:45600,saldoGeral:21e3,qtdCaixasComFundo:89},resumo:{totalUsuarios:1250,totalCaixasAtivos:89,valorTotalMovimentado:892500,receitaPotencialBruta:66600,receitaPotencialLiquida:6e4,receitaBrutaAdmins:8500,receitaLiquidaAdmins:8e3,custosLytexCriacaoSubconta:1500,custosLytexManutencao:500,totalCustosLytexSubcontas:2e3,receitaEfetiva:45e3}})}finally{i(!1)}},g=a?(a.caixas.finalizados/(a.caixas.total||1)*100).toFixed(1):"0",v=a?(a.caixas.cancelados/(a.caixas.total||1)*100).toFixed(1):"0",A=a?(a.usuarios.ativos/(a.usuarios.total||1)*100).toFixed(1):"0";return o?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(w=>e.jsx(ws,{},w))}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(ws,{})," ",e.jsx(ws,{})]})]}):e.jsxs(De.div,{variants:xD,initial:"hidden",animate:"show",className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs(De.div,{variants:Qi,className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel Master"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Viso geral do sistema Juntix"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex gap-1 p-1 bg-gray-100 rounded-xl",children:[{value:"7d",label:"7 dias"},{value:"30d",label:"30 dias"},{value:"90d",label:"90 dias"},{value:"all",label:"Todos"}].map(w=>e.jsx("button",{onClick:()=>d(w.value),className:ve("px-3 py-1.5 rounded-lg text-xs font-medium transition-all",c===w.value?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:w.label},w.value))}),e.jsx(ae,{variant:"secondary",size:"sm",leftIcon:e.jsx(oi,{className:"w-4 h-4"}),onClick:b,children:"Atualizar"})]})]}),e.jsxs(De.div,{variants:Qi,className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(Pe,{className:"bg-white border-violet-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-violet-100 rounded-xl flex items-center justify-center",children:e.jsx(aa,{className:"w-6 h-6 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total de Usurios"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?.usuarios.total.toLocaleString()}),e.jsx(ot,{variant:"success",size:"sm",className:"bg-green-50 text-green-700",children:"+12%"})]})]})]})}),e.jsx(Pe,{className:"bg-white border-green-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(nh,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Caixas Ativos"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?.caixas.ativos}),e.jsx(ot,{variant:"success",size:"sm",className:"bg-green-50 text-green-700",children:"+8%"})]})]})]})}),e.jsx(Pe,{className:"bg-white border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(Mt,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Caixas Concludos"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?.caixas.finalizados}),e.jsxs(ot,{variant:"gray",size:"sm",className:"bg-gray-100 text-gray-600",children:[g,"%"]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs(De.div,{variants:Qi,className:"space-y-4",children:[e.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow bg-gradient-to-r from-gray-900 to-gray-800 text-white border-none",onClick:()=>f(!u),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur-sm",children:e.jsx(hn,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:"Dados Financeiros"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Clique para visualizar mtricas financeiras"})]})]}),e.jsx("div",{className:ve("transition-transform duration-300",u?"rotate-180":""),children:e.jsx(zv,{className:"w-5 h-5 text-gray-400"})})]})}),u&&e.jsxs(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs(Pe,{className:"bg-white border-l-4 border-l-blue-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Volume Movimentado"}),e.jsx(Yi,{text:"Soma de todos os valores de cobranas PAGAS em caixas Ativos ou Concludos"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:we(a?.caixas.valorTotalMovimentado||0)})]}),e.jsxs(Pe,{className:"bg-white border-l-4 border-l-amber-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Rec. Potencial Bruta"}),e.jsx(Yi,{text:"Total Parcelas x Taxa de Servio (R$ 10,00)"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:we(a?.resumo.receitaPotencialBruta||0)})]}),e.jsxs(Pe,{className:"bg-white border-l-4 border-l-amber-600",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Rec. Potencial Lquida"}),e.jsx(Yi,{text:"Receita Bruta - Custo Lytex (R$ 0,59/boleto)"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:we(a?.resumo.receitaPotencialLiquida||0)})]}),e.jsxs(Pe,{className:"bg-white border-l-4 border-l-emerald-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Receita Efetiva"}),e.jsx(Yi,{text:"Rec. Lquida + Rec. Adm - Custos Subconta"})]}),e.jsx("p",{className:"text-xl font-bold text-emerald-600",children:we(a?.resumo.receitaEfetiva||0)})]}),e.jsxs(Pe,{className:"bg-white border-l-4 border-l-cyan-500 col-span-1 sm:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Receita Adm (Pagantes)"}),e.jsx(Yi,{text:"Receita de adeso de admins no isentos"})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Bruta"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:we(a?.resumo.receitaBrutaAdmins||0)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Lquida (-Lytex)"}),e.jsx("p",{className:"text-lg font-bold text-cyan-600",children:we(a?.resumo.receitaLiquidaAdmins||0)})]})]})]}),e.jsxs(Pe,{className:"bg-white border-l-4 border-l-pink-500 col-span-1 sm:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase",children:"Custos Subcontas Lytex"}),e.jsx(Yi,{text:"Criao (R$10) e Manuteno (R$2/ms)"})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Criao"}),e.jsx("span",{className:"font-medium",children:we(a?.resumo.custosLytexCriacaoSubconta||0)})]}),e.jsxs("div",{className:"flex justify-between text-sm border-b border-gray-100 pb-1 mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Manuteno"}),e.jsx("span",{className:"font-medium",children:we(a?.resumo.custosLytexManutencao||0)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-bold text-pink-700",children:"Total"}),e.jsx("span",{className:"font-bold text-pink-700",children:we(a?.resumo.totalCustosLytexSubcontas||0)})]})]})]})]}),e.jsxs(De.div,{variants:Qi,className:"space-y-4",children:[e.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow bg-white border-l-4 border-violet-500",onClick:()=>h(!p),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-violet-100 rounded-lg flex items-center justify-center",children:e.jsx(nf,{className:"w-5 h-5 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Gesto de Caixas"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Administrao e configuraes"})]})]}),e.jsx("div",{className:ve("transition-transform duration-300",p?"rotate-180":""),children:e.jsx(zv,{className:"w-5 h-5 text-gray-400"})})]})}),p&&e.jsxs(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid grid-cols-2 gap-3",children:[e.jsxs(ae,{variant:"secondary",className:"h-auto py-3 flex flex-col items-center gap-2 hover:bg-violet-50 hover:border-violet-200 hover:text-violet-700 transition-colors",onClick:()=>window.location.href="/painel-master/split",children:[e.jsx(mR,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Configurar Split"})]}),e.jsxs(ae,{variant:"secondary",className:"h-auto py-3 flex flex-col items-center gap-2 hover:bg-violet-50 hover:border-violet-200 hover:text-violet-700 transition-colors",onClick:()=>window.location.href="/painel-master/split/gerenciar",children:[e.jsx(nf,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Gerenciar Split"})]}),e.jsxs(ae,{variant:"secondary",className:"h-auto py-3 flex flex-col items-center gap-2 hover:bg-violet-50 hover:border-violet-200 hover:text-violet-700 transition-colors",onClick:()=>window.location.href="/painel-master/comunicacao",children:[e.jsx(rh,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Comunicao"})]}),e.jsxs(ae,{variant:"secondary",className:"h-auto py-3 flex flex-col items-center gap-2 hover:bg-violet-50 hover:border-violet-200 hover:text-violet-700 transition-colors",onClick:()=>window.location.href="/painel-master/administradores",children:[e.jsx(ap,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Administradores"})]}),e.jsxs(ae,{variant:"secondary",className:"h-auto py-3 flex flex-col items-center gap-2 hover:bg-violet-50 hover:border-violet-200 hover:text-violet-700 transition-colors",onClick:()=>window.location.href="/painel-master/contemplacao",children:[e.jsx(hn,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Contemplao"})]}),e.jsxs(ae,{variant:"secondary",className:"h-auto py-3 flex flex-col items-center gap-2 hover:bg-violet-50 hover:border-violet-200 hover:text-violet-700 transition-colors",onClick:()=>window.location.href="/painel-master/comissoes",children:[e.jsx(Ll,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-semibold",children:"Comisses"})]})]})]})]}),e.jsx(De.div,{variants:Qi,children:e.jsxs(Pe,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recebimentos"}),e.jsx(nh,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(Ta,{className:"w-5 h-5 text-gray-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?.recebimentos.totalRecebimentos}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-xl text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(Mt,{className:"w-5 h-5 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a?.recebimentos.liberados}),e.jsx("p",{className:"text-xs text-gray-500",children:"Liberados"})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(Vs,{className:"w-5 h-5 text-amber-600"})}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:a?.recebimentos.pendentes}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pendentes"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(hn,{className:"w-5 h-5 text-blue-600"})}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:we(a?.recebimentos.valorTotalLiberado||0)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor Liberado"})]})]})]})}),e.jsx(De.div,{variants:Qi,children:e.jsxs(Pe,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Indicadores de Performance"}),e.jsx(nf,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[e.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#22c55e",strokeWidth:"8",fill:"none",strokeDasharray:`${parseFloat(g)*2.26} 226`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[g,"%"]})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Concluso"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[e.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#3b82f6",strokeWidth:"8",fill:"none",strokeDasharray:`${parseFloat(A)*2.26} 226`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[A,"%"]})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ativao"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[e.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#f59e0b",strokeWidth:"8",fill:"none",strokeDasharray:`${72*2.26} 226`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"72"})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"NPS"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[e.jsxs("svg",{className:"w-20 h-20 transform -rotate-90",children:[e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#ef4444",strokeWidth:"8",fill:"none",strokeDasharray:`${parseFloat(v)*2.26} 226`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[v,"%"]})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cancelamento"})]})]})]})})]})}const hD=a=>({usuario:"Participante do Caixa",administrador:"Administrador",master:"Administrador Master"})[a]||"Participante do Caixa";function pD(){const{usuario:a,updateUsuario:n}=Da(),o=es(),[i,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState(null),[h,b]=y.useState(null),[g,v]=y.useState(""),[A,w]=y.useState(""),[S,N]=y.useState(!0),[M,_]=y.useState("");y.useEffect(()=>{if(o.hash==="#partes-contratantes"){const ie=setTimeout(()=>{const de=document.getElementById("partes-contratantes");de&&(de.scrollIntoView({behavior:"smooth",block:"start"}),de.classList.add("ring-2","ring-green-500","ring-offset-4","rounded-xl"),setTimeout(()=>{de.classList.remove("ring-2","ring-green-500","ring-offset-4","rounded-xl")},2e3))},500);return()=>clearTimeout(ie)}},[o.hash]),y.useEffect(()=>{(async()=>{if(a?._id)try{const de=await Te.get(`/usuarios/${a._id}`);p(de.data),v(de.data.cpf||""),w(de.data.chavePix||""),de.data.contratoAssinado&&c(!0);try{const L=await Te.get("/participantes/meus");if(L.data&&L.data.length>0){const ee=L.data[0];if(ee.caixaId){const Z=await Te.get(`/caixas/${ee.caixaId}`);b(Z.data)}}}catch{console.log("Usurio no possui caixa vinculado")}}catch(de){console.error("Erro ao buscar dados:",de),_("Erro ao carregar dados do usurio")}finally{N(!1)}})()},[a]);const O=ie=>{const de=ie.replace(/\D/g,"");return de.length<=11?de.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):g},D=ie=>ie.replace(/\D/g,"").length===11,k=ie=>{const de=O(ie.target.value);v(de)},E=()=>h?h.valorParcela*.25:62.5,B=()=>1.03,q=()=>h?h.valorParcela*(h.taxaAdmin||.1):25,Q=()=>{const ie=h?.valorParcela||250,de=h?.taxaServico||10,L=E(),ee=B();return ie+de+L+ee},se=()=>{const ie=h?.valorParcela||250,de=h?.taxaServico||10,L=B();return ie+de+L},J=()=>{const ie=h?.valorParcela||250,de=h?.taxaServico||10,L=B(),ee=q();return ie+de+L+ee},I=async()=>{if(f?._id){if(!D(g)){_("CPF invlido. Digite um CPF com 11 dgitos.");return}if(!A.trim()){_("Chave PIX  obrigatria.");return}u(!0),_("");try{await Te.patch(`/usuarios/${f._id}`,{cpf:g.replace(/\D/g,""),chavePix:A.trim(),contratoAssinado:!0}),c(!0),n({contratoAssinado:!0}),setTimeout(()=>{window.location.href="/carteira"},1500)}catch(ie){console.error("Erro ao aceitar contrato:",ie),_(ie.response?.data?.message||"Erro ao aceitar contrato. Tente novamente.")}finally{u(!1)}}},te=()=>{const ie=window.open("","_blank");if(!ie)return;const L=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Contrato Juntix</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; color: #333; }
            h1 { color: #10b981; font-size: 24px; margin-top: 30px; }
            h2 { color: #059669; font-size: 20px; margin-top: 25px; }
            h3 { color: #047857; font-size: 16px; margin-top: 20px; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #d1d5db; padding: 12px; text-align: left; }
            th { background-color: #f3f4f6; font-weight: 600; }
            .header { text-align: center; margin-bottom: 30px; }
            .highlight { background-color: #d1fae5; padding: 15px; border-radius: 8px; margin: 15px 0; }
            ul { margin: 10px 0; padding-left: 25px; }
            .contratante-table { width: 100%; border-collapse: collapse; margin: 15px 0; }
            .contratante-table td { border: 1px solid #d1d5db; padding: 12px; }
            .contratante-table td:first-child { background-color: #f3f4f6; font-weight: 600; width: 30%; }
            input { display: none !important; }
            label { display: none !important; }
            .print-value { display: inline !important; }
            @media print {
              body { margin: 20px; }
              h1 { page-break-before: avoid; }
              input, label, button { display: none !important; }
            }
          </style>
        </head>
        <body>
          ${document.getElementById("contrato-content")?.innerHTML||""}
          <script>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                window.close();
              }
            }
          <\/script>
        </body>
      </html>
    `;ie.document.write(L),ie.document.close()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6 md:p-8 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 text-center md:text-left",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:"Contrato de Adeso ao Juntix"}),e.jsx("p",{className:"text-green-100 text-sm md:text-base",children:"Termos e Condies de Uso da Plataforma"})]}),e.jsxs("button",{onClick:te,className:"hidden md:flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors backdrop-blur-sm",children:[e.jsx(Lv,{className:"w-5 h-5"}),e.jsx("span",{children:"Baixar PDF"})]})]})}),e.jsxs("div",{id:"contrato-content",className:"p-4 md:p-8 space-y-6 md:space-y-8",children:[e.jsxs("section",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 md:p-6 rounded-xl border border-green-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Prembulo"}),e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Diante dos abusos praticados por agiotas, das altas taxas de juros cobradas por cartes de crdito, emprstimos bancrios e financeiras, somados  elevada carga tributria que onera as operaes financeiras tradicionais no Brasil, a ",e.jsx("strong",{children:"ISS SOFWARE QUALITY SOLUTIONS"})," desenvolveu o ",e.jsx("strong",{children:"Juntix"}),', uma plataforma digital que visa modernizar e trazer segurana ao tradicional sistema de "caixa rotativo".']}),e.jsx("div",{className:"mt-4 p-4 bg-white rounded-lg border border-green-300",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["O ",e.jsx("strong",{children:"Juntix"})," no  uma instituio financeira, nem realiza operaes de crdito. Trata-se exclusivamente de uma ",e.jsx("strong",{children:"ferramenta tecnolgica de gesto e organizao de grupos colaborativos"}),"."]})})]}),e.jsxs("section",{id:"partes-contratantes",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(lo,{className:"w-6 h-6 text-green-600"}),"Partes Contratantes"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 md:p-6 rounded-xl border border-blue-200",children:[e.jsxs("h3",{className:"font-bold text-lg text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(lo,{className:"w-5 h-5"}),"Contratada"]}),e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold text-blue-900 py-2",children:"Razo Social:"}),e.jsx("td",{className:"text-blue-800",children:"ISS SOFWARE QUALITY SOLUTIONS"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold text-blue-900 py-2",children:"CNPJ:"}),e.jsx("td",{className:"text-blue-800",children:"39.997.807/0001-86"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold text-blue-900 py-2",children:"CNAE:"}),e.jsx("td",{className:"text-blue-800",children:"6209-1/00"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold text-blue-900 py-2",children:"Endereo:"}),e.jsx("td",{className:"text-blue-800",children:"R Beta 39 Quadra 12 Lote, Itinga, Lauro de Freitas"})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 md:p-6 rounded-xl border border-purple-200",children:[e.jsxs("h3",{className:"font-bold text-lg text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx(ya,{className:"w-5 h-5"}),"Contratante"]}),S?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"})}):f?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-purple-900 mb-1",children:"Nome"}),e.jsx("input",{type:"text",value:f.nome,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm text-purple-800 cursor-not-allowed"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-purple-900 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:f.email,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm text-purple-800 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-purple-900 mb-1",children:"Telefone"}),e.jsx("input",{type:"tel",value:f.telefone,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm text-purple-800 cursor-not-allowed"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-purple-900 mb-1",children:"CPF *"}),e.jsx("input",{type:"text",value:g,onChange:k,placeholder:"000.000.000-00",maxLength:14,className:"w-full px-3 py-2 bg-white border border-purple-300 rounded-lg text-sm text-purple-900 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-purple-900 mb-1",children:"Chave PIX *"}),e.jsx("input",{type:"text",value:A,onChange:ie=>w(ie.target.value),placeholder:"email, telefone, CPF ou chave aleatria",className:"w-full px-3 py-2 bg-white border border-purple-300 rounded-lg text-sm text-purple-900 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{className:"pt-2 border-t border-purple-200",children:[e.jsxs("p",{className:"text-xs text-purple-700",children:[e.jsx("strong",{children:"Qualificao:"})," Pessoa fsica, maior de 18 anos, plenamente capaz"]}),e.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:[e.jsx("strong",{children:"Denominao:"})," ",hD(f.tipo)]})]})]}):e.jsx("p",{className:"text-sm text-purple-700",children:"Erro ao carregar dados"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Definies"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-green-500",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Caixa Coletivo ou Caixa Rotativo"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Grupo formado por pessoas de confiana que contribuem mensalmente com valor fixo, sendo que a cada ms um participante recebe o montante total acumulado."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Administrador"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Participante responsvel por recrutar membros, organizar o caixa e zelar pelo cumprimento das obrigaes."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-purple-500",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Gateway de Pagamento"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Plataforma intermediria licenciada que processa transaes financeiras garantindo segurana e conformidade legal."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-orange-500",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Fundo de Reserva"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Valor coletado no primeiro ms para cobrir eventuais inadimplncias e garantir continuidade do caixa."})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Composio Financeira e Transparncia"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:[e.jsx("th",{className:"p-4 text-left",children:"Componente"}),e.jsx("th",{className:"p-4 text-left",children:"Valor Exemplo"}),e.jsx("th",{className:"p-4 text-left",children:"Destinatrio"}),e.jsx("th",{className:"p-4 text-left",children:"Quando"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Parcela"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Cota mensal do participante"})]}),e.jsxs("td",{className:"p-4 font-bold text-green-600",children:["R$ ",(h?.valorParcela||250).toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Participante contemplado"}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Todos os meses"})]}),e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Taxa de Servio"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Processamento PIX/Boleto"})]}),e.jsxs("td",{className:"p-4 font-bold text-blue-600",children:["R$ ",(h?.taxaServico||10).toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Gateway de Pagamento"}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Todos os meses"})]}),e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Fundo de Reserva"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Proteo contra inadimplncia"})]}),e.jsxs("td",{className:"p-4 font-bold text-orange-600",children:["R$ ",E().toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Retido pela plataforma"}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Apenas 1 ms"})]}),e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Taxa IPCA"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Correo monetria"})]}),e.jsxs("td",{className:"p-4 font-bold text-purple-600",children:["R$ ",B().toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Participante contemplado"}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"A partir do 2 ms"})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Comisso do Administrador"}),e.jsx("div",{className:"text-sm text-gray-600",children:"10% do valor total do caixa"})]}),e.jsxs("td",{className:"p-4 font-bold text-indigo-600",children:["R$ ",q().toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Administrador"}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:"Apenas ltimo ms"})]})]})]})}),e.jsxs("div",{className:"mt-6 bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:"Exemplo Prtico de Pagamento Mensal"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Caixa de R$ ",(h?.valorTotal||2500).toFixed(2).replace(".",",")," com ",h?.qtdParticipantes||10," participantes"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"p-3 text-left text-sm font-semibold",children:"Ms"}),e.jsx("th",{className:"p-3 text-right text-sm font-semibold",children:"Parcela"}),e.jsx("th",{className:"p-3 text-right text-sm font-semibold",children:"Taxa Servio"}),e.jsx("th",{className:"p-3 text-right text-sm font-semibold",children:"Fundo Reserva"}),e.jsx("th",{className:"p-3 text-right text-sm font-semibold",children:"Taxa IPCA"}),e.jsx("th",{className:"p-3 text-right text-sm font-semibold",children:"Comisso Admin"}),e.jsx("th",{className:"p-3 text-right text-sm font-bold",children:"Total"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"p-3 text-sm font-semibold",children:"1"}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",(h?.valorParcela||250).toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",(h?.taxaServico||10).toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm text-orange-600 font-semibold",children:["R$ ",E().toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",B().toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-3 text-right text-sm text-gray-400",children:"-"}),e.jsxs("td",{className:"p-3 text-right text-sm font-bold text-green-600",children:["R$ ",Q().toFixed(2).replace(".",",")]})]}),e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsxs("td",{className:"p-3 text-sm font-semibold",children:["2 ao ",(h?.duracaoMeses||10)-1,""]}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",(h?.valorParcela||250).toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",(h?.taxaServico||10).toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-3 text-right text-sm text-gray-400",children:"-"}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",B().toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-3 text-right text-sm text-gray-400",children:"-"}),e.jsxs("td",{className:"p-3 text-right text-sm font-bold text-green-600",children:["R$ ",se().toFixed(2).replace(".",",")]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"p-3 text-sm font-semibold",children:[h?.duracaoMeses||10," (ltimo)"]}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",(h?.valorParcela||250).toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",(h?.taxaServico||10).toFixed(2).replace(".",",")]}),e.jsx("td",{className:"p-3 text-right text-sm text-gray-400",children:"-"}),e.jsxs("td",{className:"p-3 text-right text-sm",children:["R$ ",B().toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm text-indigo-600 font-semibold",children:["R$ ",q().toFixed(2).replace(".",",")]}),e.jsxs("td",{className:"p-3 text-right text-sm font-bold text-green-600",children:["R$ ",J().toFixed(2).replace(".",",")]})]})]})]})})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-1xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Papel e Responsabilidades do Administrador"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-5 rounded-xl border border-blue-200",children:[e.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"Atribuies Principais"}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:""}),e.jsx("span",{children:"Selecionar pessoas de confiana pessoal"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:""}),e.jsx("span",{children:"Manter comunicao constante com participantes"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:""}),e.jsx("span",{children:"Acompanhar status dos pagamentos"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:""}),e.jsx("span",{children:"Realizar cobranas quando necessrio"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-5 rounded-xl border border-purple-200",children:[e.jsx("h3",{className:"font-bold text-purple-900 mb-3",children:"Remunerao"}),e.jsxs("div",{className:"space-y-3 text-sm text-purple-800",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Comisso:"})," 10% do valor total do caixa"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pagamento:"})," Apenas no ltimo ms, aps concluso bem-sucedida"]}),e.jsxs("p",{className:"pt-2 border-t border-purple-200",children:[e.jsx("strong",{children:"Exemplo:"})," Administrando 5 caixas de R$ 2.500 = R$ 1.250 em comisses"]})]})]})]})]}),e.jsxs("section",{className:"bg-red-50 p-6 rounded-xl border border-red-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-4",children:"Importante: O Juntix NO "}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Instituio financeira ou banco"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Operao de crdito ou emprstimo"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Consrcio regulamentado"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Captao pblica de recursos"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-red-300",children:[e.jsx("h3",{className:"font-bold text-red-900 mb-2",children:"O Juntix :"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Software de gesto (SaaS)"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Ferramenta de organizao"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Facilitador tecnolgico"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Provedor de transparncia"})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Proteo de Dados (LGPD)"}),e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-xl border border-indigo-200",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Tratamento de dados em conformidade com a Lei Geral de Proteo de Dados (Lei n 13.709/2018)"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-indigo-900 mb-2",children:"Dados Coletados:"}),e.jsx("p",{className:"text-gray-700",children:"Nome, CPF, telefone, e-mail, endereo, dados de pagamento"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-indigo-900 mb-2",children:"Finalidade:"}),e.jsx("p",{className:"text-gray-700",children:"Viabilizar funcionamento da plataforma e cumprimento do contrato"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-indigo-900 mb-2",children:"Segurana:"}),e.jsx("p",{className:"text-gray-700",children:"Criptografia, servidores seguros, backups regulares"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-indigo-900 mb-2",children:"Direitos do Titular:"}),e.jsx("p",{className:"text-gray-700",children:"Acesso, correo, excluso, portabilidade"})]})]})]})]}),e.jsxs("section",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6 rounded-xl text-white",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Canais de Atendimento"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"E-mail"}),e.jsx("p",{className:"text-green-100",children:"suporte@juntix.com.br"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"WhatsApp"}),e.jsx("p",{className:"text-green-100",children:"(71) 3599-0522"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Website"}),e.jsx("p",{className:"text-green-100",children:"www.juntix.com.br"})]})]})]}),e.jsxs("section",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ta,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Data de Vigncia:"})," 01/02/2026"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Verso:"})," 1.0"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-600 pt-3 border-t border-gray-300",children:[e.jsx("p",{children:"ISS SOFWARE QUALITY SOLUTIONS | CNPJ: 39.997.807/0001-86"}),e.jsx("p",{className:"mt-1",children:"Representante Legal: Isaias Santos Silva"}),e.jsx("p",{className:"mt-2 italic",children:"Documento elaborado em conformidade com o Cdigo Civil Brasileiro, LGPD, Cdigo de Defesa do Consumidor e legislaes aplicveis."})]})]})]}),i&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 m-4 md:m-6 rounded-r-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(ba,{className:"w-6 h-6 text-green-600 mt-1 md:mt-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-900",children:"Contrato Assinado"}),e.jsx("p",{className:"text-sm text-green-700",children:"Voc aceitou os termos do contrato. Baixe e armazene uma cpia para seus registros."})]})]}),e.jsxs("button",{onClick:te,className:"w-full md:w-auto flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(Lv,{className:"w-4 h-4"}),e.jsx("span",{children:"Baixar PDF"})]})]})}),!i&&e.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[M&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:M})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ao prosseguir, voc declara cincia e concordncia integral com todos os termos apresentados."}),e.jsx("button",{onClick:I,disabled:d||!g||!A||!D(g),className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ba,{className:"w-5 h-5"}),e.jsx("span",{children:"Li e Aceito os Termos de Uso"})]})})]})]})})]})})})}function gD({value:a,onChange:n,disabled:o=!1,className:i,error:c}){const[d,u]=y.useState(!1),[f,p]=y.useState(""),[h,b]=y.useState([]),[g,v]=y.useState(!1),[A,w]=y.useState(null),S=y.useRef(null),N=y.useRef(null);y.useEffect(()=>{const D=k=>{S.current&&!S.current.contains(k.target)&&u(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const M=async(D="")=>{v(!0);try{const k=await qd.getAll(D),B=(Array.isArray(k?.banks)?k.banks:Array.isArray(k)?k:[]).map(q=>({code:String(q.code||q.codigo||""),name:String(q.name||q.nome||"")})).filter(q=>q.code&&q.name);b(B)}catch(k){console.error("Error fetching banks:",k)}finally{v(!1)}};y.useEffect(()=>{M("")},[]),y.useEffect(()=>{if(a){const D=h.find(k=>k.code===a);D?w(D):h.length>0}else w(null)},[a,h]);const _=D=>{p(D),u(!0);const k=setTimeout(()=>{M(D)},500);return()=>clearTimeout(k)},O=D=>{w(D),n(D.code,D.name),u(!1),p("")};return e.jsxs("div",{className:ve("relative",i),ref:S,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Banco ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:ve("relative w-full border rounded-lg bg-white transition-all cursor-pointer",c?"border-red-300 focus-within:ring-red-200":"border-gray-300 focus-within:ring-blue-100 focus-within:border-blue-500",o&&"bg-gray-50 cursor-not-allowed opacity-75"),onClick:()=>!o&&u(!d),children:e.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5",children:[A?e.jsxs("span",{className:"text-gray-900 text-sm",children:[A.code," - ",A.name]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Selecione o banco"}),e.jsx(ru,{className:ve("w-4 h-4 text-gray-400 transition-transform",d&&"rotate-180")})]})}),d&&!o&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:[e.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50",children:e.jsxs("div",{className:"relative",children:[e.jsx(li,{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-400"}),e.jsx("input",{ref:N,type:"text",autoFocus:!0,placeholder:"Buscar por cdigo ou nome...",value:f,onChange:D=>_(D.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-200",onClick:D=>D.stopPropagation()})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200",children:g?e.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500 gap-2",children:[e.jsx(Wa,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Buscando bancos..."})]}):h.length>0?e.jsx("ul",{className:"py-1",children:h.map(D=>e.jsxs("li",{onClick:k=>{k.stopPropagation(),O(D)},className:ve("px-4 py-2 text-sm hover:bg-gray-50 cursor-pointer flex items-center justify-between",A?.code===D.code&&"bg-blue-50 text-blue-700 font-medium"),children:[e.jsx("span",{children:D.name}),e.jsx("span",{className:ve("text-xs px-2 py-0.5 rounded-full font-mono",A?.code===D.code?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"),children:D.code})]},D.code))}):e.jsxs("div",{className:"py-8 text-center text-gray-500 text-sm",children:['Nenhum banco encontrado com "',f,'"']})})]}),c&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:c})]})}const b2=({bankCode:a,bankName:n,agency:o,agencyDv:i,account:c,accountDv:d,accountType:u,onChange:f,error:p,loadingBankData:h})=>{const b=y.useRef(null),g=y.useRef(null),v=y.useRef(null),A=y.useRef(null);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(gD,{value:a,onChange:(w,S)=>f({bankCode:w,bankName:S}),disabled:h})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Conta *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>f({accountType:"corrente"}),className:`p-3 text-sm rounded-xl border-2 transition-all ${u==="corrente"?"border-green-500 bg-green-50 text-green-700 font-semibold":"border-gray-200 hover:border-gray-300"}`,children:"Corrente"}),e.jsx("button",{type:"button",onClick:()=>f({accountType:"poupanca"}),className:`p-3 text-sm rounded-xl border-2 transition-all ${u==="poupanca"?"border-green-500 bg-green-50 text-green-700 font-semibold":"border-gray-200 hover:border-gray-300"}`,children:"Poupana"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"col-span-2 sm:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agncia *"}),e.jsx("input",{ref:b,type:"text",inputMode:"numeric",placeholder:"0000",value:o,onChange:w=>{const S=w.target.value.replace(/\D/g,"").slice(0,5);f({agency:S})},maxLength:5,className:"w-full p-3 border-2 border-gray-200 rounded-xl text-base focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dgito"}),e.jsx("input",{ref:g,type:"text",inputMode:"numeric",placeholder:"0",value:i,onChange:w=>{const S=w.target.value.replace(/\D/g,"").slice(0,1);f({agencyDv:S}),S.length===1&&v.current?.focus()},onKeyDown:w=>{w.key==="Backspace"&&!i&&b.current?.focus()},maxLength:1,className:"w-full p-3 border-2 border-gray-200 rounded-xl text-base text-center focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"col-span-2 sm:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta *"}),e.jsx("input",{ref:v,type:"text",inputMode:"numeric",placeholder:"00000000",value:c,onChange:w=>{const S=w.target.value.replace(/\D/g,"").slice(0,12);f({account:S})},onKeyDown:w=>{w.key==="Backspace"&&!c&&g.current?.focus()},maxLength:12,className:"w-full p-3 border-2 border-gray-200 rounded-xl text-base focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dgito *"}),e.jsx("input",{ref:A,type:"text",inputMode:"numeric",placeholder:"0",value:d,onChange:w=>{const S=w.target.value.replace(/\D/g,"").slice(0,2);f({accountDv:S})},onKeyDown:w=>{w.key==="Backspace"&&!d&&v.current?.focus()},maxLength:2,className:"w-full p-3 border-2 border-gray-200 rounded-xl text-base text-center focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]}),p&&e.jsx("p",{className:"text-sm text-red-600",children:p})]})},lh={_id:"user-123",nome:"Joo Silva",cpf:"123.456.789-00",telefone:"(71) 99999-9999",email:"joao@example.com"},bD=a=>new Date(a).toLocaleDateString("pt-BR"),Jt=({label:a,value:n,onChange:o,type:i="text",placeholder:c="",icon:d,error:u,required:f=!1,onBlur:p,className:h=""})=>{const[b,g]=y.useState(!1),v=n&&n.length>0;return e.jsxs("div",{className:`relative ${h}`,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a,f&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[d&&e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(d,{size:18})}),e.jsx("input",{type:i,value:n,onChange:o,onFocus:()=>g(!0),onBlur:A=>{g(!1),p?.(A)},placeholder:c,className:`
            w-full ${d?"pl-12":"pl-4"} pr-4 py-3.5 
            bg-white border-2 rounded-xl
            text-gray-900 placeholder-gray-400
            transition-all duration-200 ease-in-out
            ${b?"border-blue-500 ring-4 ring-blue-100":v?"border-gray-300 hover:border-gray-400":"border-gray-200 hover:border-gray-300"}
            ${u?"border-red-300 ring-4 ring-red-50":""}
            focus:outline-none
            font-medium
          `}),v&&!u&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-green-500",children:e.jsx(Mt,{size:18})}),u&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-red-500",children:e.jsx(Bs,{size:18})})]}),u&&e.jsxs(De.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(ia,{size:14}),u]})]})},yD=({label:a,value:n,onChange:o,options:i,icon:c,required:d=!1})=>{const[u,f]=y.useState(!1);return e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a,d&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[c&&e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(c,{size:18})}),e.jsx("select",{value:n,onChange:o,onFocus:()=>f(!0),onBlur:()=>f(!1),className:`
            w-full ${c?"pl-12":"pl-4"} pr-10 py-3.5
            bg-white border-2 rounded-xl
            text-gray-900 font-medium
            transition-all duration-200 ease-in-out
            ${u?"border-blue-500 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300"}
            focus:outline-none
            appearance-none cursor-pointer
          `,children:i.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:e.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",children:e.jsx("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})},vD=({usuario:a=lh,updateUsuario:n=()=>{},onSuccess:o=()=>{},setOnboardingUrl:i=()=>{},setShowOnboardingModal:c=()=>{}})=>{const[d,u]=y.useState(!1),[f,p]=y.useState(null),[h,b]=y.useState({}),[g,v]=y.useState({type:"pf",cpfCnpj:a?.cpf||"",name:a?.nome||"",fantasyName:"",cellphone:a?.telefone||"",email:a?.email||"",aboutBusiness:"",branchOfActivity:"",webhookUrl:"",withdrawValue:5e4,numberOfExpectedMonthlyEmissions:50,expectedMonthlyBilling:5e4,addressStreet:"",addressZone:"",addressCity:"",addressState:"",addressNumber:"",addressComplement:"",addressZip:"",adminCpf:a?.cpf||"",adminFullName:a?.nome||"",adminCellphone:a?.telefone||"",adminBirthDate:"",adminMotherName:""}),[A,w]=y.useState(null),[S,N]=y.useState(""),[M,_]=y.useState(""),[O,D]=y.useState(""),[k,E]=y.useState(""),[B,q]=y.useState("corrente"),Q=(I,te)=>{const ie={...h},de={name:"Por favor, informe seu nome completo",cpfCnpj:"Por favor, informe seu CPF",cellphone:"Por favor, informe seu telefone com DDD (11 dgitos)",email:"Por favor, informe seu e-mail",aboutBusiness:"Por favor, informe sobre o seu negcio",branchOfActivity:"Por favor, informe o ramo de atividade",adminCpf:"Por favor, informe o CPF do administrador",adminFullName:"Por favor, informe o nome completo do administrador",adminCellphone:"Por favor, informe o telefone do administrador com DDD (11 dgitos)",adminBirthDate:"Por favor, informe a data de nascimento",adminMotherName:"Por favor, informe o nome da me",bank:"Por favor, selecione um banco",bankAgency:"Por favor, informe a agncia",bankAccount:"Por favor, informe a conta",bankAccountDv:"Por favor, informe o dgito da conta",addressZip:"Por favor, informe o CEP",addressStreet:"Por favor, informe a rua",addressNumber:"Por favor, informe o nmero",addressZone:"Por favor, informe o bairro",addressCity:"Por favor, informe a cidade",addressState:"Por favor, informe o estado",fantasyName:"Por favor, informe o Nome Fantasia"};let L=!0,ee=de[I]||"Campo obrigatrio";if(!te||!te.toString().trim())L=!1;else if(I==="cellphone"||I==="adminCellphone"){const Z=te.toString().replace(/\D/g,"");(Z.length<10||Z.length>11)&&(L=!1,ee="Telefone invlido (use DDD + Nmero, ex: 11999999999)")}L?delete ie[I]:ie[I]=ee,b(ie)},se=g.name.trim()&&g.cpfCnpj.trim()&&g.cellphone.trim()&&g.email.trim()&&g.aboutBusiness.trim()&&g.branchOfActivity.trim()&&g.adminCpf.trim()&&g.adminFullName.trim()&&g.adminCellphone.trim()&&g.adminBirthDate.trim()&&g.adminMotherName.trim()&&A&&S.trim()&&O.trim()&&k.trim()&&g.addressZip.trim()&&g.addressStreet.trim()&&g.addressNumber.trim()&&g.addressZone.trim()&&g.addressCity.trim()&&g.addressCity.trim()&&g.addressState.trim()&&(g.type!=="pj"||g.fantasyName&&g.fantasyName.trim()),J=async()=>{try{if(!a)throw new Error("Usurio no autenticado");u(!0),p(null);const I={type:g.type,cpfCnpj:g.cpfCnpj.replace(/\D/g,""),name:g.name.trim(),fantasyName:g.type==="pj"?g.fantasyName.trim():void 0,cellphone:g.cellphone.replace(/\D/g,""),email:g.email.trim(),aboutBusiness:g.aboutBusiness.trim(),branchOfActivity:g.branchOfActivity.trim(),withdrawValue:g.withdrawValue,numberOfExpectedMonthlyEmissions:g.numberOfExpectedMonthlyEmissions,expectedMonthlyBilling:g.expectedMonthlyBilling,address:g.addressStreet?{street:g.addressStreet.trim(),zone:g.addressZone.trim(),city:g.addressCity.trim(),state:g.addressState.trim(),number:(g.addressNumber||"0").trim(),complement:(g.addressComplement||"").trim()||void 0,zip:g.addressZip.replace(/\D/g,"")}:void 0,adminEnterprise:g.adminCpf&&g.adminBirthDate?{cpf:g.adminCpf.replace(/\D/g,""),fullName:(g.adminFullName||g.name).trim(),cellphone:(g.adminCellphone||g.cellphone).replace(/\D/g,""),birthDate:new Date(g.adminBirthDate).toISOString(),motherName:(g.adminMotherName||"").trim()||"No informado"}:void 0};if(A&&S&&O){let de=A.name;A.code==="260"&&(de="Nu Pagamentos S.A"),I.banksAccounts=[{owner:{name:g.name,type:g.type,cpfCnpj:g.cpfCnpj},bank:{code:A.code,name:de,ispb:A.code==="260"?"18236120":void 0},agency:{number:M?`${S.replace(/^0+/,"")}${M}`:S.replace(/^0+/,"")},creditCard:!1,account:{type:B,number:O,dv:k||"0"}}]}const te=await Ea.createMine(I);if(!te.success){p(te.message||te.error||"Erro ao criar subconta"),setTimeout(()=>p(null),1e4);return}const ie=te?.subconta?.lytexId||te?.subconta?._id;if(ie){n({lytexSubAccountId:ie}),te.onboardingUrl?(console.log(" URL de onboarding recebida:",te.onboardingUrl),i(te.onboardingUrl),c(!0)):console.warn(" URL de onboarding no recebida do backend"),o();return}p("No foi possvel obter o ID da subconta criada (Resposta sem ID)"),setTimeout(()=>p(null),5e3)}catch(I){const te=I?.response?.data?.message||I?.message||"Falha ao criar subconta";p(te),setTimeout(()=>p(null),5e3)}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4",children:e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:e.jsx(Wt,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Crie sua Subconta"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Configure sua carteira para comear a receber"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 mt-6",children:[e.jsxs("p",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Nu,{size:20}),"Por que isso  importante?"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Mt,{size:16,className:"text-green-300"}),"Recebimento automtico"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Mt,{size:16,className:"text-green-300"}),"Segurana nas transaes"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Mt,{size:16,className:"text-green-300"}),"Rastreamento completo"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Mt,{size:16,className:"text-green-300"}),"Proteo de dados"]})]})]})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ya,{size:24,className:"text-blue-600"}),"Dados Principais"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Jt,{label:"Nome completo",value:g.name,onChange:I=>v({...g,name:I.target.value}),icon:ya,required:!0}),e.jsx(Jt,{label:g.type==="pj"?"CNPJ":"CPF",value:g.cpfCnpj,onChange:I=>v({...g,cpfCnpj:I.target.value}),icon:ei,required:!0}),e.jsx(yD,{label:"Tipo",value:g.type,onChange:I=>v({...g,type:I.target.value}),options:[{value:"pf",label:"Pessoa Fsica"},{value:"pj",label:"Pessoa Jurdica"}],icon:Us,required:!0}),e.jsx(Jt,{label:"Telefone",value:g.cellphone,onChange:I=>v({...g,cellphone:I.target.value}),icon:Fa,required:!0}),e.jsx(Jt,{label:"E-mail",type:"email",value:g.email,onChange:I=>v({...g,email:I.target.value}),icon:Ja,required:!0}),g.type==="pj"&&e.jsx(Jt,{label:"Nome Fantasia",value:g.fantasyName,onChange:I=>v({...g,fantasyName:I.target.value}),onBlur:()=>Q("fantasyName",g.fantasyName),icon:lo,required:!0,error:h.fantasyName})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(lo,{size:24,className:"text-blue-600"}),"Informaes do Negcio"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Jt,{label:"Sobre o negcio",value:g.aboutBusiness,onChange:I=>v({...g,aboutBusiness:I.target.value}),onBlur:()=>Q("aboutBusiness",g.aboutBusiness),placeholder:"Ex: Administrador de caixas",error:h.aboutBusiness,required:!0}),e.jsx(Jt,{label:"Ramo de atividade",value:g.branchOfActivity,onChange:I=>v({...g,branchOfActivity:I.target.value}),onBlur:()=>Q("branchOfActivity",g.branchOfActivity),placeholder:"Servios",error:h.branchOfActivity,required:!0})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ya,{size:24,className:"text-blue-600"}),"Administrador da Conta"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Jt,{label:"CPF",value:g.adminCpf,onChange:I=>v({...g,adminCpf:I.target.value}),onBlur:()=>Q("adminCpf",g.adminCpf),icon:ei,error:h.adminCpf,required:!0}),e.jsx(Jt,{label:"Nome completo",value:g.adminFullName,onChange:I=>v({...g,adminFullName:I.target.value}),onBlur:()=>Q("adminFullName",g.adminFullName),icon:ya,error:h.adminFullName,required:!0}),e.jsx(Jt,{label:"Telefone",value:g.adminCellphone,onChange:I=>v({...g,adminCellphone:I.target.value}),onBlur:()=>Q("adminCellphone",g.adminCellphone),icon:Fa,error:h.adminCellphone,required:!0}),e.jsx(Jt,{label:"Data de nascimento",type:"date",value:g.adminBirthDate,onChange:I=>v({...g,adminBirthDate:I.target.value}),onBlur:()=>Q("adminBirthDate",g.adminBirthDate),icon:Ta,error:h.adminBirthDate,required:!0}),e.jsx(Jt,{label:"Nome da me",value:g.adminMotherName,onChange:I=>v({...g,adminMotherName:I.target.value}),onBlur:()=>Q("adminMotherName",g.adminMotherName),icon:ya,className:"md:col-span-2",error:h.adminMotherName,required:!0})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Xa,{size:24,className:"text-blue-600"}),"Dados Bancrios"]}),e.jsx(b2,{bankCode:A?.code,bankName:A?.name,agency:S,agencyDv:M,account:O,accountDv:k,accountType:B,onChange:I=>{(I.bankCode!==void 0||I.bankName!==void 0)&&(I.bankCode===void 0?w(null):w({code:I.bankCode,name:I.bankName||""})),I.agency!==void 0&&N(I.agency),I.agencyDv!==void 0&&_(I.agencyDv),I.account!==void 0&&D(I.account),I.accountDv!==void 0&&E(I.accountDv),I.accountType!==void 0&&q(I.accountType)}})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(js,{size:24,className:"text-blue-600"}),"Endereo"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Jt,{label:"CEP",value:g.addressZip,onChange:I=>{const te=I.target.value.replace(/\D/g,"").slice(0,8);v({...g,addressZip:te})},onBlur:async()=>{Q("addressZip",g.addressZip);const I=String(g.addressZip||"").replace(/\D/g,"");if(I.length===8)try{const ie=await(await fetch(`https://viacep.com.br/ws/${I}/json/`)).json();ie?.erro||v({...g,addressStreet:ie.logradouro||g.addressStreet,addressZone:ie.bairro||g.addressZone,addressCity:ie.localidade||g.addressCity,addressState:ie.uf||g.addressState})}catch{}},placeholder:"00000-000",icon:ei,error:h.addressZip,required:!0}),e.jsx(Jt,{label:"Rua",value:g.addressStreet,onChange:I=>v({...g,addressStreet:I.target.value}),onBlur:()=>Q("addressStreet",g.addressStreet),icon:js,error:h.addressStreet,required:!0}),e.jsx(Jt,{label:"Nmero",value:g.addressNumber,onChange:I=>v({...g,addressNumber:I.target.value}),onBlur:()=>Q("addressNumber",g.addressNumber),icon:ei,error:h.addressNumber,required:!0}),e.jsx(Jt,{label:"Complemento",value:g.addressComplement,onChange:I=>v({...g,addressComplement:I.target.value})}),e.jsx(Jt,{label:"Bairro",value:g.addressZone,onChange:I=>v({...g,addressZone:I.target.value}),onBlur:()=>Q("addressZone",g.addressZone),icon:js,error:h.addressZone,required:!0}),e.jsx(Jt,{label:"Cidade",value:g.addressCity,onChange:I=>v({...g,addressCity:I.target.value}),onBlur:()=>Q("addressCity",g.addressCity),icon:js,error:h.addressCity,required:!0}),e.jsx(Jt,{label:"Estado",value:g.addressState,onChange:I=>v({...g,addressState:I.target.value}),onBlur:()=>Q("addressState",g.addressState),placeholder:"UF",icon:js,error:h.addressState,required:!0})]})]}),e.jsx(Jl,{children:f&&e.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start gap-3",children:[e.jsx(ia,{className:"text-red-600 mt-0.5 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:f})]})}),e.jsx(De.button,{whileHover:{scale:se?1.02:1},whileTap:{scale:se?.98:1},onClick:J,disabled:d||!se,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 flex items-center justify-center gap-3",children:d?e.jsxs(e.Fragment,{children:[e.jsx(Wa,{className:"animate-spin",size:24}),"Criando subconta..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{size:24}),"Criar Subconta"]})})]})]})})})},jD=({usuario:a=lh,subcontaData:n,accountData:o=lh,caixasGerenciados:i=[],hasSubAccount:c=!1,createSubAccountAction:d=()=>{}})=>{const[u,f]=y.useState(!1),[p,h]=y.useState(null),[b,g]=y.useState(!1),[v,A]=y.useState(null),[w,S]=y.useState(null),[N,M]=y.useState(""),[_,O]=y.useState(""),[D,k]=y.useState(""),[E,B]=y.useState(""),[q,Q]=y.useState("corrente"),[se,J]=y.useState(""),[I,te]=y.useState(""),[ie,de]=y.useState(""),[L,ee]=y.useState(""),[Z,oe]=y.useState(""),[ce,P]=y.useState(""),[Y,he]=y.useState(""),[Se,Ve]=y.useState(null);y.useEffect(()=>{n?.address&&(J(n.address.zip||""),te(n.address.street||""),de(n.address.number||""),ee(n.address.complement||""),oe(n.address.zone||""),P(n.address.city||""),he(n.address.state||""))},[n]);const Ze=async()=>{try{g(!0),h(null);const R=await t3.getMyBankAccounts(),fe=Array.isArray(R)?R:R?.contas||R?.data||[];if(fe.length>0){const me=fe[0];A({_id:me._id||me.lytexId,bank:{code:me.bankCode||"",name:me.bankName||""},agency:{number:me.agency||"",dv:me.agencyDv||""},account:{type:me.accountType||"corrente",number:me.account||"",dv:me.accountDv||""}}),Ve(me._id||me.lytexId||null)}else A(null)}catch(R){console.error(" Erro ao buscar dados bancrios:",R),h(R?.response?.data?.message||R?.message||"Erro ao buscar dados bancrios"),A(null)}finally{g(!1)}};y.useEffect(()=>{a?._id&&c&&Ze()},[a?._id,c]);const H=async()=>{if(!n?.lytexId||!w){h("Selecione um banco");return}if(!N||!D||!E){h("Preencha todos os campos obrigatrios");return}try{f(!0),h(null);const R={name:n.name||a?.nome||"",email:n.email||a?.email||"",cpfCnpj:n.cpfCnpj||a?.cpf||"",address:se&&I?{street:I,zone:Z,city:ce,state:Y,number:ie||"0",complement:L,zip:se}:void 0,banksAccounts:[{_bankAccountId:Se||void 0,owner:{name:n.name||a?.nome||"",type:n.type||"pf",cpfCnpj:n.cpfCnpj||a?.cpf||""},bank:{code:w.code,name:w.name,ispb:w.code==="260"?"18236120":void 0},agency:{number:N,dv:_||void 0},account:{type:q,number:D,dv:E},creditCard:!1}]},fe=n.lytexId,me=await Ea.updateBankAccount(fe,R);me.success||me._id?(await Ze(),S(null),M(""),O(""),k(""),B(""),Q("corrente")):h(me.message||"Erro ao salvar dados bancrios")}catch(R){console.error(" Erro ao salvar dados bancrios:",R),h(R?.response?.data?.message||R?.message||"Erro ao salvar dados bancrios")}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden hidden sm:block",children:[e.jsx("div",{className:`p-8 ${n?"bg-gradient-to-r from-green-50 to-emerald-50":"bg-gradient-to-r from-yellow-50 to-orange-50"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-16 h-16 ${n?"bg-green-500":"bg-yellow-500"} rounded-2xl flex items-center justify-center shadow-lg`,children:n?e.jsx(Os,{className:"text-white",size:32}):e.jsx(ia,{className:"text-white",size:32})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?"Conta Ativa":"Subconta No Encontrada"}),e.jsx("p",{className:"text-gray-700 mb-4",children:n?"Sua conta est funcionando normalmente e pronta para transaes":"Crie sua subconta para comear a receber pagamentos"}),!c&&e.jsxs(De.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:[e.jsx(Wt,{size:20}),"Criar Subconta Agora"]})]})]})}),e.jsxs("div",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-6",children:[e.jsx("div",{className:"col-span-2 sm:col-span-1 p-3 sm:p-4 bg-gray-50 rounded-xl sm:rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden sm:flex w-12 h-12 bg-blue-100 rounded-xl items-center justify-center",children:e.jsx(ya,{className:"text-blue-600",size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Nome Completo"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:n?.name||o.name})]})]})}),e.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-xl sm:rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden sm:flex w-12 h-12 bg-purple-100 rounded-xl items-center justify-center",children:e.jsx(ei,{className:"text-purple-600",size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"CPF/CNPJ"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:n?.cpfCnpj||o.cpf})]})]})}),e.jsx("div",{className:"col-span-2 sm:col-span-1 p-3 sm:p-4 bg-gray-50 rounded-xl sm:rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden sm:flex w-12 h-12 bg-green-100 rounded-xl items-center justify-center",children:e.jsx(Ja,{className:"text-green-600",size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"E-mail"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:n?.email||o.email})]})]})}),n?.cellphone&&e.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-xl sm:rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden sm:flex w-12 h-12 bg-orange-100 rounded-xl items-center justify-center",children:e.jsx(Fa,{className:"text-orange-600",size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Celular"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n.cellphone})]})]})}),e.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-xl sm:rounded-2xl",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Tipo"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n?.type?.toUpperCase()||"PF"})]}),e.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-xl sm:rounded-2xl",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 mt-1 ${n?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"} rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold`,children:[n?e.jsx(Mt,{size:14}):e.jsx(ia,{size:14}),n?"Ativa":"Pendente"]})]})]}),n?.createdAt&&e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-2xl border-2 border-blue-100",children:e.jsxs("p",{className:"text-sm text-blue-700 font-medium flex items-center gap-2",children:[e.jsx(Ta,{size:16}),"Conta criada em ",bD(n.createdAt)]})})]})]}),e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:e.jsx(Xa,{className:"text-white",size:22})}),"Dados da Conta e Endereo"]}),b?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Wa,{className:"animate-spin text-blue-600 mb-4",size:48}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Carregando dados bancrios..."})]}):p&&!v?e.jsxs("div",{className:"p-4 bg-red-50 border-2 border-red-200 rounded-2xl flex items-start gap-3",children:[e.jsx(ia,{className:"text-red-600 mt-0.5 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:p})]}):v?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.bank&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl border-2 border-blue-200",children:[e.jsxs("p",{className:"text-sm text-blue-700 font-medium mb-1 flex items-center gap-2",children:[e.jsx(lo,{size:16}),"Banco"]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:v.bank.name})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl border-2 border-purple-200",children:[e.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Cdigo do Banco"}),e.jsx("p",{className:"font-mono text-lg bg-white px-3 py-2 rounded-lg text-gray-900 font-bold",children:v.bank.code})]})]}),v.agency&&e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-2xl border-2 border-green-200",children:[e.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Agncia"}),e.jsxs("p",{className:"font-mono text-lg bg-white px-3 py-2 rounded-lg text-gray-900 font-bold",children:[v.agency.number,v.agency.dv&&`-${v.agency.dv}`]})]}),v.account&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl border-2 border-orange-200",children:[e.jsx("p",{className:"text-sm text-orange-700 font-medium mb-1",children:"Tipo de Conta"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:v.account.type})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-pink-50 to-pink-100 rounded-2xl border-2 border-pink-200 md:col-span-2",children:[e.jsx("p",{className:"text-sm text-pink-700 font-medium mb-1",children:"Conta"}),e.jsxs("p",{className:"font-mono text-lg bg-white px-3 py-2 rounded-lg text-gray-900 font-bold",children:[v.account.number,v.account.dv&&`-${v.account.dv}`]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ia,{className:"text-amber-600 mt-1 flex-shrink-0",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-amber-700 mb-1",children:"Nenhum dado bancrio cadastrado"}),e.jsx("p",{className:"text-sm text-amber-500",children:"Preencha o formulrio abaixo para configurar sua conta e receber pagamentos."})]})]})}),e.jsx(b2,{bankCode:w?.code,bankName:w?.name,agency:N,agencyDv:_,account:D,accountDv:E,accountType:q,onChange:R=>{(R.bankCode!==void 0||R.bankName!==void 0)&&(R.bankCode===void 0?S(null):S({code:R.bankCode,name:R.bankName||""})),R.agency!==void 0&&M(R.agency),R.agencyDv!==void 0&&O(R.agencyDv),R.account!==void 0&&k(R.account),R.accountDv!==void 0&&B(R.accountDv),R.accountType!==void 0&&Q(R.accountType)},error:p}),e.jsxs("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t-2 border-gray-100",children:[e.jsxs("h5",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(js,{className:"text-blue-600",size:20}),"Endereo"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-6",children:[e.jsx(Jt,{label:"CEP",value:se,onChange:R=>{const fe=R.target.value.replace(/\D/g,"").slice(0,8);J(fe)},onBlur:async()=>{const R=String(se||"").replace(/\D/g,"");if(R.length===8)try{const me=await(await fetch(`https://viacep.com.br/ws/${R}/json/`)).json();me?.erro||(te(me.logradouro||I),oe(me.bairro||Z),P(me.localidade||ce),he(me.uf||Y))}catch{}},placeholder:"00000-000",icon:ei,required:!0}),e.jsx(Jt,{label:"Rua",value:I,onChange:R=>te(R.target.value),icon:js,required:!0}),e.jsx(Jt,{label:"Nmero",value:ie,onChange:R=>de(R.target.value),icon:ei,required:!0}),e.jsx(Jt,{label:"Complemento",value:L,onChange:R=>ee(R.target.value)}),e.jsx(Jt,{label:"Bairro",value:Z,onChange:R=>oe(R.target.value),icon:js,required:!0}),e.jsx(Jt,{label:"Cidade",value:ce,onChange:R=>P(R.target.value),icon:js,required:!0}),e.jsx(Jt,{label:"Estado",value:Y,onChange:R=>he(R.target.value),placeholder:"UF",icon:js,required:!0})]})]}),e.jsx(De.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:H,disabled:u||!w||!N||!D||!E,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold text-lg rounded-2xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 flex items-center justify-center gap-3 mt-8",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Wa,{className:"animate-spin",size:24}),"Salvando dados..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{size:24}),"Confirmar Dados"]})})]})]}),i.length>0&&e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("h4",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center",children:e.jsx(Wt,{className:"text-white",size:24})}),"Caixas Gerenciados (",i.length,")"]}),e.jsx("div",{className:"space-y-3",children:i.map(R=>e.jsxs(De.div,{whileHover:{scale:1.02},className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border-2 border-gray-200 hover:border-gray-300 transition-all",children:[e.jsx("span",{className:"font-bold text-gray-900",children:R.nome}),e.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-bold ${R.status==="ativo"?"bg-green-500 text-white":R.status==="completo"?"bg-blue-500 text-white":R.status==="finalizado"?"bg-gray-500 text-white":"bg-yellow-500 text-white"}`,children:R.status||"Rascunho"})]},R._id))})]}),n?.lytexId&&e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-4 sm:p-8",children:[e.jsxs("h4",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg sm:rounded-xl flex items-center justify-center",children:e.jsx(Us,{className:"text-white",size:18})}),e.jsx("span",{className:"hidden sm:inline",children:"Dados Lytex"}),e.jsx("span",{className:"sm:hidden",children:"Dados Tcnicos"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl sm:rounded-2xl border-2 border-blue-200",children:[e.jsx("p",{className:"text-xs sm:text-sm text-blue-700 font-medium mb-1",children:"ID Lytex"}),e.jsx("p",{className:"font-mono text-xs sm:text-sm bg-white px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-gray-900 font-bold break-all",children:n.lytexId})]}),n._id&&e.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl sm:rounded-2xl border-2 border-purple-200",children:[e.jsx("p",{className:"text-xs sm:text-sm text-purple-700 font-medium mb-1",children:"ID Local"}),e.jsx("p",{className:"font-mono text-xs sm:text-sm bg-white px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-gray-900 font-bold break-all",children:n._id})]}),e.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl sm:rounded-2xl border-2 border-green-200",children:[e.jsx("p",{className:"text-xs sm:text-sm text-green-700 font-medium mb-1 sm:mb-2",children:"Credenciais API"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 ${n.hasCredentials?"bg-green-500 text-white":"bg-orange-500 text-white"} rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold`,children:[n.hasCredentials?e.jsx(Mt,{size:14}):e.jsx(ia,{size:14}),n.hasCredentials?"Configuradas":"No configuradas"]})]}),n.clientId&&e.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl sm:rounded-2xl border-2 border-indigo-200",children:[e.jsx("p",{className:"text-xs sm:text-sm text-indigo-700 font-medium mb-1",children:"Client ID"}),e.jsx("p",{className:"font-mono text-xs bg-white px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-gray-900 font-bold break-all",children:n.clientId})]}),n.nomeCaixa&&e.jsxs("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl sm:rounded-2xl border-2 border-pink-200",children:[e.jsx("p",{className:"text-xs sm:text-sm text-pink-700 font-medium mb-1",children:"Caixa Associado"}),e.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n.nomeCaixa})]})]})]}),e.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl sm:rounded-3xl p-4 sm:p-8",children:[e.jsxs("h4",{className:"text-base sm:text-xl font-bold text-blue-900 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(Nu,{size:20}),"Informaes"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/70 rounded-2xl",children:[e.jsx(Mt,{className:"text-green-600 mt-1 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Saques processados em at 1 dia til"})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/70 rounded-2xl",children:[e.jsx(Mt,{className:"text-green-600 mt-1 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Sem taxa para transferncias acima de R$ 100"})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/70 rounded-2xl",children:[e.jsx(Mt,{className:"text-green-600 mt-1 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Suporte de segunda a sexta, 9h s 18h"})]}),!n?.hasCredentials&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-100 rounded-2xl",children:[e.jsx(ia,{className:"text-orange-600 mt-1 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-orange-900 font-medium",children:"Credenciais API no configuradas - solicite ao master"})]})]})]})]})})},ND=({isOpen:a,onboardingUrl:n,onClose:o})=>{const[i,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState(!1),h=y.useRef(null),{setBottomNavVisible:b}=d1();y.useEffect(()=>(b(!a),()=>{b(!0)}),[a,b]),y.useEffect(()=>{if(!a)return;console.log(" Iniciando timer de 3 minutos para boto manual...");const v=setTimeout(()=>{console.log(" 3 minutos passaram, exibindo boto manual."),p(!0)},18e4);return()=>clearTimeout(v)},[a]),y.useEffect(()=>{if(!a)return;const v=setInterval(async()=>{try{(await Ea.checkStatus()).verified&&(console.log(" Verificao confirmada automaticamente! Recarregando..."),clearInterval(v),u(!0),window.location.reload())}catch(A){console.warn("Silent check falhou:",A)}},5e3);return()=>clearInterval(v)},[a]);const g=async()=>{try{u(!0),await Ea.updateFacialRecognition(!0),window.location.href="/"}catch(v){console.error("Erro ao atualizar status:",v),u(!1)}};return!a||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 backdrop-blur-sm",children:e.jsx(De.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl w-full h-full max-w-4xl max-h-[95vh] mx-4 flex flex-col shadow-2xl overflow-hidden",children:i?e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"flex-shrink-0 bg-amber-50 border-b border-amber-100 px-4 py-2 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>c(!1),className:"flex items-center gap-2 text-amber-700 hover:text-amber-800 text-sm font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Ver instrues"]}),e.jsx("span",{className:"text-amber-600 text-sm",children:"Siga as instrues na tela para concluir a verificao"})]}),e.jsx("div",{className:"flex-1 min-h-0 relative",children:e.jsx("iframe",{ref:h,src:n,title:"Verificao de Identidade - Lytex",className:"w-full h-full border-0",allow:"camera; microphone; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms allow-modals allow-top-navigation"})}),e.jsxs("div",{className:"bg-white border-t border-gray-100 p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-10",children:[e.jsxs("button",{onClick:g,disabled:d,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white font-bold py-4 px-6 rounded-xl hover:from-green-700 hover:to-green-800 transition-all shadow-lg flex items-center justify-center gap-2",children:[d?e.jsx(Wa,{className:"w-5 h-5 animate-spin"}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Finalizar e voltar ao incio"]}),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-2",children:"Clique neste boto aps concluir as etapas de reconhecimento facial"})]})]}):e.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col",children:[e.jsxs("div",{className:"flex-shrink-0 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Verificao de Identidade"}),e.jsx("p",{className:"text-green-100 text-sm",children:"Ambiente seguro"})]})]}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"p-6 md:p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.07 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-green-700 mb-1",children:"Por que verificar sua identidade?"}),e.jsxs("p",{className:"text-gray-600",children:["A captura do documento e reconhecimento facial so ",e.jsx("strong",{className:"text-gray-800",children:"obrigatrios por lei"})," e garantem:"]})]})]}),e.jsxs("ul",{className:"space-y-3 mb-6 pl-4",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-700",children:"Proteo contra fraudes e golpes"})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-700",children:"Segurana nas suas transaes financeiras"})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-700",children:"Conformidade com as normas do Banco Central"})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-700",children:"Transferncias realizadas apenas para a conta do titular verificado"})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-700",children:"Ambiente seguro para todos os usurios"})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-100 rounded-xl p-4 mb-6",children:e.jsxs("p",{className:"text-green-700 text-sm leading-relaxed",children:["Como o ",e.jsx("strong",{children:"Juntix trabalha com dinheiro real"}),", essa verificao garante que voc sempre receber seus recursos na sua prpria conta bancria."]})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("span",{children:"Dados criptografados (LGPD)"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Menos de 2 minutos"})]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-3",children:"Escolha como deseja verificar:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white font-bold py-4 px-6 rounded-xl hover:from-green-700 hover:to-green-800 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Iniciar Verificao Agora"]}),e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"w-full block text-center border-2 border-gray-200 text-gray-600 font-medium py-3 px-6 rounded-xl hover:border-gray-300 hover:bg-gray-50 transition-all",children:"Abrir em nova janela (verificao externa)"}),f&&e.jsxs(De.button,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},onClick:g,disabled:d,className:"w-full bg-gray-100 text-gray-700 font-medium py-3 px-6 rounded-xl hover:bg-gray-200 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?e.jsx(Wa,{className:"w-5 h-5 animate-spin"}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),d?"Confirmando...":"J conclu a verificao (Atualizar status)"]})]})]})})]})})})},wD=()=>{const{usuario:a,updateUsuario:n}=Da(),o=Ba(),[i,c]=y.useState(!0),[d,u]=y.useState("overview"),[f,p]=y.useState(null),[h,b]=y.useState(null),[g,v]=y.useState(""),[A,w]=y.useState(null),[S,N]=y.useState(!!a?.lytexSubAccountId),[M,_]=y.useState(!a?.lytexSubAccountId),[O,D]=y.useState(!1),[k,E]=y.useState(""),[B,q]=y.useState(null),[Q,se]=y.useState(!1),[J,I]=y.useState([]),[te,ie]=y.useState(!1),[de,L]=y.useState(null),[ee,Z]=y.useState([]),[oe,ce]=y.useState(!1),[P,Y]=y.useState(null),[he,Se]=y.useState(1),[Ve,Ze]=y.useState(!1),[H,R]=y.useState(null),[fe,me]=y.useState([]),[Ee,at]=y.useState(null),[Ue,Je]=y.useState(!1),[Be,rt]=y.useState({name:a?.nome||"",cpf:a?.cpf||"",email:a?.email||"",balance:0,pendingBalance:0,blockedBalance:0,paidBalance:0,futureTaxes:0,status:"Ativa",createdAt:""}),[ge,yt]=y.useState(null),[At,ft]=y.useState([]),[F,Oe]=y.useState(!1),[ze,U]=y.useState(!0);y.useEffect(()=>{(async()=>{if(a){if(a.tipo!=="usuario"){Oe(!0),U(!1);return}U(!0);try{const C=await ga.getByUsuario(a._id),X=Array.isArray(C)?C:C?.participacoes||[];Oe(X.length>0)}catch(C){console.error("Error checking eligibility:",C),Oe(!1)}finally{U(!1)}}})()},[a]);const Me=async()=>{try{w(null),console.log(" Tentando buscar carteira individual do participante...");const qe=await Ea.getMyWallet();if(qe&&qe.success){const Le=qe.wallet;console.log(" Carteira individual encontrada:",Le),rt(jt=>({...jt,balance:(Le.balance||0)/100,pendingBalance:(Le.futureBalance||0)/100,blockedBalance:(Le.blockedBalance||0)/100,futureTaxes:(Le.futureTaxes||0)/100}));return}console.log(" Falha ou carteira individual no encontrada:",qe?.message);try{if(!qe?.success){const Le=qe?.error;w(Le==="SUB_ACCOUNT_NOT_FOUND"?"Subconta no encontrada. Crie sua subconta primeiro.":Le==="LYTEX_AUTH_FAILED"?"Falha de autenticao Lytex. Verifique suas credenciais.":qe?.message||"Erro ao buscar carteira individual."),rt(jt=>({...jt,balance:0,pendingBalance:0,blockedBalance:0,futureTaxes:0}));return}console.log(" Usurio  master, usando fallback para carteira geral...")}catch(Le){if(console.log(" Exceo ao buscar carteira individual:",Le?.message),a?.tipo!=="master"){w("Erro ao buscar sua carteira. Verifique se sua subconta est configurada."),rt(jt=>({...jt,balance:0,pendingBalance:0,blockedBalance:0,futureTaxes:0}));return}}console.log(" Usando fallback: buscando carteira geral (master)...");const C=await Bn.wallet(),X=C&&C.wallet||C,Re=typeof X?.balance=="number"?X.balance:0,_e=typeof X?.futureBalance=="number"?X.futureBalance:0,Ye=typeof X?.blockedBalance=="number"?X.blockedBalance:0,Ae=typeof X?.futureTaxes=="number"?X.futureTaxes:0,Ge=Re/100,mt=_e/100,it=Ye/100,ct=Ae/100;console.log(" Valores da carteira geral (master fallback):",{balance:Ge,pendingBalance:mt}),rt(Le=>({...Le,balance:Ge,pendingBalance:mt,blockedBalance:it,futureTaxes:ct}))}catch(qe){console.error(" Erro fatal ao consultar carteira:",qe),w(qe?.message||"Erro ao consultar carteira")}},be=(qe,C,X)=>{const Re=String(qe||"").toLowerCase();return["aprovado","pago","paid","liquidated","settled","pago_gateway"].includes(Re)?"pago":Re==="enviado"?X?"pago":"enviado":C&&C>0?"atrasado":"pendente"},ke=async()=>{try{if(ie(!0),L(null),!a?._id){I([]);return}const qe=a.tipo==="master"?await kt.getAll():await kt.getByAdmin(a._id);console.log("[Carteira] Resposta caixasService:",qe);const C=Array.isArray(qe)?qe:qe.caixas||[],X=new Map;if(C.forEach(Ae=>{if(!Ae||!Ae._id)return;const Ge=Ae.adminId,mt=typeof Ge=="string"?"":Ge?.nome||"",it=Ae.tipo==="semanal"?"semanal":"mensal";X.set(Ae._id,{nome:Ae.nome,adminNome:mt,tipo:it,valorParcela:typeof Ae.valorParcela=="number"?Ae.valorParcela:0,valorTotal:typeof Ae.valorTotal=="number"?Ae.valorTotal:0,qtdParticipantes:typeof Ae.qtdParticipantes=="number"?Ae.qtdParticipantes:0,duracaoMeses:typeof Ae.duracaoMeses=="number"?Ae.duracaoMeses:0,taxaServico:typeof Ae.taxaServico=="number"?Ae.taxaServico:7.2})}),X.size===0){I([]);return}const Re=await en.getAll({limit:1e3,page:1});console.log("[Carteira] Resposta pagamentosService:",Re);const Ye=(Array.isArray(Re)?Re:Re.pagamentos||[]).filter(Ae=>{if(!Ae||!Ae.dataPagamento||!Ae.caixaId)return!1;const Ge=typeof Ae.caixaId=="string"?Ae.caixaId:Ae.caixaId._id||"";return Ge?X.has(Ge):!1}).map(Ae=>{console.log("[Carteira] Processando pagamento:",Ae);const Ge=typeof Ae.diasAtraso=="number"?Ae.diasAtraso:Ae.diasAtraso?Number(Ae.diasAtraso):0;if(be(Ae.status,Ge,Ae.dataPagamento)!=="pago")return null;const it=Ge&&Ge>0?"atrasado":"em_dia",ct=typeof Ae.caixaId=="string"?Ae.caixaId:Ae.caixaId?._id||"",Le=ct?X.get(ct):void 0;if(!Le)return null;const jt=typeof Ae.valorParcela=="number"?Ae.valorParcela:0,ka=Le.valorParcela||0,qt=jt>0?jt:ka,Lt=typeof Ae.taxaServico=="number"&&Ae.taxaServico>0?Ae.taxaServico:5,_a=typeof Ae.mesReferencia=="number"?Ae.mesReferencia:0;let Cs=0;_a===1&&Le.qtdParticipantes>0&&(Cs=Le.valorParcela/Le.qtdParticipantes);let $n=0;Le.duracaoMeses>0&&_a===Le.duracaoMeses&&($n=Le.valorTotal*.1);const gn=qt,Fs=Ae.pagadorId,Hs=typeof Fs=="string"?Ae.participanteNome||"Participante":Fs?.nome||Ae.participanteNome||"Participante";return{id:Ae._id,caixaId:ct,caixaNome:Le.nome,caixaAdminNome:Le.adminNome,participanteNome:Hs,dataPagamento:Ae.dataPagamento,valorPago:gn,status:it,tipo:"entrada",mesReferencia:typeof Ae.mesReferencia=="number"?Ae.mesReferencia:void 0,tipoCaixa:Le.tipo}}).filter(Ae=>!!Ae);Ye.sort((Ae,Ge)=>new Date(Ge.dataPagamento).getTime()-new Date(Ae.dataPagamento).getTime()),I(Ye)}catch(qe){L(qe?.message||"Erro ao carregar transaes recentes"),I([])}finally{ie(!1)}},je=async(qe=1)=>{try{ce(!0),Y(null);const C=await Bn.transactions({page:qe,limit:10});console.log("[Carteira] Resposta cobrancasService.transactions (Lytex):",C);const Re=(Array.isArray(C?.transactions)?C.transactions:[]).map(_e=>({id:String(_e.id||_e._id||""),type:String(_e.type||""),description:String(_e.description||""),status:String(_e.status||""),amount:typeof _e.amount=="number"?_e.amount:0,createdAt:typeof _e.createdAt=="string"&&_e.createdAt||typeof _e.created_at=="string"&&_e.created_at||""}));Z(Re),Ze(!!C?.hasMore),Se(C?.page||qe)}catch(C){Y(C?.message||"Erro ao carregar transaes da carteira"),Z([])}finally{ce(!1)}},He=async()=>{if(a?._id)try{console.log(" Buscando saldo pago do usurio e detalhes de transaes...");const qe=await Ea.getMyWalletTransactions();if(qe.success&&qe.data&&Array.isArray(qe.data.transactions)){const C=qe.data.transactions;console.log(` ${C.length} transaes encontradas na carteira.`);const X=C.filter(_e=>{const Ye=_e.category==="bank_transfer",Ae=_e.withdrawSolicitation?.status==="released";return Ye&&Ae});console.log(` ${X.length} saques liberados encontrados.`);const Re=X.reduce((_e,Ye)=>_e+Math.abs(Ye.amount||0),0)/100;if(rt(_e=>({..._e,paidBalance:Re})),X.length>0){const Ye=[...X].sort((Ae,Ge)=>{const mt=new Date(Ae.withdrawSolicitation?.releasedAt||Ae.createdAt).getTime();return new Date(Ge.withdrawSolicitation?.releasedAt||Ge.createdAt).getTime()-mt})[0];if(Ye){console.log(" Detalhes do ltimo saque:",Ye);const Ae=Ye.metadata||{};R({amount:Math.abs(Ye.amount||0)/100,releasedAt:Ye.withdrawSolicitation?.releasedAt||Ye.createdAt||Ye.releasedAt,bankName:Ae.bankName||Ye.bankName||"Banco",agency:Ae.agencyNumber||Ye.agencyNumber||"",account:Ae.accountNumber||Ye.accountNumber||"",accountDv:Ae.accountDv||Ye.accountDv||""})}}}else{const C=await Wi.getMyRecebimentos(),Re=(C.recebimentos||C||[]).filter(_e=>_e.status==="concluido").reduce((_e,Ye)=>_e+(Ye.valorTotal||0),0);console.log(` Total pago encontrado (fallback): R$ ${Re.toLocaleString("pt-BR",{minimumFractionDigits:2})}`),rt(_e=>({..._e,paidBalance:Re}))}}catch(qe){console.error(" Erro ao buscar saldo pago:",qe)}},V=async()=>{if(!a?._id||a?.tipo!=="usuario"){me([]),at(null);return}try{Je(!0),console.log(" Buscando caixas do participante...");const qe=await ga.getByUsuario(a._id),C=Array.isArray(qe)?qe:qe?.participacoes||[];if(console.log(` Participaes encontradas: ${C.length}`),C.length===0){console.log(" Participante no est vinculado a nenhum caixa"),me([]),at(null);return}me(C);const X=C.find(Lt=>Lt.caixaId?.status==="ativo");if(!X||!X.caixaId){console.log(" Nenhum caixa ativo encontrado"),at(null);return}console.log(` Caixa ativo encontrado: ${X.caixaId.nome}`);const Re=await kt.getById(X.caixaId._id);let _e=Re.mesAtual||1;if(Re.tipo==="diario"||Re.tipo==="semanal"){let Lt="";Re.dataInicio instanceof Date?Lt=Re.dataInicio.toISOString():Lt=String(Re.dataInicio||""),console.log(" [DEBUG] Date Parse:",{raw:Re.dataInicio,str:Lt});const _a=Lt.split("T")[0];if(_a&&_a.includes("-")){const[Cs,$n,gn]=_a.split("-").map(Number),Fs=new Date(Cs,$n-1,gn,12,0,0,0),Hs=new Date;Hs.setHours(12,0,0,0);const ui=Hs.getTime()-Fs.getTime(),ts=Math.floor(ui/(1e3*60*60*24));ts>=0&&(Re.tipo==="diario"?_e=ts+1:_e=Math.floor(ts/7)+1,Re.duracaoMeses&&_e>Re.duracaoMeses&&(_e=Re.duracaoMeses))}}console.log(` Ms atual do caixa (Calculado): ${_e}`);const Ye=await ga.getByCaixa(Re._id),Ae=Array.isArray(Ye)?Ye:Ye?.participantes||[];console.log(` Total de participantes no caixa: ${Ae.length}`);let Ge=Ae.find(Lt=>Number(Lt.posicao)===_e);if(!Ge){const Lt=Number(Re.mesAtual||1),_a=Ae.find(Cs=>Number(Cs.posicao)===Lt);if(_a&&Lt!==_e&&(console.log(` Contemplado calculado (Ms ${_e}) no encontrado. Revertendo para backend (Ms ${Lt})`),_e=Lt,Ge=_a),!Ge){console.log(" Nenhum contemplado encontrado (nem backend nem calculado)"),at(null);return}}console.log(` Contemplado encontrado: ${Ge.usuarioId?.nome||Ge.nome}`);const it=String(Re.dataInicio||"").split("T")[0];let ct=new Date;if(it&&it.includes("-")){const[Lt,_a,Cs]=it.split("-").map(Number);ct=new Date(Lt,_a-1,Cs,12,0,0,0)}else ct.setHours(12,0,0,0);if(Re.tipo==="semanal")ct.setDate(ct.getDate()+(_e-1)*7);else if(Re.tipo==="diario")ct.setDate(ct.getDate()+(_e-1));else{ct.setMonth(ct.getMonth()+(_e-1));const Lt=Re.diaVencimento||ct.getDate();ct.setDate(Lt)}const Le=new Date(ct);Le.setDate(Le.getDate()+1);const jt=Le.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),ka=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],qt={caixaNome:Re.nome,participanteNome:Ge.usuarioId?.nome||Ge.nome||"Participante",valor:Re.valorTotal,vencimento:ct.toLocaleDateString("pt-BR"),dataTransferencia:jt,mesAtual:_e,mesNome:ka[ct.getMonth()],tipoCaixa:Re.tipo||"mensal",totalParcelas:Re.duracaoMeses||0};console.log(" Informaes do contemplado:",qt),at(qt)}catch(qe){console.error(" Erro ao buscar informaes do contemplado:",qe),at(null)}finally{Je(!1)}};y.useEffect(()=>{(async()=>{if(console.log(`
 ========================================`),console.log(" VERIFICAO DE SUBCONTA - CARTEIRA"),console.log(" ========================================"),console.log(" Usurio logado:",{_id:a?._id,nome:a?.nome,email:a?.email,cpf:a?.cpf,lytexSubAccountId:a?.lytexSubAccountId}),a?.lytexSubAccountId){console.log(" lytexSubAccountId j existe no contexto:",a.lytexSubAccountId),N(!0);try{const C=await Ea.getMine(),X=C&&C.subconta||null;if(X){console.log(" Subconta completa carregada:",X),yt({_id:X._id,lytexId:X.lytexId,name:X.name,email:X.email,cpfCnpj:X.cpfCnpj,cellphone:X.cellphone,type:X.type,createdAt:X.createdAt,address:X.address,hasCredentials:!!(X.clientId&&X.clientSecret),clientId:X.clientId||void 0,clientSecret:X.clientSecret?"":void 0,nomeCaixa:X.nomeCaixa||void 0,status:X.raw?.status||X.status,onboardingUrl:X.raw?.onboardingUrl||X.raw?.onboarding_url||X.onboardingUrl,upload_docs_reconhecimento_facial:X.upload_docs_reconhecimento_facial||X.raw?.upload_docs_reconhecimento_facial||!1});const Re=X.raw?.status||X.status,_e=X.raw?.onboardingUrl||X.raw?.onboarding_url||X.onboardingUrl,Ye=X.upload_docs_reconhecimento_facial||X.raw?.upload_docs_reconhecimento_facial||!1;if(_e&&!Ye&&(console.log(" Subconta pendente de verificao. Abrindo modal..."),q(_e),se(!0)),rt(Ae=>({...Ae,name:X.name||Ae.name,email:X.email||Ae.email,cpf:X.cpfCnpj||Ae.cpf,createdAt:X.createdAt?Xt(X.createdAt):Ae.createdAt})),a?.tipo==="administrador"||a?.tipo==="master")try{const Ae=a?.tipo==="master"?await kt.getAll():await kt.getByAdmin(a._id),Ge=Array.isArray(Ae)?Ae:Ae?.caixas||[];ft(Ge.map(mt=>({_id:mt._id,nome:mt.nome,status:mt.status,dataFim:mt.dataFim||mt.ultimaParcela})))}catch(Ae){console.log(" Erro ao buscar caixas gerenciados:",Ae?.message)}}}catch(C){console.log(" Erro ao buscar detalhes da subconta:",C?.message)}_(!1);return}try{_(!0);try{console.log(`
 ETAPA 1: Buscando subconta no MongoDB local...`),console.log("   Chamando: subcontasService.getMine()");const C=await Ea.getMine();console.log(" Resposta completa getMine():",C);const X=C&&C.subconta||null;console.log(" Subconta extrada:",X);const Re=X?X.lytexId||X._id:void 0;if(console.log(" ID da subconta:",Re),Re){console.log("[Carteira]  Subconta encontrada no MongoDB local:",Re),N(!0),n({lytexSubAccountId:Re}),yt({_id:X._id,lytexId:X.lytexId,name:X.name,email:X.email,cpfCnpj:X.cpfCnpj,cellphone:X.cellphone,type:X.type,createdAt:X.createdAt,address:X.address,hasCredentials:!!(X.clientId&&X.clientSecret),clientId:X.clientId||void 0,clientSecret:X.clientSecret?"":void 0,nomeCaixa:X.nomeCaixa||void 0,status:X.raw?.status||X.status,onboardingUrl:X.raw?.onboardingUrl||X.raw?.onboarding_url||X.onboardingUrl,upload_docs_reconhecimento_facial:X.upload_docs_reconhecimento_facial||X.raw?.upload_docs_reconhecimento_facial||!1});const _e=X.raw?.status||X.status,Ye=X.raw?.onboardingUrl||X.raw?.onboarding_url||X.onboardingUrl,Ae=X.upload_docs_reconhecimento_facial||X.raw?.upload_docs_reconhecimento_facial||!1;if(Ye&&!Ae&&(console.log(" Subconta pendente de verificao. Abrindo modal..."),q(Ye),se(!0)),rt(Ge=>({...Ge,name:X.name||Ge.name,email:X.email||Ge.email,cpf:X.cpfCnpj||Ge.cpf,createdAt:X.createdAt?Xt(X.createdAt):Ge.createdAt})),a?.tipo==="administrador"||a?.tipo==="master")try{const Ge=a?.tipo==="master"?await kt.getAll():await kt.getByAdmin(a._id),mt=Array.isArray(Ge)?Ge:Ge?.caixas||[];ft(mt.map(it=>({_id:it._id,nome:it.nome,status:it.status}))),console.log(" Caixas gerenciados:",mt.length)}catch(Ge){console.log(" Erro ao buscar caixas gerenciados:",Ge?.message)}_(!1),console.log(`========================================
`);return}console.log(" Nenhuma subconta encontrada no MongoDB local")}catch(C){console.log(" Erro ao buscar subconta no MongoDB local:",C.message),console.log("   Status:",C?.response?.status),console.log("   Data:",C?.response?.data)}if(a?.cpf)try{console.log(`
 ETAPA 2: Verificando CPF ${a.cpf} no Lytex...`);const C=await Ea.checkByCpf(a.cpf);if(console.log(" Resposta checkByCpf:",C),C?.exists){console.log(` Subconta j existe! Location: ${C.location}`),C.location==="lytex"&&console.log("[Carteira] Subconta do Lytex ser sincronizada automaticamente");const X=C.subconta?.lytexId||C.subconta?._id;if(console.log(" ID da subconta encontrada:",X),X){N(!0),n({lytexSubAccountId:X}),_(!1),console.log(`========================================
`);return}}}catch(C){console.log(" Erro ao verificar CPF:",C?.message)}console.log(`
 ========================================`),console.log(" CONCLUSO: Subconta no encontrada"),console.log(" Exibindo formulrio de criao"),console.log(` ========================================
`),N(!1)}catch(C){const X=C?.response?.data?.message||C?.message||"Erro ao verificar subconta";C?.response?.status!==404&&console.warn("[Carteira] Erro ao verificar subconta:",X),N(!1)}finally{_(!1)}})()},[a?.lytexSubAccountId,a?.cpf,n]),y.useEffect(()=>{S&&(Me(),ke(),je(1))},[S,a]),y.useEffect(()=>{a?._id&&He()},[a?._id]),y.useEffect(()=>{a?.tipo==="usuario"&&V()},[a]);const[Xe,dt]=y.useState({});y.useEffect(()=>{(async()=>{if(a?.tipo!=="administrador"&&a?.tipo!=="master"||At.length===0)return;const C={};for(const X of At)if(X.status==="ativo")try{const Ye=((await Wi.getAll({caixaId:X._id,limit:100})).recebimentos||[]).filter(mt=>mt.participanteId);if(Ye.length===0)continue;const Ae=Ye.map(mt=>({nome:mt.recebedorId?.nome||mt.nomeParticipante||"Participante",status:mt.status,pago:mt.status==="concluido"})),Ge=Ae.every(mt=>mt.pago);C[X._id]={caixaNome:X.nome,participantes:Ae,isReady:Ge,allPaid:Ge}}catch(Re){console.error(`Erro ao buscar requisitos para caixa ${X.nome}`,Re)}dt(C)})()},[At,a]);const Dt=()=>{const qe=At.filter(C=>C.dataFim&&C.status==="ativo").map(C=>({nome:C.nome,data:new Date(C.dataFim)})).sort((C,X)=>C.data.getTime()-X.data.getTime())[0];return e.jsxs("div",{className:"space-y-6",children:[a?.tipo==="usuario"&&Ee&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-green-100 rounded-2xl p-3",children:e.jsx(Ll,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:Ee.tipoCaixa==="diario"?`Contemplao prevista aps ${Ee.vencimento}`:Ee.tipoCaixa==="semanal"?`Participante Contemplado na semana ${Ee.mesAtual}/${Ee.totalParcelas}`:`Participante Contemplado em ${Ee.mesNome}`}),e.jsxs("span",{className:"bg-green-500 text-white text-xs font-semibold px-3 py-1 rounded-full flex items-center gap-1",children:[e.jsx(Vs,{className:"w-3 h-3"}),Ee.tipoCaixa==="diario"?`Dia ${String(Ee.mesAtual).padStart(2,"0")}`:Ee.tipoCaixa==="semanal"?`Semana ${String(Ee.mesAtual).padStart(2,"0")}`:`Ms ${String(Ee.mesAtual).padStart(2,"0")}`]})]}),e.jsxs("div",{className:"bg-white/50 rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-green-600 text-sm font-medium mb-2",children:Ee.tipoCaixa==="diario"?Ee.vencimento===new Date().toLocaleDateString("pt-BR")?"Recebe hoje":`Recebe em ${Ee.vencimento}`:"Recebe este ms"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:Ee.participanteNome.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:Ee.participanteNome}),e.jsxs("p",{className:"text-green-600 text-sm",children:["Valor: ",we(Ee.valor),"  Vencimento: ",Ee.vencimento]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3 shadow-sm",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-full text-green-700 mt-0.5",children:e.jsx(Ta,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-green-900 font-bold text-sm uppercase tracking-wide mb-1",children:"Agendamento Confirmado"}),e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:["A transferncia ser realizada automaticamente no dia ",e.jsx("span",{className:"font-bold text-green-700 bg-green-100 px-1 rounded",children:Ee.dataTransferencia}),"."]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Ja,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Comprovante e notificaes sero enviados para ",e.jsx("strong",{className:"text-green-600",children:"todos os participantes"})]})]})]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl p-6 text-white",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Carteira"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:()=>c(!i),className:"text-blue-100 hover:text-white",children:i?e.jsx(ni,{size:20}):e.jsx(pn,{size:20})})})]}),e.jsx(Wt,{size:40,className:"text-blue-300"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-4",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"Saldo Disponvel"}),e.jsx("p",{className:"text-2xl font-bold",children:i?we(Be.balance):"R$ "})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-4",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"Saldo Pendente"}),e.jsx("p",{className:"text-2xl font-bold",children:i?we(Be.pendingBalance):"R$ "}),e.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"Aguardando confirmao"})]}),e.jsxs("div",{className:"bg-[#1e40af]/30 rounded-xl p-4 border border-[#1e40af]/20 backdrop-blur-sm hover:border-[#3b82f6]/40 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"p-1.5 rounded-lg bg-[#059669]/20 text-[#10b981]",children:e.jsx(Wt,{size:16})}),e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Saldo Pago"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:i?we(Be.paidBalance||0):""}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"Total de saques recebidos"})]})]}),H&&e.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-4 mt-4 bg-[#1e40af]/30 rounded-xl p-4 border border-[#1e40af]/20 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"p-1.5 rounded-lg bg-[#3b82f6]/20 text-[#3b82f6]",children:e.jsx(Os,{size:16})}),e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"ltimo Pagamento Realizado"})]}),e.jsx("div",{className:"text-xs text-slate-400 bg-slate-800/50 px-2 py-1 rounded-md",children:H.releasedAt?Xt(H.releasedAt):""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Valor Transferido"}),e.jsx("div",{className:"text-xl font-bold text-white",children:i?we(H.amount):""})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Conta de Destino"}),e.jsxs("div",{className:"text-sm text-slate-200 font-medium flex flex-col gap-0.5",children:[e.jsx("span",{children:H.bankName}),e.jsxs("span",{className:"text-xs text-slate-400",children:["Ag: ",H.agency,"  Conta: ",H.account,"-",H.accountDv]})]})]})]})]})]}),qe?e.jsxs("div",{className:"bg-white/15 backdrop-blur rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:" Prximo Recebimento Previsto"}),e.jsx("p",{className:"text-xl font-bold",children:Xt(qe.data.toISOString())}),e.jsxs("p",{className:"text-blue-200 text-xs mt-1",children:["Caixa: ",qe.nome]})]}):At.length>0?e.jsxs("div",{className:"bg-white/15 backdrop-blur rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:" Recebimento"}),e.jsx("p",{className:"text-sm text-blue-200",children:"A data de recebimento ser definida conforme encerramento dos caixas ativos"})]}):null,A&&e.jsx("div",{className:"mt-3 text-xs bg-red-50/20 border border-red-200/30 text-red-100 rounded-lg p-3 whitespace-pre-line",children:A})]}),(a?.tipo==="administrador"||a?.tipo==="master")&&Object.keys(Xe).length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Requisitos para Contemplao (Admin)"}),Object.keys(Xe).map(C=>{const X=Xe[C];return e.jsxs("div",{className:"bg-white border rounded-2xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"font-bold text-gray-800",children:X.caixaNome}),X.isReady?e.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold border border-green-200",children:"Requisitos Atingidos "}):e.jsx("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-xs font-bold border border-amber-200",children:"Aguardando Requisitos "})]}),e.jsx("div",{className:"space-y-2 mb-4",children:X.participantes.map((Re,_e)=>e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-50 last:border-0 py-2",children:[e.jsx("span",{className:"text-gray-600",children:Re.nome}),e.jsxs("span",{className:Re.pago?"text-green-600 font-medium flex items-center gap-1":"text-amber-500 font-medium flex items-center gap-1",children:[Re.pago?e.jsx(Os,{size:14}):e.jsx(Vs,{size:14}),Re.pago?"OK":"Pendente"]})]},_e))}),e.jsx("div",{className:`p-3 rounded-lg text-sm text-center font-medium ${X.isReady?"bg-green-50 text-green-700":"bg-amber-50 text-amber-700"}`,children:X.isReady?"Parabns, voc est apto para receber a comisso!":"Voc ainda no est apto para receber pelo caixa, aguarde os requisitos serem atendidos."})]},C)})]})]})};if(!a?.contratoAssinado||!a?.cpf){const qe=!a?.cpf,C=!a?.contratoAssinado;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Wt,{className:"text-blue-600"}),"Minha Carteira"]})})})}),e.jsx("div",{className:"max-w-2xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ia,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:qe?"Complete seu Cadastro":"Contrato de Adeso Pendente"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Para acessar a carteira e utilizar todas as funcionalidades do Juntix, voc precisa completar os seguintes passos:"}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8 text-left max-w-sm mx-auto",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-center gap-3 ${qe?"text-amber-600":"text-green-600"}`,children:[qe?e.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:"1"})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Os,{className:"w-4 h-4"})}),e.jsx("span",{className:`font-medium ${qe?"":"line-through"}`,children:"Preencher CPF"})]}),e.jsxs("div",{className:`flex items-center gap-3 ${a?.chavePix?"text-green-600":"text-amber-600"}`,children:[a?.chavePix?e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Os,{className:"w-4 h-4"})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:"2"})}),e.jsx("span",{className:`font-medium ${a?.chavePix?"line-through":""}`,children:"Informar Chave PIX"})]}),e.jsxs("div",{className:`flex items-center gap-3 ${C?"text-amber-600":"text-green-600"}`,children:[C?e.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:"3"})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Os,{className:"w-4 h-4"})}),e.jsx("span",{className:`font-medium ${C?"":"line-through"}`,children:"Aceitar os Termos de Uso"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>o("/contrato#partes-contratantes"),className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-4 rounded-xl font-semibold transition-all shadow-lg hover:shadow-xl",children:[e.jsx(Us,{className:"w-5 h-5"}),e.jsx("span",{children:"Ir para Contrato de Adeso"})]}),e.jsx("button",{onClick:()=>o("/dashboard"),className:"w-full text-gray-600 hover:text-gray-800 px-6 py-3 rounded-xl font-medium transition-colors border border-gray-200 hover:border-gray-300",children:"Voltar para Home"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-500",children:"O contrato garante sua segurana e define os termos de uso da plataforma."})})]})})]})}return S?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Wt,{className:"text-blue-600"}),"Minha Carteira"]})})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>u("overview"),className:`py-4 px-2 border-b-2 font-medium transition-colors ${d==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:"Viso Geral"}),e.jsx("button",{onClick:()=>u("account"),className:`py-4 px-2 border-b-2 font-medium transition-colors ${d==="account"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:"Dados da Conta"})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6",children:[d==="overview"&&e.jsx(Dt,{}),d==="account"&&e.jsx(jD,{usuario:a,subcontaData:ge,accountData:Be,caixasGerenciados:At,hasSubAccount:S,createSubAccountAction:()=>{}})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Sucesso!"}),e.jsx("p",{className:"text-gray-600",children:k})]})})}),e.jsx(ND,{isOpen:Q,onboardingUrl:B,onClose:()=>{se(!1),q(null)}})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Wt,{className:"text-blue-600"}),"Minha Carteira"]})})})}),ze?e.jsx("div",{className:"p-12 flex justify-center items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):F?e.jsx(vD,{usuario:a,updateUsuario:n,onSuccess:()=>{N(!0),u("account"),E("Subconta criada com sucesso! "),D(!0),setTimeout(()=>{D(!1)},2e3)},setOnboardingUrl:q,setShowOnboardingModal:se}):e.jsx("div",{className:"max-w-2xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ia,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Voc precisa ser vinculado a um caixa para continuar."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6 text-left max-w-lg mx-auto",children:[e.jsx("h3",{className:"text-blue-900 font-bold mb-3 flex items-center gap-2",children:" Prximo passo:"}),e.jsx("p",{className:"text-blue-800 mb-2",children:"Entre em contato com o administrador e solicite sua incluso em um caixa."}),e.jsx("p",{className:"text-blue-800 font-medium",children:"Aps isso, voc poder criar sua subconta e acessar sua carteira."})]}),e.jsx("button",{onClick:()=>o("/dashboard"),className:"mt-8 w-full max-w-sm text-gray-600 hover:text-gray-800 px-6 py-3 rounded-xl font-medium transition-colors border border-gray-200 hover:border-gray-300",children:"Voltar para Home"})]})})]})},Zt=a=>typeof a=="object"&&a!==null?a:{},Ct=(a,n="")=>typeof a=="string"?a:a==null?n:String(a),Gr=(a,n=0)=>{const o=typeof a=="number"?a:Number(a);return Number.isFinite(o)?o:n},Cd=a=>!!a,wf=(a,n)=>{const i=Zt(a).message;return typeof i=="string"&&i.trim().length>0?i:n},Sf=a=>{const o=Zt(a).accounts;if(!Array.isArray(o)||o.length===0)return null;const i=Zt(o[0]);return{subrecipientId:Ct(i.subrecipientId),owner:i.owner?Zt(i.owner):void 0,bank:i.bank?Zt(i.bank):void 0,agency:i.agency?Zt(i.agency):void 0,account:i.account?Zt(i.account):void 0}},SD=(a,n,o)=>{if(n===0)return a;const i=o/100;return a*Math.pow(1+i,n)},y2="69379d2f04f6995c13f5d00e",pj="697299aa637c542412bcadb6",Ki={empresa:"ISS SOFTWARE QUALITY SOLUTIONS (CAIXA JUNTO)",cnpj:"39997807000186",lytexId:y2,banco:"104 - CAIXA ECONOMICA FEDERAL",agencia:"3463",conta:"577975287-3"},Ad={banco:"077 - BANCO INTER",agencia:"0001",conta:"9121689-3"};function CD(){const a=Ba(),[n,o]=y.useState([]),[i,c]=y.useState(""),[d,u]=y.useState(null),[f,p]=y.useState(!1),[h,b]=y.useState(null),[g,v]=y.useState(!1),[A,w]=y.useState(""),[S,N]=y.useState(null),[M,_]=y.useState([]),[O,D]=y.useState(null),[k,E]=y.useState(!1),[B,q]=y.useState({}),[Q,se]=y.useState({}),[J,I]=y.useState(""),[te,ie]=y.useState([]),[de,L]=y.useState([]),[ee,Z]=y.useState(""),[oe,ce]=y.useState(""),[P,Y]=y.useState({clientId:"",clientSecret:""}),[he,Se]=y.useState(!1),[Ve,Ze]=y.useState(!1),[H,R]=y.useState(!1),fe=y.useMemo(()=>n.find(F=>F._id===i),[n,i]),{participantesSubcontasStatus:me,loading:Ee}=g2(i,M.map(F=>({_id:F.id,usuarioId:F.usuarioId||F.id})),fe?.adminId||"");y.useEffect(()=>{(async()=>{try{const ze=await kt.getAll(),U=Zt(ze),be=((Array.isArray(ze)?ze:Array.isArray(U.caixas)?U.caixas:[])||[]).filter(ke=>!!Zt(ke)._id).map(ke=>{const je=Zt(ke);return{_id:Ct(je._id),nome:Ct(je.nome),tipo:je.tipo==="semanal"?"semanal":"mensal",valorTotal:Gr(je.valorTotal,0),valorParcela:Gr(je.valorParcela,0)||void 0,taxaServico:Gr(je.taxaServico,0)||void 0,qtdParticipantes:Gr(je.qtdParticipantes,0),duracaoMeses:Gr(je.duracaoMeses,0),diaVencimento:typeof je.diaVencimento=="number"?je.diaVencimento:void 0,dataInicio:typeof je.dataInicio=="string"?je.dataInicio:typeof je.createdAt=="string"?je.createdAt:void 0,status:Ct(je.status),adminId:Ct(je.adminId||je.criadorId)}}).filter(ke=>{const je=ke.status?.toLowerCase();return je==="ativo"||je==="completo"||je==="pausado"||je==="aguardando"});o(be),be.length&&c(be[0]._id);try{const ke=await $d.getAll(),je=Zt(ke),V=(Array.isArray(je.configs)?je.configs:[]).filter(Xe=>Cd(Xe.isConfigured)).map(Xe=>{const dt=Xe.caixaId;return typeof dt=="object"&&dt?._id?Ct(dt._id):Ct(dt)});ie(V)}catch{}}catch(ze){u(wf(ze,"Erro ao carregar caixas"))}})(),(async()=>{try{const ze=await Ws.getAdministradores();L(Array.isArray(ze)?ze:[])}catch(ze){console.error("Erro ao carregar administradores:",ze)}})()},[]),y.useEffect(()=>{i&&(E(!1),N(null),R(!1),I(""),(async()=>{try{const F=await $d.getByCaixa(i),Oe=Zt(F),ze=Oe.config&&typeof Oe.config=="object"?Zt(Oe.config):null;if(ze){const U=ze.dadosBancarios&&typeof ze.dadosBancarios=="object"?Zt(ze.dadosBancarios):null,Me=ze.dadosBancariosFundoReserva&&typeof ze.dadosBancariosFundoReserva=="object"?Zt(ze.dadosBancariosFundoReserva):U,be={_id:Ct(ze._id),taxaServicoSubId:Ct(ze.taxaServicoSubId),fundoReservaSubId:Ct(ze.fundoReservaSubId),adminSubId:Ct(ze.adminSubId),participantesMesOrdem:Array.isArray(ze.participantesMesOrdem)?ze.participantesMesOrdem.map(ke=>Ct(ke)):[],isConfigured:Cd(ze.isConfigured),name:Ct(ze.name),dadosBancarios:U?{banco:Ct(U.banco),agencia:Ct(U.agencia),conta:Ct(U.conta)}:void 0,dadosBancariosFundoReserva:Me?{banco:Ct(Me.banco),agencia:Ct(Me.agencia),conta:Ct(Me.conta)}:void 0,ipcaBase:Gr(ze.ipcaBase,0)||void 0};if(D(be),w(be.adminSubId||""),E(!0),be.ipcaBase&&I(String(be.ipcaBase)),be.adminSubId){console.log(" Buscando info do admin com ID:",be.adminSubId);try{const ke=await qd.getAccounts(be.adminSubId);console.log(" Resposta do admin:",ke);const je=Sf(ke);console.log(" Admin info extrada:",je),N(je)}catch(ke){console.error(" Erro ao buscar admin info:",ke)}}}else D(null)}catch{D(null)}try{const F=await ga.getByCaixa(i),Oe=Zt(F),U=((Array.isArray(F)?F:Array.isArray(Oe.participantes)?Oe.participantes:[])||[]).map(be=>{const ke=Zt(be),je=Zt(ke.usuarioId);return{id:Ct(ke._id),nome:Ct(je.nome||ke.nome),posicao:Gr(ke.posicao,0),subcontaId:Ct(ke.subcontaId||je.subcontaId,""),usuarioId:ke.usuarioId}}).filter(be=>be.id).sort((be,ke)=>(be.posicao||0)-(ke.posicao||0));_(U);const Me={};for(const be of U){const ke=Zt(be.usuarioId),je=ke._id?Ct(ke._id):be.id;try{const He=await Ea.getByUsuarioId(je),V=Zt(He),Xe=Zt(V.subconta);if(Xe&&V.success){const dt=Ct(Xe.clientId),Dt=Ct(Xe.clientSecret);(dt||Dt)&&(Me[je]={clientId:dt,clientSecret:Dt==="***"?"":Dt,saved:!!dt})}}catch{}}q(be=>({...be,...Me}))}catch{}})())},[i]);const at=async F=>{try{b(null);const Oe=await qd.getAccounts(F);N(Sf(Oe))}catch(Oe){b(wf(Oe,"Erro ao carregar subconta do administrador")),N(null)}},Ue=async()=>{if(!(!ee||!oe))try{Se(!0),console.log(" Salvando credenciais do administrador..."),await Ea.updateCredentials(ee,{clientId:P.clientId,clientSecret:P.clientSecret,nomeCaixa:fe?.nome}),oe&&oe!==A&&w(oe),R(!0),console.log(" Credenciais do administrador salvas com sucesso")}catch(F){console.error(" Erro ao salvar credenciais do administrador:",F),b("Erro ao salvar credenciais do administrador")}finally{Se(!1)}},Je=async()=>{oe&&(await at(oe),w(oe),ee&&await Ue())},Be=async()=>{if(i)try{p(!0),b(null),v(!1);const F={taxaServicoSubId:y2,fundoReservaSubId:pj,adminSubId:A||void 0,participantesMesOrdem:M.map(Me=>Me.id),dadosBancariosFundoReserva:Ad,ipcaBase:J?parseFloat(J.replace(",",".")):void 0};console.log(" [Frontend] Salvando payload:",F);const Oe=await $d.saveForCaixa(i,F),ze=Zt(Oe),U=ze.config&&typeof ze.config=="object"?Zt(ze.config):null;if(U){const Me=U.dadosBancariosFundoReserva&&typeof U.dadosBancariosFundoReserva=="object"?Zt(U.dadosBancariosFundoReserva):null;D({_id:Ct(U._id),taxaServicoSubId:Ct(U.taxaServicoSubId),fundoReservaSubId:Ct(U.fundoReservaSubId),adminSubId:Ct(U.adminSubId),participantesMesOrdem:Array.isArray(U.participantesMesOrdem)?U.participantesMesOrdem.map(be=>Ct(be)):[],isConfigured:Cd(U.isConfigured),name:Ct(U.name),dadosBancariosFundoReserva:Me?{banco:Ct(Me.banco),agencia:Ct(Me.agencia),conta:Ct(Me.conta)}:void 0}),Cd(U.isConfigured)&&ie(be=>be.includes(i)?be:[...be,i])}if(v(!0),E(!0),setTimeout(()=>v(!1),3e3),Oe?.config?.adminSubId)try{const Me=await qd.getAccounts(Oe.config.adminSubId);N(Sf(Me))}catch{}}catch(F){b(wf(F,"Erro ao salvar configurao de split"))}finally{p(!1)}},rt=F=>{if(!fe?.dataInicio)return"";const Oe=new Date(fe.dataInicio),ze=new Date(Oe);return fe.tipo==="semanal"?ze.setDate(ze.getDate()+F*7):(ze.setMonth(ze.getMonth()+F),fe.diaVencimento&&ze.setDate(fe.diaVencimento)),`${String(ze.getDate()).padStart(2,"0")}/${String(ze.getMonth()+1).padStart(2,"0")}/${ze.getFullYear()}`},ge=F=>me.find(ze=>ze._id===F),yt=me.filter(F=>F.temSubconta).length,At=(F,Oe,ze)=>{q(U=>({...U,[F]:{...U[F],[Oe]:ze,saved:!1}}))},ft=async F=>{const Oe=B[F];if(!(!Oe||!Oe.clientId&&!Oe.clientSecret))try{se(ze=>({...ze,[F]:!0})),console.log(` Salvando credenciais para usurio ${F}:`,{clientId:Oe.clientId?"***":"N/A",clientSecret:Oe.clientSecret?"***":"N/A",nomeCaixa:fe?.nome}),await Ea.updateCredentials(F,{clientId:Oe.clientId,clientSecret:Oe.clientSecret,nomeCaixa:fe?.nome}),q(ze=>({...ze,[F]:{...ze[F],saved:!0}})),console.log(` Credenciais salvas para ${F}`)}catch(ze){console.error(` Erro ao salvar credenciais para ${F}:`,ze),b(`Erro ao salvar credenciais: ${ze.message}`)}finally{se(ze=>({...ze,[F]:!1}))}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Configurao de Split"}),e.jsx("p",{className:"text-base text-gray-600",children:"Configure os recebedores e ordem de contemplao"})]}),e.jsxs("button",{onClick:()=>a(-1),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(di,{size:20}),"Voltar"]})]}),g&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded-lg flex items-center gap-3",children:[e.jsx(Os,{className:"text-green-600",size:24}),e.jsx("span",{className:"text-green-800 font-medium",children:"Configurao salva com sucesso!"})]}),d&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-lg flex items-center gap-3",children:[e.jsx(ia,{className:"text-red-600",size:24}),e.jsx("span",{className:"text-red-800",children:d})]}),O?.isConfigured&&e.jsxs("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 rounded-lg flex items-center gap-2",children:[e.jsx(ba,{className:"text-green-600",size:20}),e.jsxs("span",{className:"text-green-800 font-medium",children:[" Configurao j salva para este caixa",O.name&&e.jsxs("span",{className:"text-green-600 ml-2",children:["(",O.name,")"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Selecione o Caixa"}),e.jsx("select",{value:i,onChange:F=>c(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:n.map(F=>e.jsxs("option",{value:F._id,children:[F.nome," - ",we(F.valorTotal)," (",F.tipo,")",te.includes(F._id)&&" "]},F._id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Administrador/Gestor do Caixa"}),e.jsxs("select",{value:ee,onChange:async F=>{const Oe=F.target.value;if(Z(Oe),ce(""),N(null),Y({clientId:"",clientSecret:""}),R(!1),Oe)try{console.log(" Buscando subconta do administrador:",Oe);const ze=await Ea.getByUsuarioId(Oe),U=Zt(ze);if(U.success&&U.subconta){const Me=Zt(U.subconta),be=Ct(Me.lytexId),ke=Ct(Me.clientId),je=Ct(Me.clientSecret);console.log(" Subconta encontrada:",{lytexId:be,clientId:ke?"***":"N/A"}),be&&(ce(be),w(be),await at(be)),(ke||je)&&(Y({clientId:ke,clientSecret:je==="***"?"":je}),R(!!ke))}}catch(ze){console.error(" Erro ao buscar subconta do administrador:",ze)}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Selecione um administrador"}),de.map(F=>e.jsxs("option",{value:F._id,children:[F.nome," - ",F.email]},F._id))]})]})]})}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-500 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-bold uppercase text-blue-700 mb-1",children:"Total de Participantes"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:M.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-500 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-bold uppercase text-purple-700 mb-1",children:"Valor Base do Caixa"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:we(fe?.valorTotal||0)})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-500 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-bold uppercase text-green-700 mb-1",children:"Com Subconta Ativa"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[yt,"/",M.length]})]})]}),ee&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-5 mb-4 border-2 border-green-500 relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-bold uppercase rounded-full",children:"Administrador"})}),e.jsx("p",{className:"text-xs font-bold uppercase text-gray-600 mb-3",children:"DADOS DO ADMINISTRADOR/GESTOR"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID do Lytex (lytextid)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Digite o ID da subconta",value:oe,onChange:F=>ce(F.target.value),onBlur:Je,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"}),he&&e.jsx(Wa,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 animate-spin text-green-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Client ID",value:P.clientId,onChange:F=>Y({...P,clientId:F.target.value}),onBlur:Ue,disabled:!oe,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed ${H?"border-green-300 bg-green-50":"border-gray-300"}`}),H&&P.clientId&&e.jsx(ba,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-green-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Secret"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Ve?"text":"password",placeholder:H&&!P.clientSecret?"":"Client Secret",value:P.clientSecret,onChange:F=>Y({...P,clientSecret:F.target.value}),onBlur:Ue,disabled:!oe,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed ${H?"border-green-300 bg-green-50":"border-gray-300"}`}),e.jsx("button",{type:"button",onClick:()=>Ze(!Ve),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:Ve?e.jsx(ni,{size:16}):e.jsx(pn,{size:16})})]}),H&&e.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[e.jsx(ba,{size:12}),"Credenciais salvas"]})]})]}),S&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-1",children:S.owner?.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["CPF/CNPJ: ",S.owner?.cpfCnpj]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Banco:"})," ",S.bank?.code," - ",S.bank?.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Agncia:"})," ",S.agency?.number,"-",S.agency?.dv]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Conta:"})," ",S.account?.type," ",S.account?.number,"-",S.account?.dv]})]})]})}),h&&e.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[e.jsx(ia,{className:"text-red-600 flex-shrink-0",size:18}),e.jsx("span",{className:"text-sm text-red-800",children:h})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-5 border-2 border-blue-500 relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs font-bold uppercase rounded-full flex items-center gap-1",children:[e.jsx(lo,{size:12}),"Taxa Servio"]})}),e.jsx("p",{className:"text-xs font-bold uppercase text-gray-600 mb-3",children:"EMPRESA RESPONSVEL PELA TAXA DE SERVIO"}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:Ki.empresa}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["CNPJ: ",Ki.cnpj]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID Lytex: ",e.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:Ki.lytexId})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Banco"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-700",children:Ki.banco})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Agncia"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-700",children:Ki.agencia})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Conta Corrente"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-700",children:Ki.conta})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-5 border-2 border-amber-500 relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"px-2 py-1 bg-amber-500 text-white text-xs font-bold uppercase rounded-full flex items-center gap-1",children:[e.jsx(YR,{size:12}),"Fundo Reserva"]})}),e.jsx("p",{className:"text-xs font-bold uppercase text-gray-600 mb-3",children:"EMPRESA RESPONSVEL FUNDO DE RESERVA"}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Conta para recebimento do fundo de reserva"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID Lytex: ",e.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:pj})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Banco"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-700",children:Ad.banco})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Agncia"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-700",children:Ad.agencia})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Conta Corrente"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-700",children:Ad.conta})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-5 border-2 border-orange-500 mb-6 relative",children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs font-bold uppercase rounded-full",children:"IPCA Base"})}),e.jsx("h3",{className:"text-sm font-bold uppercase text-gray-600 mb-3 flex items-center gap-2",children:"ndice IPCA Base"}),e.jsxs("div",{className:"max-w-xs",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"IPCA Atual (%)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:J,onChange:F=>{const Oe=F.target.value.replace(/[^0-9.,]/g,"");I(Oe)},placeholder:"Ex: 0,33",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"%"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Utilizado para o clculo mensal dos participantes."})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("button",{onClick:Be,disabled:f||!i,className:`w-full sm:w-auto px-6 py-2.5 rounded-lg font-semibold text-white transition-colors text-sm ${f||!i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:f?"Salvando...":"Salvar Configurao"}),g&&e.jsxs("span",{className:"ml-4 text-green-600 font-medium flex items-center gap-2 inline-flex animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsx(ba,{size:20}),"Configurao salva com sucesso!"]})]}),k&&O&&M.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-4 py-3",children:e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-5 bg-white rounded-full"}),"Ordem de Contemplao e Cronograma"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase",children:"Posio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase",children:"Participante"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase",children:"Status Subconta"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase",children:"Client ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase",children:"Client Secret"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase",children:"Data Prevista"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-gray-600 uppercase",children:"Valor a Receber"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map((F,Oe)=>{const ze=fe?.valorTotal||0,U=J?parseFloat(J.replace(",",".")):0,Me=SD(ze,Oe,U),be=Oe===0?0:(Me/ze-1)*100,ke=ge(F.id),je=typeof F.usuarioId=="object"&&F.usuarioId?._id?F.usuarioId._id:F.id,He=ge(je),V=ke||He;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xs",children:Oe+1})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:F.nome})}),e.jsx("td",{className:"px-4 py-3",children:Ee?e.jsx("span",{className:"text-xs text-gray-500",children:"Verificando..."}):V?.temSubconta?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:[e.jsx(ba,{size:14}),"Com subconta"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:[e.jsx(Bs,{size:14}),"Sem subconta"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Client ID",value:B[je]?.clientId||F.clientId||"",onChange:Xe=>At(je,"clientId",Xe.target.value),onBlur:()=>ft(je),disabled:!V?.temSubconta,className:`w-full px-2 py-1 text-xs border rounded ${V?.temSubconta?B[je]?.saved?"border-green-300 bg-green-50":"border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500":"bg-gray-100 text-gray-400 cursor-not-allowed"}`}),Q[je]&&e.jsx(Wa,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 animate-spin text-blue-500"}),B[je]?.saved&&!Q[je]&&e.jsx(ba,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-green-500"})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",placeholder:"Client Secret",value:B[je]?.clientSecret||F.clientSecret||"",onChange:Xe=>At(je,"clientSecret",Xe.target.value),onBlur:()=>ft(je),disabled:!V?.temSubconta,className:`w-full px-2 py-1 text-xs border rounded ${V?.temSubconta?B[je]?.saved?"border-green-300 bg-green-50":"border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500":"bg-gray-100 text-gray-400 cursor-not-allowed"}`}),Q[je]&&e.jsx(Wa,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 animate-spin text-blue-500"}),B[je]?.saved&&!Q[je]&&e.jsx(ba,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-green-500"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-700 text-sm",children:rt(Oe)}),e.jsxs("td",{className:"px-4 py-3 text-right",children:[e.jsx("div",{className:"font-bold text-base text-gray-900",children:we(Me)}),Oe>0&&e.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["+",be.toFixed(2),"% IPCA"]})]})]},F.id)})})]})})]})]})})}const Js=a=>typeof a=="object"&&a!==null?a:{},Xr=(a,n="")=>typeof a=="string"?a:a==null?n:String(a),Ji=(a,n=0)=>{const o=typeof a=="number"?a:Number(a);return Number.isFinite(o)?o:n},gj=(a,n)=>{const i=Js(a).message;return typeof i=="string"&&i.trim().length>0?i:n};function AD(){const a=Ba(),[n,o]=y.useState([]),[i,c]=y.useState(""),[d,u]=y.useState(1),[f,p]=y.useState(!1),[h,b]=y.useState(null),[g,v]=y.useState(null),[A,w]=y.useState([]),[S,N]=y.useState(0),[M,_]=y.useState(0);y.useEffect(()=>{(async()=>{try{const E=await kt.getAll(),B=Js(E),Q=((Array.isArray(E)?E:Array.isArray(B.caixas)?B.caixas:[])||[]).filter(se=>!!Js(se)._id).map(se=>{const J=Js(se);return{_id:Xr(J._id),nome:Xr(J.nome),tipo:J.tipo==="semanal"?"semanal":"mensal",valorTotal:Ji(J.valorTotal,0),valorParcela:Ji(J.valorParcela,0)||void 0,taxaServico:Ji(J.taxaServico,0)||void 0,qtdParticipantes:Ji(J.qtdParticipantes,0),duracaoMeses:Ji(J.duracaoMeses,0),diaVencimento:typeof J.diaVencimento=="number"?J.diaVencimento:void 0,dataInicio:typeof J.dataInicio=="string"?J.dataInicio:typeof J.createdAt=="string"?J.createdAt:void 0,status:Xr(J.status)}}).filter(se=>{const J=se.status?.toLowerCase();return J==="ativo"||J==="completo"||J==="pausado"});o(Q),Q.length&&(c(Q[0]._id),u(1))}catch(E){b(gj(E,"Erro ao carregar caixas"))}})()},[]);const O=y.useMemo(()=>n.find(k=>k._id===i),[n,i]),D=async()=>{if(i)try{p(!0),b(null);const k=await e3.calculate({caixaId:i,mes:d});v(k)}catch(k){b(gj(k,"Erro ao calcular split")),v(null)}finally{p(!1)}};return y.useEffect(()=>{i&&(D(),(async()=>{try{const k=await ga.getByCaixa(i),E=Js(k),q=((Array.isArray(k)?k:Array.isArray(E.participantes)?E.participantes:[])||[]).map(Q=>{const se=Js(Q),J=Js(se.usuarioId);return{id:Xr(se._id),nome:Xr(J.nome||se.nome),posicao:Ji(se.posicao,0)}}).filter(Q=>Q.id).sort((Q,se)=>(Q.posicao||0)-(se.posicao||0));w(q.map(Q=>({id:Q.id,nome:Q.nome})))}catch{}try{const k=await en.getByCaixaMes(i,d),E=Js(k),q=((Array.isArray(k)?k:Array.isArray(E.pagamentos)?E.pagamentos:Array.isArray(E.data)?E.data:[])||[]).reduce((Q,se)=>{const J=Js(se),I=Xr(J.status).toLowerCase(),te=["aprovado","pago","paid","liquidated","settled","pago_gateway"].includes(I),ie=typeof J.valorParcela=="number"?Number(J.valorParcela):typeof J.valor=="number"?Number(J.valor):0;return Q+(te?ie:0)},0);N(q)}catch{}try{if(d>1){const k=await en.getByCaixaMes(i,d-1),E=Js(k),q=((Array.isArray(k)?k:Array.isArray(E.pagamentos)?E.pagamentos:Array.isArray(E.data)?E.data:[])||[]).reduce((Q,se)=>{const J=Js(se),I=Xr(J.status).toLowerCase(),te=["aprovado","pago","paid","liquidated","settled","pago_gateway"].includes(I),ie=typeof J.valorParcela=="number"?Number(J.valorParcela):typeof J.valor=="number"?Number(J.valor):0;return Q+(te?ie:0)},0);_(q)}else _(0)}catch{}})())},[i,d]),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Split"}),e.jsx(ae,{variant:"secondary",onClick:()=>a(-1),children:"Voltar"})]}),e.jsx(Pe,{className:"mb-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 items-end",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione o Caixa"}),e.jsx("select",{value:i,onChange:k=>c(k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base",children:n.map(k=>e.jsxs("option",{value:k._id,children:[k.nome," - ",we(k.valorTotal)," (",k.tipo,")"]},k._id))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Perodo (",O?.tipo||"mensal",")"]}),e.jsx("select",{value:d,onChange:k=>u(parseInt(k.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:O?.duracaoMeses||0}).map((k,E)=>{const B=E+1,q=B===1?"Primeira":B===(O?.duracaoMeses||0)?"ltima":"Intermediria";return e.jsxs("option",{value:B,children:["Ms ",B," (",q,")"]},B)})})]}),e.jsx("div",{className:"flex md:justify-end",children:e.jsx(ae,{onClick:D,disabled:f,children:"Recalcular"})})]})]})}),(()=>{const k=g?.distribuicao||[],E=g?.valorParcela||0,B=g?.totalArrecadado||0,q=k.find(ee=>ee.chave==="taxa")?.valor||0,Q=k.find(ee=>ee.chave==="fundo_reserva")?.valor||0,se=k.find(ee=>ee.chave==="participante")?.valor||0,J=q+Q,I=O?.duracaoMeses||0,te=`${d}/${I||0}`,ie=O?.qtdParticipantes||0,de=ie>0?Number(O?.valorParcela||(O?.valorTotal||0)/ie):0,L=typeof O?.taxaServico=="number"?O.taxaServico:5;return e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-blue-100/40",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Participantes"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:ie})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ms selecionado"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:te})]})]})}),e.jsx(Pe,{className:"bg-gradient-to-br from-green-50 to-green-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valor do Caixa"}),e.jsx("span",{className:"text-lg font-bold text-green-700",children:we(O?.valorTotal||0)})]})}),e.jsx(Pe,{className:"bg-gradient-to-br from-gray-50 to-gray-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valor da Parcela (base)"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:we(de)})]})}),e.jsx(Pe,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Taxa de Servio"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:we(L)})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(Pe,{className:"bg-gradient-to-br from-gray-50 to-gray-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valor da Parcela com adicionais"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:we(E)})]})}),e.jsx(Pe,{className:"bg-gradient-to-br from-gray-50 to-gray-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Arrecadado"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:we(B)})]})}),e.jsx(Pe,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Fundo de Reserva + Taxa de Servio (Sistema)"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:we(J)})]})}),e.jsx(Pe,{className:"bg-gradient-to-br from-blue-50 to-blue-100/40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Repasse ao Participante"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:we(se)})]})})]})]})})(),e.jsxs(Pe,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Distribuio do Split"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:g?.tipoParcela||""})]}),h&&e.jsx("p",{className:"text-sm text-red-600 mb-2",children:h}),e.jsx("div",{className:"divide-y",children:g?.distribuicao.map(k=>e.jsxs("div",{className:"py-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:k.descricao}),k.recipientId&&e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",k.recipientId]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-blue-700",children:[k.percentual,"%"]}),e.jsx("p",{className:"text-sm text-gray-700",children:we(k.valor)})]})]},k.chave))})]}),(()=>{const k=g?.distribuicao||[],E=k.find(te=>te.chave==="participante")?.percentual||0,B=k.find(te=>te.chave==="participante")?.valor||0,q=Math.round(S*(E/100)*100)/100,Q=Math.round(M*(E/100)*100)/100,se=A[d-1],J=d>1?A[d-2]:void 0,I=B>0?Math.min(100,Math.round(q/B*100)):0;return e.jsxs("div",{className:"mb-6 grid md:grid-cols-4 gap-4 mt-6",children:[e.jsxs(Pe,{className:"md:col-span-2 p-4 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Prximo Contemplado"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Ms ",d]})]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:se?.nome||""}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Repasse alvo: ",we(B)]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Valor acumulado"}),e.jsx("span",{className:"text-sm font-semibold text-green-700",children:we(q)})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full mt-2",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:`${I}%`}})})]})]}),e.jsxs(Pe,{className:"md:col-span-2 p-4 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Contemplado Anterior"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Ms ",d-1]})]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:J?.nome||""}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[e.jsx("span",{children:"Contemplado"}),e.jsx("span",{children:""}),e.jsx("span",{children:we(Q)})]})]})]})})(),e.jsxs(Pe,{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Percentuais do Split"}),(()=>{const k=O?.qtdParticipantes||0,E=O?.duracaoMeses||0,B=O?.valorTotal||0,q=k>0?Number(O?.valorParcela||B/k):0,Q=typeof O?.taxaServico=="number"?O.taxaServico:5,se=.1,J=de=>{if(!k||!E)return null;const L=de===1,ee=de===E,Z=L?q/k:0,oe=ee?B*se/k:0,ce=q+Q+Z+oe;if(ce<=0)return null;const P=Number((Q/ce*100).toFixed(2)),Y=Number((Z/ce*100).toFixed(2)),he=Number((oe/ce*100).toFixed(2));return{pctPart:Number((100-P-Y-he).toFixed(2)),pctTaxa:P,pctFundo:Y,pctAdmin:he}},I=J(1),te=E>2?J(2):J(1),ie=E?J(E):null;return e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ms 1 (Primeira)"}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Participante ",I?`${I.pctPart}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Taxa de Servio ",I?`${I.pctTaxa}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Fundo de Reserva ",I?`${I.pctFundo}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Administrador ",I?`${I.pctAdmin}%`:""]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Intermedirias"}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Participante ",te?`${te.pctPart}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Taxa de Servio ",te?`${te.pctTaxa}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Fundo de Reserva ",te?`${te.pctFundo}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Administrador ",te?`${te.pctAdmin}%`:""]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ms Final (ltima)"}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Participante ",ie?`${ie.pctPart}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Taxa de Servio ",ie?`${ie.pctTaxa}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-800",children:["Administrador ",ie?`${ie.pctAdmin}%`:""]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Fundo de Reserva ",ie?`${ie.pctFundo}%`:""]})]})]})})()]})]})}const bj={boas_vindas:"Boas-vindas",lembrete_pagamento:"Lembrete - Vencimento prximo",confirmacao_pagamento:"Confirmao de Pagamento",alerta_atraso:"Alerta de Atraso",manual:"Manual",cobranca:"Cobrana",caixa_iniciado:"Caixa Iniciado",contemplacao:"Participante Contemplado",cadastro:"Cadastro",onboarding:"Onboarding"},TD={boas_vindas:"bg-purple-100 text-purple-700",lembrete_pagamento:"bg-blue-100 text-blue-700",confirmacao_pagamento:"bg-green-100 text-green-700",alerta_atraso:"bg-red-100 text-red-700",manual:"bg-gray-100 text-gray-700",cobranca:"bg-orange-100 text-orange-700",caixa_iniciado:"bg-emerald-100 text-emerald-700",contemplacao:"bg-yellow-100 text-yellow-700",cadastro:"bg-teal-100 text-teal-700",onboarding:"bg-indigo-100 text-indigo-700"};function ED(){const[a,n]=y.useState([]),[o,i]=y.useState(!0),[c,d]=y.useState(null),[u,f]=y.useState(1),[p,h]=y.useState(1),[b,g]=y.useState(0),[v,A]=y.useState(""),[w,S]=y.useState(""),[N,M]=y.useState(""),[_,O]=y.useState([]),[D,k]=y.useState(null),[E,B]=y.useState(!1),[q,Q]=y.useState(null),[se,J]=y.useState(!1),[I,te]=y.useState(""),[ie,de]=y.useState("todos"),[L,ee]=y.useState(""),[Z,oe]=y.useState(""),[ce,P]=y.useState([]),[Y,he]=y.useState(!1),[Se,Ve]=y.useState([]),[Ze,H]=y.useState(!1),R=[{nome:"Boas-vindas",gatilho:"Ao Iniciar o Caixa",descricao:"Enviada para todos os participantes quando o administrador inicia o caixa (status muda para Ativo)."},{nome:"Cadastro via Convite",gatilho:"Ao Registrar-se com Cdigo",descricao:"Enviada para o participante imediatamente aps o cadastro realizado atravs de um link/cdigo de convite."},{nome:"Onboarding - Passo 1",gatilho:"5 min aps Cadastro",descricao:"Instrues sobre como se habilitar (contrato, dados, termos)."},{nome:"Onboarding - Passo 2",gatilho:"7 min aps Cadastro",descricao:"Instrues sobre verificao de identidade e acesso  carteira."},{nome:"Caixa Iniciado",gatilho:"1 min aps Boas-vindas",descricao:"Informa a ordem de contemplao (posio sorteada) para cada participante. Agendada automaticamente aps o envio das boas-vindas."},{nome:"Envio de Contrato",gatilho:"2 min aps Boas-vindas",descricao:'Envia o arquivo PDF do contrato "Juntix" para assinatura digital.'},{nome:"Envio de Termos",gatilho:"3 min aps Boas-vindas",descricao:"Envia o arquivo PDF dos Termos de Uso da plataforma."},{nome:"Nova Cobrana",gatilho:"Ao Gerar Cobrana",descricao:"Enviada quando um boleto/PIX  gerado pelo sistema (integrao Lytex). Contm link de pagamento, cdigo de barras e QR Code."},{nome:"Lembrete Pr-Vencimento",gatilho:"1 a 5 dias ANTES do vencimento",descricao:"Lembrete dirio automtico (09:00) enviado para o participante com QR Code e cdigo PIX Copia e Cola."},{nome:"Alerta Atraso Leve",gatilho:"0 a 5 dias APS vencimento",descricao:"Alerta dirio automtico (09:00) enviado APENAS para o Administrador informando sobre o atraso do participante."},{nome:"Alerta Atraso Crtico",gatilho:"6 a 30 dias APS vencimento",descricao:"Alerta dirio automtico (09:00) enviado para o Administrador e para TODOS os participantes do grupo, expondo o atraso."},{nome:"Confirmao de Pagamento",gatilho:"Ao Confirmar Pagamento",descricao:"Notifica o grupo quando o pagamento de um participante  confirmado (via webhook ou baixa manual)."}];y.useEffect(()=>{fe()},[]),y.useEffect(()=>{me()},[u,v,w,N]);const fe=async()=>{try{const F=await kt.getAll({limit:100}),Oe=Array.isArray(F)?F:F.caixas||[];O(Oe)}catch(F){console.error("Erro ao carregar caixas:",F)}},me=async()=>{try{i(!0),d(null);const F={page:u,limit:20};v&&(F.tipo=v),w&&(F.status=w),N&&(F.caixaId=N);const Oe=await Ux.getHistorico(F);n(Oe.mensagens),g(Oe.total),h(Oe.pages)}catch(F){d(F.message||"Erro ao carregar histrico de comunicao")}finally{i(!1)}},Ee=F=>F==="enviado"?e.jsx(Mt,{className:"w-5 h-5 text-green-500"}):F==="falha"?e.jsx(Bs,{className:"w-5 h-5 text-red-500"}):e.jsx(Vs,{className:"w-5 h-5 text-amber-500"}),at=F=>F==="enviado"?e.jsx(ot,{variant:"success",size:"sm",children:"Enviado"}):F==="falha"?e.jsx(ot,{variant:"danger",size:"sm",children:"Falha"}):e.jsx(ot,{variant:"warning",size:"sm",children:"Pendente"}),Ue=()=>{A(""),S(""),M(""),f(1)},Je=async F=>{try{Q(F),await Ux.resendMessage(F),await me()}catch(Oe){console.error("Erro ao reenviar mensagem:",Oe),alert(Oe.message||"Erro ao reenviar mensagem")}finally{Q(null)}},Be=async()=>{try{const F=await kt.getAll({limit:100}),ze=(Array.isArray(F)?F:F.caixas||[]).filter(U=>U.status==="ativo");Ve(ze)}catch(F){console.error("Erro ao carregar caixas ativos:",F)}},rt=async F=>{try{const Oe=await ga.getByCaixa(F),ze=Array.isArray(Oe)?Oe:Oe.participantes||[];P(ze)}catch(Oe){console.error("Erro ao carregar participantes:",Oe),P([])}},ge=()=>{Be(),te(""),de("todos"),ee(""),oe(""),P([]),J(!0)},yt=F=>{te(F),ee(""),F?rt(F):P([])},At=async()=>{if(!I||!Z.trim()){alert("Selecione uma caixa e digite uma mensagem");return}if(ie==="participante_especifico"&&!L){alert("Selecione um participante");return}try{he(!0);const F=await Ux.enviarMensagemManual({caixaId:I,mensagem:Z,escopo:ie,participanteId:ie==="participante_especifico"?L:void 0});F.success?(alert(` ${F.enviados} mensagem(ns) agendada(s) para envio com sucesso!`),J(!1),me()):alert(` Erro: ${F.message}`)}catch(F){console.error("Erro ao enviar mensagem manual:",F),alert(F.message||"Erro ao enviar mensagem manual")}finally{he(!1)}},ft=()=>{const Oe="https://api.juntix.com.br".replace(/\/api\/?$/,"")+"/admin/queues";window.open(Oe,"_blank")};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(rh,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Comunicao"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Histrico de mensagens automticas enviadas via WhatsApp"})]})]})}),e.jsxs("div",{className:"flex justify-end mb-6 gap-3",children:[e.jsx(ae,{variant:"primary",className:"bg-blue-600 hover:bg-blue-700 text-white border-none",leftIcon:e.jsx(nh,{className:"w-4 h-4"}),onClick:ft,children:"Monitorar Filas"}),e.jsx(ae,{variant:"secondary",className:"border-red-500 text-red-600 hover:bg-red-50 bg-white",leftIcon:e.jsx(Ov,{className:"w-4 h-4"}),onClick:()=>H(!0),children:"Regras de Disparo"})]}),e.jsxs(Pe,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(VR,{className:"w-5 h-5 text-gray-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caixa"}),e.jsxs("select",{value:N,onChange:F=>{M(F.target.value),f(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os caixas"}),_.map(F=>e.jsx("option",{value:F._id,children:F.nome},F._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Mensagem"}),e.jsxs("select",{value:v,onChange:F=>{A(F.target.value),f(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os tipos"}),e.jsx("option",{value:"boas_vindas",children:"Boas-vindas"}),e.jsx("option",{value:"caixa_iniciado",children:"Caixa Iniciado"}),e.jsx("option",{value:"lembrete_pagamento",children:"Lembrete - Vencimento prximo"}),e.jsx("option",{value:"confirmacao_pagamento",children:"Confirmao de Pagamento"}),e.jsx("option",{value:"alerta_atraso",children:"Alerta de Atraso"}),e.jsx("option",{value:"cobranca",children:"Cobrana Gerada"}),e.jsx("option",{value:"contemplacao",children:"Participante Contemplado"}),e.jsx("option",{value:"cadastro",children:"Cadastro"}),e.jsx("option",{value:"onboarding",children:"Onboarding"}),e.jsx("option",{value:"orientacao",children:"Orientao"}),e.jsx("option",{value:"manual",children:"Manual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:w,onChange:F=>{S(F.target.value),f(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"enviado",children:"Enviado"}),e.jsx("option",{value:"pendente",children:"Pendente"}),e.jsx("option",{value:"falha",children:"Falha"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{variant:"secondary",size:"sm",onClick:Ue,children:"Limpar Filtros"}),e.jsx(ae,{variant:"primary",size:"sm",leftIcon:e.jsx($v,{className:"w-4 h-4"}),onClick:ge,children:"Enviar Mensagem Manual"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[b," ",b===1?"mensagem encontrada":"mensagens encontradas"]})]})]}),o?e.jsx(Pe,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"Carregando histrico..."})]})}):c?e.jsx(Pe,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Bs,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:c}),e.jsx(ae,{onClick:me,className:"mt-4",children:"Tentar Novamente"})]})}):a.length===0?e.jsx(Pe,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem encontrada"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"As mensagens aparecero aqui quando forem disparadas"})]})}):e.jsxs(Pe,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Data/Hora"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Caixa"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Participante"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Tipo"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Aes"})]})}),e.jsx("tbody",{children:a.map(F=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[e.jsx(Ta,{className:"w-4 h-4 text-gray-400"}),Xt(F.dataEnvio||F.createdAt)]}),e.jsx("div",{className:"text-xs text-gray-500 ml-6",children:new Date(F.dataEnvio||F.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.caixaNome})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.participanteNome}),e.jsx("div",{className:"text-xs text-gray-500",children:F.participanteTelefone})]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${TD[F.tipo]||"bg-gray-100 text-gray-700"}`,children:bj[F.tipo]||F.tipo}),F.tipo==="manual"&&F.metadata?.escopo&&e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.metadata.escopo==="participante_especifico"?"bg-blue-50 text-blue-600 border border-blue-200":F.metadata.escopo==="apenas_admins"?"bg-amber-50 text-amber-600 border border-amber-200":"bg-green-50 text-green-600 border border-green-200"}`,children:F.metadata.escopo==="participante_especifico"?" Individual":F.metadata.escopo==="apenas_admins"?" Admins":" Todos"})]})}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Ee(F.status),at(F.status)]}),F.errorMessage&&e.jsx("div",{className:"text-xs text-red-600 mt-1 max-w-xs truncate",children:F.errorMessage})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{variant:"secondary",size:"sm",leftIcon:e.jsx(Us,{className:"w-4 h-4"}),onClick:()=>{k(F),B(!0)},children:"Ver"}),F.status!=="enviado"&&e.jsx(ae,{variant:"primary",size:"sm",leftIcon:e.jsx(oi,{className:`w-4 h-4 ${q===F._id?"animate-spin":""}`}),onClick:()=>Je(F._id),disabled:q===F._id,children:q===F._id?"Enviando...":"Reenviar"})]})})]},F._id))})]})}),p>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[e.jsx(ae,{variant:"secondary",size:"sm",onClick:()=>f(u-1),disabled:u===1,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Pgina ",u," de ",p]}),e.jsx(ae,{variant:"secondary",size:"sm",onClick:()=>f(u+1),disabled:u===p,children:"Prxima"})]})]}),E&&D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh]overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Detalhes da Mensagem"}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Bs,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Caixa"}),e.jsx("p",{className:"text-base text-gray-900 mt-1",children:D.caixaNome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Participante"}),e.jsx("p",{className:"text-base text-gray-900 mt-1",children:D.participanteNome}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.participanteTelefone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),e.jsx("p",{className:"text-base text-gray-900 mt-1",children:bj[D.tipo]||D.tipo})]}),D.tipo==="manual"&&D.metadata?.escopo&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Destinatrio"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium ${D.metadata.escopo==="participante_especifico"?"bg-blue-100 text-blue-700 border border-blue-200":D.metadata.escopo==="apenas_admins"?"bg-amber-100 text-amber-700 border border-amber-200":"bg-green-100 text-green-700 border border-green-200"}`,children:D.metadata.escopo==="participante_especifico"?" Mensagem Individual":D.metadata.escopo==="apenas_admins"?" Apenas Administradores":" Todos os Participantes"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:at(D.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Envio"}),e.jsxs("p",{className:"text-base text-gray-900 mt-1",children:[Xt(D.dataEnvio||D.createdAt)," s"," ",new Date(D.dataEnvio||D.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),D.errorMessage&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-red-600",children:"Erro"}),e.jsx("p",{className:"text-base text-red-700 mt-1 bg-red-50 p-3 rounded-lg",children:D.errorMessage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Contedo da Mensagem"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-900 font-sans",children:D.conteudo})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(ae,{onClick:()=>B(!1),children:"Fechar"})})]})})}),se&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Enviar Mensagem Manual"}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Bs,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caixa *"}),e.jsxs("select",{value:I,onChange:F=>yt(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione uma caixa ativa"}),Se.map(F=>e.jsx("option",{value:F._id,children:F.nome},F._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enviar para"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"escopo",value:"todos",checked:ie==="todos",onChange:()=>de("todos"),className:"text-purple-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Todos os participantes"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"escopo",value:"participante_especifico",checked:ie==="participante_especifico",onChange:()=>de("participante_especifico"),className:"text-purple-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Participante especfico"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"escopo",value:"apenas_admins",checked:ie==="apenas_admins",onChange:()=>de("apenas_admins"),className:"text-purple-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apenas administradores"})]})]})]}),ie==="participante_especifico"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participante *"}),e.jsxs("select",{value:L,onChange:F=>ee(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:!I,children:[e.jsx("option",{value:"",children:I?"Selecione um participante":"Selecione uma caixa primeiro"}),ce.map(F=>e.jsxs("option",{value:F._id,children:[F.usuarioId?.nome||"Participante",F.usuarioId?.tipo==="admin"||F.usuarioId?.tipo==="master"?" (Admin)":""]},F._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem *"}),e.jsx("textarea",{value:Z,onChange:F=>oe(F.target.value),placeholder:"Digite sua mensagem aqui...",rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Z.length," caracteres"]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(ae,{variant:"secondary",onClick:()=>J(!1),disabled:Y,children:"Cancelar"}),e.jsx(ae,{variant:"primary",onClick:At,disabled:Y||!I||!Z.trim(),leftIcon:Y?e.jsx(oi,{className:"w-4 h-4 animate-spin"}):e.jsx($v,{className:"w-4 h-4"}),children:Y?"Enviando...":"Enviar Mensagem"})]})]})})}),Ze&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Ov,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Regras de Disparo Automtico"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Entenda quando cada mensagem  enviada pelo sistema Evolution API"})]})]}),e.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Bs,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"border rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Regra / Tipo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Gatilho"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/2",children:"Descrio"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((F,Oe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(ot,{variant:F.gatilho.includes("ANTES")?"warning":F.gatilho.includes("APS")&&F.gatilho.includes("Crtico")?"danger":"gray",size:"sm",children:F.gatilho})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:F.descricao})]},Oe))})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(ae,{onClick:()=>H(!1),children:"Fechar"})})]})})})]})}function RD(){const a=Ba(),[n,o]=y.useState(!0),[i,c]=y.useState([]),[d,u]=y.useState("todos"),[f,p]=y.useState(!1),[h,b]=y.useState(!1),[g,v]=y.useState(!1),[A,w]=y.useState(!1),[S,N]=y.useState(null),[M,_]=y.useState(""),[O,D]=y.useState(!1),[k,E]=y.useState(""),[B,q]=y.useState(""),[Q,se]=y.useState(!1);y.useEffect(()=>{J()},[]);const J=async()=>{try{o(!0);const P=(await Te.get("/usuarios?tipo=administrador")).data.usuarios.sort((Y,he)=>new Date(he.createdAt).getTime()-new Date(Y.createdAt).getTime());c(P)}catch(ce){console.error("Erro ao carregar administradores:",ce),q("Erro ao carregar administradores. Tente novamente."),w(!0)}finally{o(!1)}},I=async()=>{if(S)try{D(!0),await Te.post(`/usuarios/administradores/${S._id}/aprovar`),await J(),b(!1),E(`${S.nome} foi aprovado com sucesso!`),v(!0),N(null)}catch(ce){b(!1),q(ce.response?.data?.message||"Erro ao aprovar administrador"),w(!0)}finally{D(!1)}},te=async()=>{if(!S||!M.trim()){q("Por favor, informe o motivo da recusa"),w(!0);return}try{D(!0),await Te.post(`/usuarios/administradores/${S._id}/recusar`,{motivoRecusa:M.trim()}),await J(),p(!1),E(`${S.nome} foi recusado.`),v(!0),N(null),_("")}catch(ce){p(!1),q(ce.response?.data?.message||"Erro ao recusar administrador"),w(!0)}finally{D(!1)}},ie=ce=>{N(ce),b(!0)},de=ce=>{N(ce),p(!0),_("")},L=ce=>{N(ce),se(!0)},ee=async()=>{if(S)try{D(!0),await Te.post(`/usuarios/administradores/${S._id}/taxa-adesao/isentar`),await J(),se(!1),E(`${S.nome} foi isento da taxa de adeso!`),v(!0),N(null)}catch(ce){se(!1),q(ce.response?.data?.message||"Erro ao isentar administrador"),w(!0)}finally{D(!1)}},Z=ce=>new Date(ce).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),oe=ce=>{const P=ce.replace(/\D/g,"");return P.length===11?`(${P.substring(0,2)}) ${P.substring(2,7)}-${P.substring(7)}`:ce};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(di,{className:"w-4 h-4"}),onClick:()=>a("/painel-master"),children:"Voltar"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Administradores"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Aprovar ou recusar solicitaes de administradores"})]})]}),!n&&i.length>0&&e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs(ae,{variant:d==="todos"?"primary":"ghost",size:"sm",onClick:()=>u("todos"),children:["Todos (",i.length,")"]}),e.jsxs(ae,{variant:d==="pendente"?"primary":"ghost",size:"sm",onClick:()=>u("pendente"),className:d==="pendente"?"bg-amber-500 hover:bg-amber-600":"",children:["Pendentes (",i.filter(ce=>ce.statusAprovacao==="pendente").length,")"]}),e.jsxs(ae,{variant:d==="aprovado"?"primary":"ghost",size:"sm",onClick:()=>u("aprovado"),className:d==="aprovado"?"bg-green-600 hover:bg-green-700":"",children:["Aprovados (",i.filter(ce=>ce.statusAprovacao==="aprovado").length,")"]}),e.jsxs(ae,{variant:d==="recusado"?"primary":"ghost",size:"sm",onClick:()=>u("recusado"),className:d==="recusado"?"bg-red-600 hover:bg-red-700":"",children:["Recusados (",i.filter(ce=>ce.statusAprovacao==="recusado").length,")"]})]}),n&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Wa,{className:"w-8 h-8 text-primary-500 animate-spin"})}),!n&&i.length===0&&e.jsxs(Pe,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ap,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum administrador cadastrado"}),e.jsx("p",{className:"text-gray-500",children:"No h administradores cadastrados no sistema no momento."})]}),!n&&i.length>0&&e.jsx(Pe,{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefone"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Cadastro"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Taxa Adeso"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.filter(ce=>d==="todos"||ce.statusAprovacao===d).map(ce=>e.jsxs(De.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-semibold",children:ce.nome.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:ce.nome}),ce.statusAprovacao==="pendente"&&e.jsx(ot,{variant:"warning",size:"sm",className:"mt-1",children:"Pendente"}),ce.statusAprovacao==="aprovado"&&e.jsx(ot,{variant:"success",size:"sm",className:"mt-1 bg-green-100 text-green-700",children:"Aprovado"}),ce.statusAprovacao==="recusado"&&e.jsx(ot,{variant:"danger",size:"sm",className:"mt-1",children:"Recusado"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ja,{className:"w-4 h-4 text-gray-400"}),ce.email]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Fa,{className:"w-4 h-4 text-gray-400"}),oe(ce.telefone)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ta,{className:"w-4 h-4 text-gray-400"}),Z(ce.createdAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[ce.taxaAdesao?.status==="pago"&&e.jsxs(ot,{variant:"success",size:"sm",className:"bg-green-100 text-green-700",children:[e.jsx(hn,{className:"w-3 h-3 mr-1"}),"Pago"]}),ce.taxaAdesao?.status==="isento"&&e.jsxs(ot,{variant:"info",size:"sm",className:"bg-blue-100 text-blue-700",children:[e.jsx(iu,{className:"w-3 h-3 mr-1"}),"Isento"]}),(!ce.taxaAdesao?.status||ce.taxaAdesao?.status==="pendente")&&e.jsxs(e.Fragment,{children:[e.jsx(ot,{variant:"danger",size:"sm",className:"bg-red-100 text-red-700",children:"No Pago"}),ce.statusAprovacao==="aprovado"&&e.jsx(ae,{variant:"ghost",size:"sm",className:"text-xs text-blue-600 hover:text-blue-800",onClick:()=>L(ce),disabled:O,children:"Isentar"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ce.statusAprovacao==="pendente"&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{variant:"primary",size:"sm",leftIcon:e.jsx(Mt,{className:"w-4 h-4"}),onClick:()=>ie(ce),disabled:O,className:"bg-green-600 hover:bg-green-700",children:"Aprovar"}),e.jsx(ae,{variant:"danger",size:"sm",leftIcon:e.jsx(Bs,{className:"w-4 h-4"}),onClick:()=>de(ce),disabled:O,children:"Recusar"})]}),ce.statusAprovacao==="aprovado"&&e.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Aprovado"}),ce.statusAprovacao==="recusado"&&e.jsx("span",{className:"text-sm text-red-600 font-medium",children:" Recusado"})]})})]},ce._id))})]})})}),f&&S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ia,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recusar Administrador"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Voc est prestes a recusar ",e.jsx("strong",{children:S.nome})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo da recusa *"}),e.jsx("textarea",{value:M,onChange:ce=>_(ce.target.value),placeholder:"Explique o motivo da recusa...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este motivo ser exibido ao administrador quando ele tentar fazer login."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"ghost",className:"flex-1",onClick:()=>{p(!1),N(null),_("")},disabled:O,children:"Cancelar"}),e.jsx(ae,{variant:"danger",className:"flex-1",onClick:te,isLoading:O,disabled:!M.trim(),children:"Confirmar Recusa"})]})]})}),h&&S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Mt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aprovar Administrador"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Tem certeza que deseja aprovar ",e.jsx("strong",{children:S.nome}),"?"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Aps a aprovao, o administrador poder fazer login no sistema."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"ghost",className:"flex-1",onClick:()=>{b(!1),N(null)},disabled:O,children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:I,isLoading:O,children:"Confirmar Aprovao"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Mt,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sucesso!"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:k}),e.jsx(ae,{variant:"primary",className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>v(!1),children:"OK"})]})})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Bs,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erro"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:B}),e.jsx(ae,{variant:"danger",className:"w-full",onClick:()=>w(!1),children:"Fechar"})]})})}),Q&&S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(iu,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Isentar Taxa de Adeso"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Tem certeza que deseja isentar ",e.jsx("strong",{children:S.nome})," da taxa de adeso de R$ 100,00?"]}),e.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Esta ao no pode ser desfeita."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"ghost",className:"flex-1",onClick:()=>{se(!1),N(null)},disabled:O,children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:ee,isLoading:O,children:"Confirmar Iseno"})]})]})})]})}const yj=[{min:1,max:2,percentual:.05},{min:3,max:5,percentual:.08},{min:6,max:null,percentual:.1}];function MD(){const a=Ba(),[n,o]=y.useState(!0),[i,c]=y.useState([]),[d,u]=y.useState([]),[f,p]=y.useState(!1),[h,b]=y.useState(!1),[g,v]=y.useState(!1),[A,w]=y.useState(!1),[S,N]=y.useState(null),[M,_]=y.useState(!1),[O,D]=y.useState(""),[k,E]=y.useState(""),[B,q]=y.useState("global"),[Q,se]=y.useState(""),[J,I]=y.useState(yj),[te,ie]=y.useState(""),[de,L]=y.useState(!0);y.useEffect(()=>{ee()},[]);const ee=async()=>{try{o(!0);const[R,fe]=await Promise.all([Te.get("/regras-comissao"),Te.get("/usuarios?tipo=administrador")]);c(R.data),u(fe.data.usuarios||[])}catch(R){console.error("Erro ao carregar dados:",R),E("Erro ao carregar dados. Tente novamente."),w(!0)}finally{o(!1)}},Z=()=>{q("global"),se(""),I(yj),ie(""),L(!0),N(null)},oe=()=>{Z(),p(!0)},ce=R=>{N(R),q(R.adminId?"admin":"global"),se(R.adminId?._id||""),I(R.faixas.map(fe=>({...fe}))),ie(R.descricao||""),L(R.ativo),p(!0)},P=R=>{N(R),b(!0)},Y=()=>{const R=J[J.length-1],fe=R?(R.max||R.min)+1:1;I([...J,{min:fe,max:null,percentual:.1}])},he=R=>{J.length>1&&I(J.filter((fe,me)=>me!==R))},Se=(R,fe,me)=>{const Ee=[...J];fe==="percentual"?Ee[R].percentual=Math.min(100,Math.max(0,parseFloat(me)||0))/100:fe==="max"?Ee[R].max=me===""?null:parseInt(me,10):Ee[R].min=parseInt(me,10)||1,I(Ee)},Ve=async()=>{try{_(!0);const R={adminId:B==="admin"?Q:null,faixas:J,descricao:te||void 0,ativo:de};S?(await Te.put(`/regras-comissao/${S._id}`,R),D("Regra de comisso atualizada com sucesso!")):(await Te.post("/regras-comissao",R),D("Regra de comisso criada com sucesso!")),await ee(),p(!1),Z(),v(!0)}catch(R){p(!1),E(R.response?.data?.message||"Erro ao salvar regra de comisso"),w(!0)}finally{_(!1)}},Ze=async()=>{if(S)try{_(!0),await Te.delete(`/regras-comissao/${S._id}`),await ee(),b(!1),D("Regra de comisso removida com sucesso!"),v(!0),N(null)}catch(R){b(!1),E(R.response?.data?.message||"Erro ao remover regra de comisso"),w(!0)}finally{_(!1)}},H=R=>`${(R*100).toFixed(0)}%`;return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(di,{className:"w-4 h-4"}),onClick:()=>a("/painel-master"),children:"Voltar"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Regras de Comisso"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure as taxas de comisso para administradores baseado no nmero de caixas concludos"})]}),e.jsx(ae,{variant:"primary",leftIcon:e.jsx(Ml,{className:"w-4 h-4"}),onClick:oe,children:"Nova Regra"})]}),e.jsx(Pe,{className:"p-4 mb-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ia,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Como funciona:"})," A comisso do administrador  calculada dinamicamente baseado no nmero de caixas que ele concluiu com sucesso. Configure faixas de quantidade de caixas e o percentual correspondente."]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Regras especficas de um admin tm prioridade sobre a regra global. Se nenhuma regra existir, aplica-se 10% como padro."})]})]})}),n&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Wa,{className:"w-8 h-8 text-primary-500 animate-spin"})}),!n&&i.length===0&&e.jsxs(Pe,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(lM,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma regra configurada"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Crie uma regra de comisso para definir as taxas dos administradores."}),e.jsx(ae,{variant:"primary",leftIcon:e.jsx(Ml,{className:"w-4 h-4"}),onClick:oe,children:"Criar Regra"})]}),!n&&i.length>0&&e.jsx("div",{className:"space-y-4",children:i.map(R=>e.jsx(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsxs(Pe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${R.adminId?"bg-purple-100":"bg-green-100"}`,children:R.adminId?e.jsx(ya,{className:"w-5 h-5 text-purple-600"}):e.jsx(Vv,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:R.adminId?R.adminId.nome:"Regra Global"}),e.jsx(ot,{variant:R.ativo?"success":"gray",size:"sm",children:R.ativo?"Ativa":"Inativa"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:R.adminId?`${R.adminId.email}  ${R.adminId.caixasConcluidos||0} caixas concludos`:"Aplica-se a todos os administradores sem regra especfica"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(QN,{className:"w-4 h-4"}),onClick:()=>ce(R),children:"Editar"}),e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(mn,{className:"w-4 h-4 text-red-500"}),onClick:()=>P(R),className:"text-red-500 hover:bg-red-50",children:"Excluir"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:R.faixas.map((fe,me)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:fe.max===null?`${fe.min}+ caixas`:`${fe.min} a ${fe.max} caixas`}),e.jsx("div",{className:"text-2xl font-bold text-primary-600",children:H(fe.percentual)})]},me))}),R.descricao&&e.jsx("p",{className:"text-sm text-gray-500 mt-4 italic",children:R.descricao})]})},R._id))}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:S?"Editar Regra":"Nova Regra de Comisso"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Regra"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{variant:B==="global"?"primary":"ghost",size:"sm",leftIcon:e.jsx(Vv,{className:"w-4 h-4"}),onClick:()=>q("global"),className:B==="global"?"bg-green-600 hover:bg-green-700":"",children:"Global"}),e.jsx(ae,{variant:B==="admin"?"primary":"ghost",size:"sm",leftIcon:e.jsx(ya,{className:"w-4 h-4"}),onClick:()=>q("admin"),className:B==="admin"?"bg-purple-600 hover:bg-purple-700":"",children:"Administrador Especfico"})]})]}),B==="admin"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Administrador"}),e.jsxs("select",{value:Q,onChange:R=>se(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um administrador"}),d.map(R=>e.jsxs("option",{value:R._id,children:[R.nome," (",R.caixasConcluidos||0," caixas)"]},R._id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Faixas de Comisso"}),e.jsx(ae,{variant:"ghost",size:"sm",leftIcon:e.jsx(Ml,{className:"w-4 h-4"}),onClick:Y,children:"Adicionar"})]}),e.jsx("div",{className:"space-y-3",children:J.map((R,fe)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Mn. Caixas"}),e.jsx("input",{type:"number",min:"1",value:R.min,onChange:me=>Se(fe,"min",me.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Mx. Caixas"}),e.jsx("input",{type:"number",min:"1",value:R.max===null?"":R.max,onChange:me=>Se(fe,"max",me.target.value),placeholder:"",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"% Comisso"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.5",value:(R.percentual*100).toFixed(0),onChange:me=>Se(fe,"percentual",me.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),J.length>1&&e.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>he(fe),className:"text-red-500 hover:bg-red-50 p-1",children:e.jsx(mn,{className:"w-4 h-4"})})]},fe))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio (opcional)"}),e.jsx("input",{type:"text",value:te,onChange:R=>ie(R.target.value),placeholder:"Ex: Faixas padro para 2024",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:de,onChange:R=>L(R.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Regra ativa"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"ghost",className:"flex-1",onClick:()=>{p(!1),Z()},disabled:M,children:"Cancelar"}),e.jsx(ae,{variant:"primary",className:"flex-1",onClick:Ve,isLoading:M,disabled:B==="admin"&&!Q,children:S?"Salvar Alteraes":"Criar Regra"})]})]})}),h&&S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ia,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Excluir Regra"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Tem certeza que deseja excluir esta regra de comisso",S.adminId?` para ${S.adminId.nome}`:" global","?"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"ghost",className:"flex-1",onClick:()=>{b(!1),N(null)},disabled:M,children:"Cancelar"}),e.jsx(ae,{variant:"danger",className:"flex-1",onClick:Ze,isLoading:M,children:"Confirmar Excluso"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Mt,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sucesso!"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:O}),e.jsx(ae,{variant:"primary",className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>v(!1),children:"OK"})]})})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Bs,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erro"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:k}),e.jsx(ae,{variant:"danger",className:"w-full",onClick:()=>w(!1),children:"Fechar"})]})})})]})}function PD({visible:a,onClose:n,onConfirm:o,loading:i,recebimento:c}){return!a||!c?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx(ia,{className:"w-6 h-6 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Confirmar Solicitao de Saque"}),e.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Voc est prestes a processar manualmente o saque para:"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Participante:"}),e.jsx("span",{className:"font-medium text-gray-900",children:c.recebedorId?.nome})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Caixa:"}),e.jsx("span",{className:"font-medium text-gray-900",children:c.caixaId?.nome})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Valor:"}),e.jsx("span",{className:"font-bold text-green-600",children:we(c.valorTotal)})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:n,disabled:i,children:"Cancelar"}),e.jsx(ae,{className:"flex-1 bg-amber-600 hover:bg-amber-700",onClick:o,isLoading:i,children:"Confirmar Saque"})]})]})})})}function DD(){const[a,n]=y.useState(!0),[o,i]=y.useState(null),[c,d]=y.useState([]),[u,f]=y.useState({caixaId:"",status:"",search:""}),[p,h]=y.useState([]),[b,g]=y.useState(null),[v,A]=y.useState(!1),[w,S]=y.useState(!1),[N,M]=y.useState(null),_=y.useMemo(()=>{const V=c.filter(dt=>dt.status==="concluido"),Xe=c.filter(dt=>dt.status!=="concluido");return{totalContemplacoes:V.length,totalPago:V.reduce((dt,Dt)=>dt+(Dt.valorTotal||0),0),pendentes:Xe.length,valorPendente:Xe.reduce((dt,Dt)=>dt+(Dt.valorTotal||0),0),valorFundoReserva:N?.valorParcela||0,valorDevolucao:(N?.valorParcela||0)/((N?.qtdParticipantes||0)+1)}},[c,N]);y.useEffect(()=>{B()},[]),y.useEffect(()=>{N&&f(V=>({...V,caixaId:N._id}))},[N]),y.useEffect(()=>{if(u.caixaId&&u.caixaId!==N?._id){const V=p.find(Xe=>Xe._id===u.caixaId);V&&M(V)}},[u.caixaId,p]);const[O,D]=y.useState([]);y.useEffect(()=>{N&&(E(),k())},[N,u.status]);const k=async()=>{if(N)try{const V=await ga.getByCaixa(N._id);D(Array.isArray(V)?V:V.participantes||[])}catch(V){console.error("Erro ao carregar participantes:",V)}},E=async()=>{if(!(!N&&!u.caixaId))try{n(!0);const[V,Xe]=await Promise.all([Wi.getEstatisticas(),Wi.getAll({caixaId:u.caixaId||N._id,status:u.status})]);i(V),d(Xe.recebimentos)}catch(V){console.error("Erro ao carregar dados:",V)}finally{n(!1)}},B=async()=>{try{const V=await kt.getAll();h(V.caixas)}catch(V){console.error("Erro ao carregar caixas:",V)}finally{n(!1)}},q=async()=>{if(b)try{S(!0);const V=await Wi.solicitarSaque(b._id);V.success?(A(!1),g(null),await E(),alert("Solicitao de saque enviada com sucesso!")):alert(`Falha ao solicitar saque: ${V.message||"Erro desconhecido"}`)}catch(V){console.error("Erro ao solicitar saque:",V),alert("Erro ao processar solicitao.")}finally{S(!1)}},Q=c.filter(V=>!u.search||V.recebedorId?.nome.toLowerCase().includes(u.search.toLowerCase())||V.caixaId?.nome.toLowerCase().includes(u.search.toLowerCase())),se=V=>{switch(V){case"concluido":return e.jsx(ot,{variant:"success",children:"Pago"});case"pendente":return e.jsx(ot,{variant:"warning",children:"Pendente"});case"agendado":return e.jsx(ot,{variant:"info",children:"Agendado"});case"processando":return e.jsx(ot,{variant:"warning",children:"Processando"});case"falha":return e.jsx(ot,{variant:"danger",children:"Falha"});default:return e.jsx(ot,{variant:"gray",children:V})}},[J,I]=y.useState(!1),[te,ie]=y.useState(""),de=async()=>{if(!(!N||!te))try{S(!0),await kt.fixContemplacao(N._id,parseInt(te,10)),alert(`Contemplao gerada com sucesso para posio ${te}!`),I(!1),ie(""),await E()}catch(V){console.error("Erro ao gerar contemplao:",V),alert("Erro ao gerar contemplao manual.")}finally{S(!1)}},[L,ee]=y.useState(!1),[Z,oe]=y.useState([]),[ce,P]=y.useState(""),[Y,he]=y.useState([]),[Se,Ve]=y.useState(""),[Ze,H]=y.useState(null);y.useEffect(()=>{R()},[]);const R=async()=>{try{const V=await Ws.getAdministradores();oe(V)}catch(V){console.error("Erro ao carregar administradores:",V)}},fe=async()=>{ee(!0)},me=async V=>{if(P(V),Ve(""),H(null),!V){he([]);return}try{S(!0);const Xe=await kt.getAll({adminId:V});he(Xe.caixas||Xe||[])}catch(Xe){console.error("Erro ao carregar caixas do admin:",Xe),he([])}finally{S(!1)}},Ee=async V=>{if(Ve(V),H(null),!(!V||!ce))try{S(!0);const Xe=Y.find(Dt=>Dt._id===V);if(!Xe)return;const dt=await o1.getComissaoCaixa(ce,Xe.valorTotal);console.log(" Dados de comisso recebidos:",dt),H({valorComissao:dt.valorComissao||0,percentual:(dt.taxaDecimal||0)*100})}catch(Xe){console.error("Erro ao calcular comisso:",Xe);const dt=Y.find(Dt=>Dt._id===V);dt&&H({valorComissao:dt.valorTotal*.1,percentual:10})}finally{S(!1)}},at=async()=>{if(!ce||!Se){alert(" Selecione um administrador e um caixa");return}try{S(!0);const V=await Wi.contemplarAdminManual(ce,Se);V.success?(alert(` ${V.message}
Transao ID: ${V.transacaoId}`),ee(!1),P(""),Ve(""),he([]),H(null),await E()):alert(` ${V.message}`)}catch(V){console.error("Erro ao contemplar admin:",V),alert(` Erro: ${V.response?.data?.message||V.message||"Erro desconhecido"}`)}finally{S(!1)}},[Ue,Je]=y.useState(!1),[Be,rt]=y.useState({subcontaFundoId:"",bankAccountId:"",clientId:"",clientSecret:""}),[ge,yt]=y.useState(0),[At,ft]=y.useState(0),F=async()=>{if(!N||!Be.clientId){alert(" Preencha todos os campos de configurao do fundo");return}try{S(!0);const V=await by.solicitarSaque({caixaId:N._id,...Be});V.success?(yt(V.valorFundo||0),ft(V.taxaComissao||0),alert(` ${V.message}
Valor: R$ ${((V.valorFundo||0)/100).toFixed(2)}
Transao: ${V.transacaoId}`),Je(!1)):alert(` ${V.message}`)}catch(V){console.error("Erro ao solicitar saque do fundo:",V),alert(` Erro: ${V.response?.data?.message||V.message||"Erro desconhecido"}`)}finally{S(!1)}},[Oe,ze]=y.useState(!1),[U,Me]=y.useState(""),[be,ke]=y.useState(""),je="",He=async()=>{if(!N||!U||!be){alert(" Preencha todos os campos");return}try{S(!0);const V=Math.round(parseFloat(be)*100),Xe=await by.gerarCobrancaReposicao({caixaId:N._id,participanteId:U,valorReposicao:V,splitFundoId:je});Xe.success?(alert(` ${Xe.message}`),ze(!1),Me(""),ke("")):alert(` ${Xe.message}`)}catch(V){console.error("Erro ao gerar cobrana de reposio:",V),alert(` Erro: ${V.response?.data?.message||V.message||"Erro desconhecido"}`)}finally{S(!1)}};return a&&!o&&!N?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(V=>e.jsx(ws,{},V))}),e.jsx(ws,{})]}):N?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>M(null),children:e.jsx(su,{className:"w-5 h-5 rotate-180"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:N.nome}),e.jsx("p",{className:"text-gray-500",children:N.descricao||"Gerencie recebimentos e contemplaes"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(ae,{variant:"secondary",onClick:()=>I(!0),className:"text-sm",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Contemplao Manual"]}),e.jsxs(ae,{onClick:fe,className:"bg-purple-600 hover:bg-purple-700 text-sm",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"Gerar Cont. Admin"]}),e.jsxs(ae,{onClick:()=>Je(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-sm",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Saque Fundo"]}),e.jsxs(ae,{onClick:()=>ze(!0),className:"bg-blue-600 hover:bg-blue-700 text-sm",children:[e.jsx(oi,{className:"w-4 h-4 mr-2"}),"Repor Fundo"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(Pe,{className:"bg-white border-l-4 border-l-blue-500",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fundo de Reserva"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:we(_.valorFundoReserva)}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Devoluo: ",we(_.valorDevolucao)]})]}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(hn,{className:"w-5 h-5 text-blue-600"})})]})}),e.jsx(Pe,{className:"bg-white border-l-4 border-l-amber-500",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pagamentos Pendentes"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:we(_.valorPendente)}),e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[_.pendentes," aguardando"]})]}),e.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:e.jsx(Vs,{className:"w-5 h-5 text-amber-600"})})]})}),e.jsx(Pe,{className:"bg-white border-l-4 border-l-green-500",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Pago"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:we(_.totalPago)}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[_.totalContemplacoes," concludos"]})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Mt,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx(Pe,{className:"bg-white border-l-4 border-l-gray-500",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Contemplaes"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:_.totalContemplacoes})]}),e.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:e.jsx(Ta,{className:"w-5 h-5 text-gray-600"})})]})})]}),e.jsxs(Pe,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por participante ou caixa...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500",value:u.search,onChange:V=>f({...u,search:V.target.value})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white",value:u.caixaId,onChange:V=>f({...u,caixaId:V.target.value}),children:[e.jsx("option",{value:"",children:"Todos os Caixas"}),p.map(V=>e.jsx("option",{value:V._id,children:V.nome},V._id))]}),e.jsxs("select",{className:"px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white",value:u.status,onChange:V=>f({...u,status:V.target.value}),children:[e.jsx("option",{value:"",children:"Todos Status"}),e.jsx("option",{value:"pendente",children:"Pendente"}),e.jsx("option",{value:"agendado",children:"Agendado"}),e.jsx("option",{value:"processando",children:"Processando"}),e.jsx("option",{value:"concluido",children:"Pago"}),e.jsx("option",{value:"falha",children:"Falha"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100 text-left",children:[e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase",children:"Caixa"}),e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase",children:"Participante"}),e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase",children:"Ponto"}),e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase",children:"Data Pagamento"}),e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase",children:"Valor"}),e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"pb-3 text-xs font-semibold text-gray-500 uppercase text-right",children:"Aes"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50",children:[Q.map(V=>e.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4",children:e.jsx("span",{className:"font-medium text-gray-900",children:V.caixaId?.nome})}),e.jsx("td",{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:V.recebedorId?.nome}),!V.participanteId&&e.jsx(ot,{variant:"info",className:"bg-blue-100 text-blue-700 border-blue-200",children:"Administrador"})]})}),e.jsx("td",{className:"py-4",children:V.participanteId?e.jsxs("span",{className:"text-gray-600",children:[V.mesReferencia,"/",V.caixaId?.duracaoEmMeses||4]}):e.jsx("span",{className:"text-gray-400 text-xl font-bold",children:""})}),e.jsx("td",{className:"py-4",children:e.jsx("span",{className:"text-gray-600",children:V.dataPagamento?new Date(V.dataPagamento).toLocaleDateString():new Date(V.dataPrevista).toLocaleDateString()})}),e.jsx("td",{className:"py-4",children:e.jsx("span",{className:"font-semibold text-gray-900",children:we(V.valorTotal)})}),e.jsx("td",{className:"py-4",children:se(V.status)}),e.jsxs("td",{className:"py-4 text-right",children:[V.status!=="concluido"&&V.status!=="processando"&&e.jsx(ae,{size:"sm",className:ve("text-white",V.status==="falha"?"bg-red-600 hover:bg-red-700":V.status==="agendado"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"),onClick:()=>{g(V),A(!0)},children:V.status==="falha"?"Tentar Novamente":"Solicitar Saque"}),V.status==="processando"&&e.jsx("span",{className:"text-sm text-amber-600 font-medium",children:"Processando..."}),V.status==="concluido"&&e.jsx("span",{className:"text-sm text-gray-400",children:"Concludo"})]})]},V._id)),Q.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:"Nenhum registro encontrado."})})]})]})})]}),e.jsx(PD,{visible:v,onClose:()=>A(!1),onConfirm:q,loading:w,recebimento:b}),J&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Gerar Contemplao Manual"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Selecione o participante que ser contemplado manualmente."}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-200 rounded-xl mb-6 bg-white",value:te,onChange:V=>ie(V.target.value),children:[e.jsx("option",{value:"",children:"Selecione o participante..."}),O.filter(V=>V.status!=="inativo").sort((V,Xe)=>(V.posicao||999)-(Xe.posicao||999)).map(V=>e.jsxs("option",{value:V.posicao,disabled:!V.posicao,children:[V.posicao?`#${V.posicao} - `:"(S/ Pos) - ",V.usuarioId?.nome||V.nome||"Participante"]},V._id))]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>I(!1),children:"Cancelar"}),e.jsx(ae,{className:"flex-1 bg-amber-600 hover:bg-amber-700",onClick:de,disabled:!te||w,isLoading:w,children:"Gerar"})]})]})})}),L&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx(aa,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Contemplar Administrador"}),e.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Gera saque direto de comisso para um administrador sobre este caixa."}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl mb-6 bg-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:ce,onChange:V=>me(V.target.value),children:[e.jsx("option",{value:"",children:"Selecione o administrador..."}),Z.map(V=>e.jsxs("option",{value:V._id,children:[V.nome," - ",V.email," (",V.tipo,")"]},V._id))]}),ce&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione o Caixa"}),e.jsxs("select",{value:Se,onChange:V=>Ee(V.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl mb-4 bg-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:Y.length===0||w,children:[e.jsx("option",{value:"",children:Y.length===0?"Carregando caixas...":"Selecione o caixa..."}),Y.map(V=>e.jsxs("option",{value:V._id,children:[V.nome," - R$ ",(V.valorTotal||0).toFixed(2)]},V._id))]})]}),Se&&Ze&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-6",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Caixa selecionado:"}),e.jsx("p",{className:"font-medium text-gray-900",children:Y.find(V=>V._id===Se)?.nome}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Valor do caixa: ",we(Y.find(V=>V._id===Se)?.valorTotal||0)]}),e.jsxs("div",{className:"border-t border-gray-200 mt-3 pt-3",children:[e.jsxs("p",{className:"text-sm font-medium text-purple-600",children:["Comisso: ",we(Ze.valorComissao)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Percentual: ",Ze.percentual.toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{ee(!1),P("")},disabled:w,children:"Cancelar"}),e.jsx(ae,{className:"flex-1 bg-purple-600 hover:bg-purple-700",onClick:at,disabled:!Se||w,isLoading:w,children:"Solicitar Contemplao"})]})]})})}),Ue&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx(Wt,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Saque do Fundo de Reserva"}),e.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Retira a comisso acumulada do fundo para a subconta configurada."}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subconta Fundo ID"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500",placeholder:"Subconta ID do fundo",value:Be.subcontaFundoId,onChange:V=>rt({...Be,subcontaFundoId:V.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account ID"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500",placeholder:"Bank Account ID",value:Be.bankAccountId,onChange:V=>rt({...Be,bankAccountId:V.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client ID"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500",placeholder:"Client ID",value:Be.clientId,onChange:V=>rt({...Be,clientId:V.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Secret"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500",placeholder:"Client Secret",value:Be.clientSecret,onChange:V=>rt({...Be,clientSecret:V.target.value})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{Je(!1),rt({subcontaFundoId:"",bankAccountId:"",clientId:"",clientSecret:""})},disabled:w,children:"Cancelar"}),e.jsx(ae,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",onClick:F,disabled:w,isLoading:w,children:"Solicitar Saque"})]})]})})}),Oe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx(oi,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:"Reposio do Fundo"}),e.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Gera cobrana para participante repor valor usado do fundo."}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl mb-4 bg-white focus:ring-2 focus:ring-blue-500",value:U,onChange:V=>Me(V.target.value),children:[e.jsx("option",{value:"",children:"Selecione o participante..."}),O.map(V=>e.jsxs("option",{value:V._id,children:[V.usuarioId?.nome||V.nome||"Participante"," - Posio: ",V.posicao||"S/ Pos"]},V._id))]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor da Reposio (R$)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"0.00",value:be,onChange:V=>ke(V.target.value)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Editvel para incluir juros/multa"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ae,{variant:"secondary",className:"flex-1",onClick:()=>{ze(!1),Me(""),ke("")},disabled:w,children:"Cancelar"}),e.jsx(ae,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:He,disabled:w,isLoading:w,children:"Gerar Cobrana"})]})]})})})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestor de Contemplao"}),e.jsx("p",{className:"text-gray-500",children:"Selecione um caixa para gerenciar"})]}),a&&p.length===0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(V=>e.jsx(ws,{},V))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(V=>e.jsxs(Pe,{className:"cursor-pointer hover:shadow-lg transition-all border-l-4 border-l-primary-500 hover:-translate-y-1 group",onClick:()=>M(V),children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg group-hover:bg-primary-600 transition-colors",children:e.jsx(hn,{className:"w-6 h-6 text-primary-600 group-hover:text-white"})}),e.jsx(ot,{variant:V.status==="ativo"?"success":"gray",children:V.status})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:V.nome}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:V.descricao||"Sem descrio"}),e.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-center text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:[V.tipo,"  ",we(V.valorTotal||0)]}),e.jsx(su,{className:"w-4 h-4 text-primary-500"})]})]},V._id))})]})}const kD="https://api.juntix.com.br";function _D(){const a=Ba(),[n,o]=y.useState(""),[i,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(!1),[h,b]=y.useState(!1),[g,v]=y.useState(!1),[A,w]=y.useState(!1),[S,N]=y.useState(""),[M,_]=y.useState(!1),O=async D=>{if(D.preventDefault(),N(""),_(!1),!n||!i||!d){N("Todos os campos so obrigatrios");return}if(i.length<6){N("A nova senha deve ter no mnimo 6 caracteres");return}if(i!==d){N("As senhas no coincidem");return}if(n===i){N("A nova senha deve ser diferente da senha atual");return}try{w(!0);const k=localStorage.getItem("token");await Yt.patch(`${kD}/auth/change-password`,{senhaAtual:n,novaSenha:i},{headers:{Authorization:`Bearer ${k}`}}),_(!0),o(""),c(""),u(""),setTimeout(()=>{a("/perfil")},2e3)}catch(k){N(k.response?.data?.message||"Erro ao alterar senha. Verifique sua senha atual.")}finally{w(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>a("/perfil"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(di,{className:"w-5 h-5"}),e.jsx("span",{children:"Voltar para Perfil"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:e.jsx(co,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Segurana"}),e.jsx("p",{className:"text-gray-500",children:"Gerencie a segurana da sua conta"})]})]})]}),e.jsxs(Pe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Qr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Alterar Senha"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mantenha sua conta segura com uma senha forte"})]})]}),M?e.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ba,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Senha Alterada!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Sua senha foi alterada com sucesso."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando para o perfil..."})]}):e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{label:"Senha Atual",type:f?"text":"password",placeholder:"Digite sua senha atual",value:n,onChange:D=>o(D.target.value),leftIcon:e.jsx(Qr,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600 transition-colors",style:{width:"44px",height:"44px"},"aria-label":f?"Ocultar senha":"Mostrar senha",children:f?e.jsx(ni,{className:"w-5 h-5"}):e.jsx(pn,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{label:"Nova Senha",type:h?"text":"password",placeholder:"Digite sua nova senha",value:i,onChange:D=>c(D.target.value),leftIcon:e.jsx(Qr,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>b(!h),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600 transition-colors",style:{width:"44px",height:"44px"},"aria-label":h?"Ocultar senha":"Mostrar senha",children:h?e.jsx(ni,{className:"w-5 h-5"}):e.jsx(pn,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{label:"Confirmar Nova Senha",type:g?"text":"password",placeholder:"Digite novamente a nova senha",value:d,onChange:D=>u(D.target.value),leftIcon:e.jsx(Qr,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600 transition-colors",style:{width:"44px",height:"44px"},"aria-label":g?"Ocultar senha":"Mostrar senha",children:g?e.jsx(ni,{className:"w-5 h-5"}):e.jsx(pn,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Dicas para uma senha forte:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Mnimo de 6 caracteres"}),e.jsx("li",{children:" Use letras maisculas e minsculas"}),e.jsx("li",{children:" Inclua nmeros e caracteres especiais"}),e.jsx("li",{children:" Evite informaes pessoais bvias"})]})]}),S&&e.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 text-red-700 text-sm rounded-xl flex items-center gap-2",children:[e.jsx(ia,{className:"w-4 h-4 flex-shrink-0"}),S]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(ae,{type:"button",variant:"ghost",onClick:()=>a("/perfil"),className:"flex-1",children:"Cancelar"}),e.jsx(ae,{type:"submit",variant:"primary",className:"flex-1",isLoading:A,children:"Alterar Senha"})]})]})]}),e.jsxs(Pe,{className:"p-6 mt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informaes de Segurana"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(co,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suas informaes esto protegidas"}),e.jsx("p",{className:"text-gray-500",children:"Utilizamos criptografia de ponta para proteger seus dados"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Altere sua senha regularmente"}),e.jsx("p",{className:"text-gray-500",children:"Recomendamos trocar sua senha a cada 3 meses"})]})]})]})]})]})})}function zD(){const a=Ba(),{usuario:n,recarregarUsuario:o}=Da(),[i,c]=y.useState(!0),[d,u]=y.useState(!1),[f,p]=y.useState(null),[h,b]=y.useState(!1),[g,v]=y.useState(null);y.useEffect(()=>{n?._id&&A()},[n?._id]);const A=async()=>{try{c(!0);const M=await Te.get(`/usuarios/administradores/${n?._id}/taxa-adesao/status`);p(M.data)}catch(M){console.error("Erro ao carregar status:",M),p({status:"pendente"})}finally{c(!1)}},w=async()=>{try{u(!0),v(null);const M=await Te.post(`/usuarios/administradores/${n?._id}/taxa-adesao/gerar`);p({...f,status:"pendente",linkBoleto:M.data.linkBoleto,linkCheckout:M.data.linkCheckout,pixQrCode:M.data.pixQrCode,pixCopiaECola:M.data.pixCopiaECola})}catch(M){console.error("Erro ao gerar fatura:",M),v(M.response?.data?.message||"Erro ao gerar fatura. Tente novamente.")}finally{u(!1)}},S=async()=>{f?.pixCopiaECola&&(await navigator.clipboard.writeText(f.pixCopiaECola),b(!0),setTimeout(()=>b(!1),3e3))},N=()=>{f?.linkBoleto&&window.open(f.linkBoleto,"_blank")};return y.useEffect(()=>{(f?.status==="pago"||f?.status==="isento")&&o().then(()=>{setTimeout(()=>a("/dashboard"),1500)})},[f?.status,a,o]),i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Wa,{className:"w-8 h-8 text-primary-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):f?.status==="pago"||f?.status==="isento"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 px-4",children:e.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Mt,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:f.status==="pago"?"Taxa de Adeso Paga!":"Voc est Isento!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:f.status==="pago"?"Obrigado! Sua taxa de adeso foi confirmada.":`Voc foi isento da taxa por ${f.isentoPorNome||"um administrador master"}.`}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando para o painel..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(De.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(co,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Taxa de Adeso Juntix"}),e.jsx(ot,{variant:"warning",size:"sm",children:"R$ 100,00 - Pagamento nico"})]}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(Pe,{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ia,{className:"w-5 h-5 text-amber-500"}),"Por que cobramos essa taxa?"]}),e.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[e.jsxs("p",{children:["Como administrador, voc tem a ",e.jsx("strong",{children:"responsabilidade de recrutar e selecionar participantes confiveis e adimplentes do seu crculo de relacionamento"})," para participar dos seus caixas. Cada participante que cria uma subconta financeira gera um custo de ",e.jsx("strong",{children:"R$ 10,00"})," para a Juntix (pagamos ao gatway de pagamentos para realizar o reconhecimento facial, validao de documentos, etc. e adequar as boas prticas do mercado)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Participantes que no seguem at o fim do caixa ou que so inadimplentes geram prejuzos para a plataforma."})," Por isso, cobramos esta taxa de adeso nica de ",e.jsx("strong",{children:"R$ 100,00"})," para criar um senso de responsabilidade e comprometimento com a gesto do caixa."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Importante:"})," Para receber sua comisso como administrador, o caixa precisa ser completado com sucesso. Portanto, escolha seus participantes com critrio e acompanhe a evoluo do grupo atentamente."]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"font-medium text-blue-900 mb-2",children:" O que a taxa cobre:"}),e.jsxs("ul",{className:"space-y-1 text-blue-800",children:[e.jsxs("li",{children:[" Custo dos ",e.jsx("strong",{children:"10 primeiros participantes"})," do seu caixa"]}),e.jsx("li",{children:" Acesso completo  plataforma para criar quantos caixas desejar"}),e.jsx("li",{children:" Participantes adicionais so cobertos pela Juntix"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"font-medium text-green-900 mb-3",children:" Benefcios para voc:"}),e.jsxs("div",{className:"bg-white rounded-md p-4 mb-3 border border-green-100",children:[e.jsx("p",{className:"text-sm font-medium text-green-900 mb-3 text-center",children:"Comisso por caixa completado:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"5%"}),e.jsx("div",{className:"text-gray-600 text-xs",children:"1 a 2 caixas"})]}),e.jsxs("div",{className:"text-center p-2 bg-green-100 rounded border border-green-300",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"8%"}),e.jsx("div",{className:"text-gray-600 text-xs",children:"3 a 5 caixas"})]}),e.jsxs("div",{className:"text-center p-2 bg-green-200 rounded border border-green-400",children:[e.jsx("div",{className:"text-2xl font-bold text-green-800 mb-1",children:"10%"}),e.jsx("div",{className:"text-gray-600 text-xs",children:"6+ caixas"})]})]})]}),e.jsxs("ul",{className:"space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:" Gerencie mltiplos caixas simultaneamente"}),e.jsx("li",{children:" Tudo  automatizado, sua responsabilidade na prtica aps o recrutamente  cobrar os participantes em caso de inadimplncia"})]})]})]})]})}),e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(Pe,{className:"mb-6 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx(aa,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Taxa de Adeso"}),e.jsx("p",{className:"text-4xl font-bold text-green-600 mb-4",children:"R$ 100,00"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Pagamento nico  Pix ou Boleto"}),g&&e.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm",children:g}),!f?.linkBoleto&&e.jsx(ae,{variant:"primary",size:"lg",className:"w-full bg-green-600 hover:bg-green-700",onClick:w,isLoading:d,leftIcon:e.jsx(Xa,{className:"w-5 h-5"}),children:"Gerar Boleto / PIX"}),f?.linkBoleto&&e.jsxs("div",{className:"space-y-4",children:[f.pixCopiaECola&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:" Pagar com PIX"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:f.pixCopiaECola.substring(0,40)+"...",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50"}),e.jsx(ae,{variant:h?"primary":"secondary",size:"sm",onClick:S,leftIcon:h?e.jsx(Os,{className:"w-4 h-4"}):e.jsx(XN,{className:"w-4 h-4"}),children:h?"Copiado!":"Copiar"})]})]}),e.jsx(ae,{variant:"secondary",size:"lg",className:"w-full",onClick:N,leftIcon:e.jsx(zR,{className:"w-5 h-5"}),children:"Visualizar QR CODE - PIX ou BOLETO"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Aps o pagamento, aguarde alguns minutos para a confirmao automtica.",e.jsx("br",{}),"Em caso de dvidas, entre em contato com o suporte."]})]})]})})}),e.jsxs(De.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Enquanto a taxa no for paga, voc poder acessar apenas a pgina inicial."}),e.jsx(ae,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>a("/dashboard"),children:"Voltar para Home"})]})]})})}function OD({children:a}){const{isAuthenticated:n,isLoading:o}=Da();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-500",children:"Carregando..."})]})}):n?e.jsx(e.Fragment,{children:a}):e.jsx($l,{to:"/login",replace:!0})}function vj({children:a}){const{isAuthenticated:n,isLoading:o}=Da();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):n?e.jsx($l,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:a})}function Zi({children:a}){const{usuario:n}=Da();if(!n||n.tipo!=="administrador")return e.jsx(e.Fragment,{children:a});const o=n.taxaAdesao?.status;return o!=="pago"&&o!=="isento"?e.jsx($l,{to:"/taxa-adesao",replace:!0}):e.jsx(e.Fragment,{children:a})}function BD(){return e.jsxs(ES,{children:[e.jsx(Kt,{path:"/login",element:e.jsx(vj,{children:e.jsx(RP,{})})}),e.jsx(Kt,{path:"/registro",element:e.jsx(vj,{children:e.jsx(MP,{})})}),e.jsx(Kt,{path:"/esqueci-senha",element:e.jsx(DP,{})}),e.jsxs(Kt,{element:e.jsx(OD,{children:e.jsx(EP,{})}),children:[e.jsx(Kt,{path:"/dashboard",element:e.jsx(zP,{})}),e.jsx(Kt,{path:"/taxa-adesao",element:e.jsx(zD,{})}),e.jsx(Kt,{path:"/caixas",element:e.jsx(Zi,{children:e.jsx(LP,{})})}),e.jsx(Kt,{path:"/caixas/novo",element:e.jsx(Zi,{children:e.jsx(un,{allow:["administrador","master"],children:e.jsx(rD,{})})})}),e.jsx(Kt,{path:"/caixas/:id",element:e.jsx(Zi,{children:e.jsx(sD,{})})}),e.jsx(Kt,{path:"/participantes",element:e.jsx(Zi,{children:e.jsx(un,{allow:["administrador","master"],children:e.jsx(oD,{})})})}),e.jsx(Kt,{path:"/contrato",element:e.jsx(pD,{})}),e.jsx(Kt,{path:"/carteira",element:e.jsx(Zi,{children:e.jsx(wD,{})})}),e.jsx(Kt,{path:"/painel-master/split",element:e.jsx(un,{allow:["master"],children:e.jsx(CD,{})})}),e.jsx(Kt,{path:"/painel-master/split/gerenciar",element:e.jsx(un,{allow:["master"],children:e.jsx(AD,{})})}),e.jsx(Kt,{path:"/painel-master/comunicacao",element:e.jsx(un,{allow:["master"],children:e.jsx(ED,{})})}),e.jsx(Kt,{path:"/painel-master/administradores",element:e.jsx(un,{allow:["master"],children:e.jsx(RD,{})})}),e.jsx(Kt,{path:"/painel-master/comissoes",element:e.jsx(un,{allow:["master"],children:e.jsx(MD,{})})}),e.jsx(Kt,{path:"/painel-master/contemplacao",element:e.jsx(un,{allow:["master"],children:e.jsx(DD,{})})}),e.jsx(Kt,{path:"/perfil",element:e.jsx(fj,{})}),e.jsx(Kt,{path:"/seguranca",element:e.jsx(_D,{})}),e.jsx(Kt,{path:"/notificacoes",element:e.jsx(dD,{})}),e.jsx(Kt,{path:"/pagamentos",element:e.jsx(Zi,{children:e.jsx(un,{allow:["administrador","master"],children:e.jsx(mD,{})})})}),e.jsx(Kt,{path:"/configuracoes",element:e.jsx(fj,{})}),e.jsx(Kt,{path:"/painel-master",element:e.jsx(un,{allow:["master"],children:e.jsx(fD,{})})})]}),e.jsx(Kt,{path:"/",element:e.jsx($l,{to:"/dashboard",replace:!0})}),e.jsx(Kt,{path:"*",element:e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[e.jsx("h1",{className:"text-6xl font-bold text-gray-200 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Pgina no encontrada"}),e.jsx("a",{href:"/dashboard",className:"btn btn-primary",children:"Voltar ao incio"})]})})]})}function LD(){return e.jsx(ZS,{children:e.jsx(a3,{children:e.jsx(s3,{children:e.jsx(m5,{reCaptchaKey:"6Ld_VVosAAAAAJ6G8aLZ4yG6szQh-7h_hPPgBgNz",scriptProps:{async:!1,defer:!1,appendTo:"head",nonce:void 0},children:e.jsx(BD,{})})})})})}function un({children:a,allow:n}){const{usuario:o}=Da();return!o||!n.includes(o.tipo)?e.jsx($l,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:a})}D4.createRoot(document.getElementById("root")).render(e.jsx(jj.StrictMode,{children:e.jsx(LD,{})}));
